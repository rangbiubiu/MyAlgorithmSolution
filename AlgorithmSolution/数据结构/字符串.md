# ç›®å½•

[TOC]



## ğŸ’›æ€»ç»“é¢˜å‹

æ•°ç»„å¡«å……ï¼šå‰‘æŒ‡Offer 05.æ›¿æ¢ç©ºæ ¼ã€

åè½¬å­—ç¬¦ä¸²ï¼šlc541ã€lc557ã€lc151ã€å‰‘æŒ‡58-II

KMPï¼šlc28ï¼Œlc459

> ä¹‹åå†è¡¥ä¸Šã€‚

## :fire:[394. å­—ç¬¦ä¸²è§£ç ](https://leetcode.cn/problems/decode-string/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚

ç¼–ç è§„åˆ™ä¸º: `k[encoded_string]`ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ `encoded_string` æ­£å¥½é‡å¤ `k` æ¬¡ã€‚æ³¨æ„ `k` ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚

ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚

æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° `k` ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ `3a` æˆ– `2[4]` çš„è¾“å…¥ã€‚ 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "3[a]2[bc]"
è¾“å‡ºï¼š"aaabcbc"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "3[a2[c]]"
è¾“å‡ºï¼š"accaccacc"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "2[abc]3[cd]ef"
è¾“å‡ºï¼š"abcabccdcdcdef"
```

**ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼šs = "abc3[cd]xyz"
è¾“å‡ºï¼š"abccdcdcdxyz"
```

**æç¤ºï¼š**

- `1 <= s.length <= 30`
- `s` ç”±å°å†™è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œæ–¹æ‹¬å· `'[]'` ç»„æˆ
- `s` ä¿è¯æ˜¯ä¸€ä¸ª **æœ‰æ•ˆ** çš„è¾“å…¥ã€‚
- `s` ä¸­æ‰€æœ‰æ•´æ•°çš„å–å€¼èŒƒå›´ä¸º `[1, 300]` 

### å‚è€ƒé¢˜è§£

1. [YouLookDeliciousC](https://leetcode.cn/problems/decode-string/solutions/6274/ti-jie-czhan-by-youlookdeliciousc)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åŒæ ˆ  **:star:==

**:key:  keyï¼š**

- ç”¨ä¸¤ä¸ªæ ˆ. å°†æ•°å­—æ ˆæ ˆé¡¶å¼¹å‡º, è¿™æ ·å°±çŸ¥é“æ˜¯å°†å¤šå°‘ä¸ªencoded_string +=åˆ°res
- éå†
    1. é‡åˆ°æ•°å­—, è®¡ç®—num, ä¹‹ååœ¨é‡åˆ°[æ—¶å°†å…¶å­˜å…¥numSt
    2. é‡åˆ°å­—ç¬¦, å°†å…¶å°¾åŠ åˆ°res (å½“å‰æ­£åœ¨å¤„ç†çš„encoded_string)
    3. é‡åˆ°[ , è¯´æ˜è¦å¼€å§‹ä¸€ä¸ªæ–°çš„encoded_stringäº†. å°†å‰é¢çš„æ•°å­—numå­˜å…¥numSt, å¹¶æŠŠnumç½®0; æŠŠæŠŠå‰é¢çš„ä¸€éƒ¨åˆ†å­—ç¬¦ä¸²reså­˜åˆ°stringSt, å°†resç½®ç©º
    4. é‡åˆ°] , è¯´æ˜è¦è§£ä¸€ä¸ªencoded_stringäº†. pop numSt, å°†reså°¾åŠ åˆ°stringSt.top(),timesæ¬¡, ç„¶åå¼¹å‡ºstringStæ ˆé¡¶å°†å…¶èµ‹ç»™res


**:x: careless | ignore :**

- åˆæŠŠ`'a' <= ch && ch <= 'z'`å†™æˆ`'a' <= ch <= 'z'`äº†ï¼ˆæ‰¶é¢..ï¼‰

### ä»£ç 

```c++
class Solution {
public:
    string decodeString(string s) {
        // ç”¨ä¸¤ä¸ªæ ˆ. å°†æ•°å­—æ ˆæ ˆé¡¶å¼¹å‡º, è¿™æ ·å°±çŸ¥é“æ˜¯å°†å¤šå°‘ä¸ªencoded_string +=åˆ°res
        // æ¯é‡åˆ°ä¸€ä¸ª'[' , å°±è¯´æ˜è¦å¼€å§‹ä¸€ä¸ªæ–°çš„encoded_stringäº†
        // æ¯é‡åˆ°ä¸€ä¸ª']', å°±è¯´æ˜è¦è§£ä¸€ä¸ªencoded_stringäº† 
        stack<string> stringSt;
        stack<int> numSt;

        string res = ""; // å§‹ç»ˆè¡¨ç¤ºå½“å‰æ­£åœ¨å¤„ç†çš„encoded_string
        int num = 0;
          
        for (auto& ch : s) {
            // 1.é‡åˆ°æ•°å­—, è®¡ç®—num, ä¹‹ååœ¨é‡åˆ°[æ—¶å°†å…¶å­˜å…¥numSt
            // 2.é‡åˆ°å­—ç¬¦, å°†å…¶å°¾åŠ åˆ°res (å½“å‰æ­£åœ¨å¤„ç†çš„encoded_string)
            // 3.é‡åˆ°[ , è¯´æ˜è¦å¼€å§‹ä¸€ä¸ªæ–°çš„encoded_stringäº†. å°†å‰é¢çš„æ•°å­—numå­˜å…¥numSt, å¹¶æŠŠnumç½®0; æŠŠå‰é¢çš„ä¸€éƒ¨åˆ†å­—ç¬¦ä¸²reså­˜åˆ°stringSt, å°†resç½®ç©º
            // 4.é‡åˆ°] ,  è¯´æ˜è¦è§£ä¸€ä¸ªencoded_stringäº†. pop numSt, å°†reså°¾åŠ åˆ°stringSt.top(),timesæ¬¡, ç„¶åå¼¹å‡ºstringStæ ˆé¡¶å°†å…¶èµ‹ç»™res
            if (isdigit(ch)) {
                num = num * 10 + ch - '0'; 
            } else if ('a' <= ch && ch <= 'z') {
                // åˆå†™æˆ'a' <= ch <= 'z'äº†!!
                res += ch;
            } else if (ch == '[') {
                numSt.push(num);    num = 0;
                stringSt.push(res); res = "";
            } else {
                int times = numSt.top(); numSt.pop();
                while (times--) {
                    stringSt.top() += res;
                }
                res = stringSt.top(); stringSt.pop();
                //ä¹‹åè‹¥è¿˜æ˜¯å­—æ¯ï¼Œå°±ä¼šç›´æ¥åŠ åˆ°resä¹‹åï¼Œå› ä¸ºå®ƒä»¬æ˜¯åŒä¸€çº§çš„è¿ç®—
                //è‹¥æ˜¯å·¦æ‹¬å·ï¼Œresä¼šè¢«å‹å…¥strsæ ˆï¼Œä½œä¸ºä¸Šä¸€å±‚çš„è¿ç®—
            }
        }
        return res;
    }
};
```

### å¤æ‚åº¦åˆ†æ

è®°è§£ç åå¾—å‡ºçš„å­—ç¬¦ä¸²é•¿åº¦ä¸º S

- æ—¶é—´å¤æ‚åº¦ï¼šO(S)  ã€‚é™¤äº†éå†ä¸€æ¬¡åŸå­—ç¬¦ä¸² s ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å°†è§£ç åçš„å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½å…¥æ ˆï¼Œå¹¶æœ€ç»ˆæ‹¼æ¥è¿›ç­”æ¡ˆä¸­ï¼Œæ•…æ¸è¿›æ—¶é—´å¤æ‚åº¦ä¸º O(S+âˆ£sâˆ£)ï¼Œå³ O(S) ã€‚ 
- ç©ºé—´å¤æ‚åº¦ï¼šè®°è§£ç åå¾—å‡ºçš„å­—ç¬¦ä¸²é•¿åº¦ä¸º Sï¼Œè¿™é‡Œç”¨æ ˆç»´æŠ¤ TOKENï¼Œæ ˆçš„æ€»å¤§å°æœ€ç»ˆä¸ S ç›¸åŒï¼Œæ•…æ¸è¿›ç©ºé—´å¤æ‚åº¦ä¸º O(S)ã€‚

## :fire:[415. å­—ç¬¦ä¸²ç›¸åŠ ](https://leetcode.cn/problems/add-strings/)

### é¢˜æ„

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„éè´Ÿæ•´æ•° `num1` å’Œ`num2` ï¼Œè®¡ç®—å®ƒä»¬çš„å’Œå¹¶åŒæ ·ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ã€‚

ä½ ä¸èƒ½ä½¿ç”¨ä»»ä½•å…§å»ºçš„ç”¨äºå¤„ç†å¤§æ•´æ•°çš„åº“ï¼ˆæ¯”å¦‚ `BigInteger`ï¼‰ï¼Œ ä¹Ÿä¸èƒ½ç›´æ¥å°†è¾“å…¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å½¢å¼ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnum1 = "11", num2 = "123"
è¾“å‡ºï¼š"134"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnum1 = "456", num2 = "77"
è¾“å‡ºï¼š"533"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnum1 = "0", num2 = "0"
è¾“å‡ºï¼š"0"
```

 **æç¤ºï¼š**

- `1 <= num1.length, num2.length <= 104`
- `num1` å’Œ`num2` éƒ½åªåŒ…å«æ•°å­— `0-9`
- `num1` å’Œ`num2` éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶

### ä»£ç 

```c++
string addStrings(string num1, string num2) {
/*
    ä»åå¾€å‰éå†ä¸¤å­—ç¬¦ä¸², æ¯æ¬¡è®¡ç®—ä¸¤ä½çš„å’Œ, å°†è®¡ç®—ç»“æœå°¾åŠ åˆ°res, æœ€åä¸¤å­—ç¬¦ä¸²éƒ½å¤„ç†å®Œæ—¶, ç¿»è½¬æ•´ä¸ªç»“æœå­—ç¬¦ä¸²
*/ 
    int i = num1.size() - 1;
    int j = num2.size() - 1;
    int carry = 0; //è¿›ä½
    string res = ""; // åˆå§‹åŒ–ç»“æœå­—ç¬¦ä¸²
    // ä¸ºä»€ä¹ˆä¸èƒ½å†™æˆ while (i-- || j-- || carry != 0)ï¼Ÿå› ä¸º||åªè¦ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶å°±ä¸ä¼šæ‰§è¡Œåé¢çš„
    // ä¸ºä»€ä¹ˆä¸èƒ½å†™æˆ while (i || j || carry != 0)ï¼Ÿå› ä¸ºé0éƒ½ä¸ºtrue, å³ä½¿å‡è‡³-1å¾ªç¯æ¡ä»¶ä¹Ÿä¸ºtrue
    while (i >= 0 || j >= 0 || carry) {
        int val1 = i >= 0 ? num1[i--] - '0' : 0;
        int val2 = j >= 0 ? num2[j--] - '0' : 0;
        int bitsum = (val1 + val2 + carry) % 10;
        carry = (val1 + val2 + carry) / 10;
        res += bitsum + '0' ;//å°†å½“å‰ä½çš„æ•°å­—å°¾åŠ åˆ°res
    }
    reverse(res.begin(), res.end());//ç¿»è½¬ç»“æœå­—ç¬¦ä¸²
    return res;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(max(len1, len2))  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1). å­˜æ”¾ç­”æ¡ˆçš„stringä¸ç”¨ç®—è¿›å»

## :fire:[43. å­—ç¬¦ä¸²ç›¸ä¹˜](https://leetcode.cn/problems/multiply-strings/)

### é¢˜æ„

ç»™å®šä¸¤ä¸ªä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„éè´Ÿæ•´æ•° `num1` å’Œ `num2`ï¼Œè¿”å› `num1` å’Œ `num2` çš„ä¹˜ç§¯ï¼Œå®ƒä»¬çš„ä¹˜ç§¯ä¹Ÿè¡¨ç¤ºä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚

**æ³¨æ„ï¼š**ä¸èƒ½ä½¿ç”¨ä»»ä½•å†…ç½®çš„ BigInteger åº“æˆ–ç›´æ¥å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•°ã€‚ 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: num1 = "2", num2 = "3"
è¾“å‡º: "6"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: num1 = "123", num2 = "456"
è¾“å‡º: "56088"
```

**æç¤ºï¼š**

- `1 <= num1.length, num2.length <= 200`
- `num1` å’Œ `num2` åªèƒ½ç”±æ•°å­—ç»„æˆã€‚
- `num1` å’Œ `num2` éƒ½ä¸åŒ…å«ä»»ä½•å‰å¯¼é›¶ï¼Œé™¤äº†æ•°å­—0æœ¬èº«ã€‚

### å‚è€ƒé¢˜è§£

1. [æ—å°é¹¿](https://leetcode.cn/problems/multiply-strings/solutions/906663/zi-fu-chuan-mo-ni-zui-tong-su-yi-dong-de-ru8u) ä¼˜åŒ–ç«–å¼ 
2. [breezean ](https://leetcode.cn/problems/multiply-strings/solutions/29100/you-hua-ban-shu-shi-da-bai-994-by-breezean) æ™®é€šç«–å¼

è¿™é¢˜ç›´æ¥çœ‹ä¸Šé¢çš„é¢˜è§£1å³å¯ï¼Œä¸å†å¤šå†™äº†ã€‚

### æ³•ä¸€

æ™®é€šç«–å¼

```cpp
string multiply(string num1, string num2) {
    int m = num1.size();
    int n = num2.size();
    // ç»“æœæœ€å¤šä¸º m + n ä½æ•°
    vector<int> res(m + n, 0);
    // ä»ä¸ªä½æ•°å¼€å§‹é€ä½ç›¸ä¹˜
    for (int i = m - 1; i >= 0; i--)
        for (int j = n - 1; j >= 0; j--) {
            int mul = (num1[i]-'0') * (num2[j]-'0');
            // ä¹˜ç§¯åœ¨ res å¯¹åº”çš„ç´¢å¼•ä½ç½®
            int p1 = i + j, p2 = i + j + 1;
            // å åŠ åˆ° res ä¸Š
            int sum = mul + res[p2];
            res[p2] = sum % 10;
            res[p1] += sum / 10;
        }
    // ç»“æœå‰ç¼€å¯èƒ½å­˜çš„ 0ï¼ˆæœªä½¿ç”¨çš„ä½ï¼‰
    int i = 0;
    while (i < res.size() && res[i] == 0) {
        i++;
    }
    // å°†è®¡ç®—ç»“æœè½¬åŒ–æˆå­—ç¬¦ä¸²
    string str;
    for (; i < res.size(); i++)
        str.push_back('0' + res[i]);
    
    return str.size() == 0 ? "0" : str;
}
```

### æ³•äºŒ

ä¼˜åŒ–ç«–å¼ 

```cpp
class Solution {
public:
    string multiply(string num1, string num2) {
        int n = num1.size();
        int m = num2.size();
        vector<int> A, B;
        // ä¸ºä»€ä¹ˆè¦é€†åºå­˜(ä½æ•°ä½çš„åœ¨æ•°ç»„å‰é¢)ï¼Ÿ
        // å› ä¸ºåé¢æˆ‘ä»¬forå¾ªç¯è®¡ç®—æ¯ä¸€ä½çš„ç»“æœéƒ½æ˜¯ä»i=0å¼€å§‹çš„ï¼Œä¸ºäº†æ–¹ä¾¿è®¡ç®—ã€‚
        // ä¸é€†åºå­˜ä¹Ÿå¯ä»¥ï¼Œåé¢è®¡ç®—ä»ä¸¤æ•°ç»„æœ«å°¾å¾€å‰è®¡ç®—å³å¯ã€‚
        for (int i = n - 1; i >= 0; i -- ) A.push_back(num1[i] - '0');
        for (int i = m - 1; i >= 0; i -- ) B.push_back(num2[i] - '0');
        vector<int> C(n + m);
        // è®©A[i]ä¸B[j]ç›¸ä¹˜
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < m; ++j) {
                C[i + j] += A[i] * B[j]; 
            }
        }
        // å¤„ç†è¿›ä½
        int carry = 0;
        for (int i = 0; i < C.size(); ++i) {
            int sum = C[i] + carry; 
            C[i] = sum % 10; //C[i]>9å’Œ<=9çš„æƒ…å†µå¯ä»¥åˆå¹¶ 
            carry = sum / 10;
        }
        // å°†æ•°ç»„ä¸­çš„æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼
        // å…ˆå»é™¤å‰å¯¼0ï¼ˆå› ä¸ºCä¸­æ˜¯é€†åºå­˜çš„æ•°å­—ï¼Œå› æ­¤æŒ‰æ‰€å¤„ä½ç½®æ¥è¯´å…¶å®æ˜¯åç½®0ï¼‰
        int k = C.size() - 1;
        // å¾ªç¯æ¡ä»¶ä¸èƒ½æ˜¯>=, å› ä¸ºå¦‚æœk==0æ—¶C[k]ä»ä¸º0, åˆ™è¯´æ˜num1="0"ä¸”num2="0",è¿™ç§æƒ…å†µansä¹Ÿåº”="0"è€Œä¸æ˜¯ä¸ºç©º
        while (k > 0 && C[k] == 0) {
            k--;
        }
        // ä¸‹æ ‡0~ké0, k+1å¾€åä¸ºå‰å¯¼0 
        string ans;
        while (k >= 0) {
            ans += C[k--] + '0';
        }
        return ans;
    }
};
```



## [541. åè½¬å­—ç¬¦ä¸² II](https://leetcode.cn/problems/reverse-string-ii/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k`ï¼Œä»å­—ç¬¦ä¸²å¼€å¤´ç®—èµ·ï¼Œæ¯è®¡æ•°è‡³ `2k` ä¸ªå­—ç¬¦ï¼Œå°±åè½¬è¿™ `2k` å­—ç¬¦ä¸­çš„å‰ `k` ä¸ªå­—ç¬¦ã€‚

- å¦‚æœå‰©ä½™å­—ç¬¦å°‘äº `k` ä¸ªï¼Œåˆ™å°†å‰©ä½™å­—ç¬¦å…¨éƒ¨åè½¬ã€‚
- å¦‚æœå‰©ä½™å­—ç¬¦å°äº `2k` ä½†å¤§äºæˆ–ç­‰äº `k` ä¸ªï¼Œåˆ™åè½¬å‰ `k` ä¸ªå­—ç¬¦ï¼Œå…¶ä½™å­—ç¬¦ä¿æŒåŸæ ·ã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šs = "abcdefg", k = 2
è¾“å‡ºï¼š"bacdfeg"
```

### æ€è·¯

**:x: careless | ignore :**

- end()æ˜¯æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®
- ä¸€èˆ¬è‡ªå¸¦çš„åº“å‡½æ•°åŒºé—´éƒ½æ˜¯å·¦é—­å³å¼€

### ä»£ç 

##### (1) è‡ªå·±å®ç°reverse

```c++
void reverse(string& s, int l, int r) {
    for (; l < r; ++l, --r) swap(s[l], s[r]);
}
string reverseStr(string s, int k) {
    int l = 0, r = 0, len = s.size();
    while (l < len) {
        //è®¡ç®—[l,len-1]ä¹‹é—´çš„å…ƒç´ æ•°æ˜¯å¦è¿˜å¤Ÿkä¸ª
        if (len - l <= k) { //ä¸å¤Ÿï¼Œå‰©ä¸‹çš„å…¨åè½¬
            reverse(s, l, len - 1);
            //reverse()ä¹Ÿå¯ä»¥å†™æˆ:
            //r = len - 1;
            //while (l < r) swap(s[l++], s[r--]);
            break;
        }
        //å¤Ÿï¼Œåè½¬å‰kä¸ªå…ƒç´ 
        int tmp = l;
        reverse(s, l, l + k - 1);
        //reverse()ä¹Ÿå¯ä»¥å†™æˆ:
        //r = l + k - 1;
        //while (l < r) swap(s[l++], s[r--]);
        l = tmp + 2 * k; 
    }
    return s;
}
```

##### (2) ç›´æ¥è°ƒç”¨åº“å‡½æ•°

```c++
string reverseStr(string s, int k) {
    for (int i = 0; i < s.size(); i += 2*k) {
        //å¦‚æœ[i,s.size())ä¹‹é—´çš„å…ƒç´ ä¸ªæ•°ä¸å¤Ÿkä¸ªï¼Œå…¨åè½¬äº†
        if (s.size() - i <= k) reverse(s.begin() + i, s.end());
        //å¤Ÿï¼Œåªåè½¬å‰kä¸ª
        else reverse(s.begin() + i, s.begin() + k + i);
    }
    // æˆ–å†™æˆï¼š
    for (auto iter = s.begin(); iter < s.end(); iter += 2 * k) 
        reverse(iter, min(s.end(), iter + k));
    return s;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [557. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯ III](https://leetcode.cn/problems/reverse-words-in-a-string-iii/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œä½ éœ€è¦åè½¬å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„å­—ç¬¦é¡ºåºï¼ŒåŒæ—¶ä»ä¿ç•™ç©ºæ ¼å’Œå•è¯çš„åˆå§‹é¡ºåºã€‚

- `s` ä¸åŒ…å«ä»»ä½•å¼€å¤´æˆ–ç»“å°¾ç©ºæ ¼ã€‚
- `s` é‡Œ **è‡³å°‘** æœ‰ä¸€ä¸ªè¯ã€‚
- `s` ä¸­çš„æ‰€æœ‰å•è¯éƒ½ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šs = "Let's take LeetCode contest"
è¾“å‡ºï¼š"s'teL ekat edoCteeL tsetnoc"
```

**ç¤ºä¾‹ 2:**

```cpp
è¾“å…¥ï¼š s = "Mr Ding"
è¾“å‡ºï¼š"rM gniD"
```

### æ€è·¯

easyä½†æ˜¯ä¸€å®šè¦æ³¨æ„ä¸‹æ ‡è¶Šç•Œçš„é—®é¢˜ï¼è¿˜æœ‰æ—¶é—´å¤æ‚åº¦çš„åˆ†æã€‚

### ä»£ç 

```c++
string reverseWords(string s) {
    int l = 0, r = 0;
    while (l < s.size()) {
        //æ³¨æ„ä¸‹æ ‡è¶Šç•Œçš„é—®é¢˜ï¼
        while (r < s.size() && s[r] != ' ') ++r;
        int start = r + 1;
        reverse(s.begin() + l, s.begin() + r);//åè½¬å•è¯
        l = start;
        r = start;
    }
    return s;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

    æœ€å¤–å±‚å¾ªç¯éå†ä¸€æ¬¡æ•´ä¸ªæ•°ç»„æ˜¯O(n)ï¼Œå†…éƒ¨reverseçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(æœ€é•¿å•è¯é•¿åº¦)ï¼Œå› ä¸ºåªæ˜¯ç¿»è½¬ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œä¸ä¼šéšç€nçš„å¢å¤§è€Œå¢å¤§ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n)

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [å‰‘æŒ‡Offer 05.æ›¿æ¢ç©ºæ ¼](https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/description/)

### é¢˜æ„

:  è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆ"%20"ã€‚

```c++
ç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šs = "We are happy."
è¾“å‡ºï¼š"We%20are%20happy."
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šæ‰©å®¹ + åŒæŒ‡é’ˆ + å€’åºéå†**:star:==

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆè¦æ‰©å®¹?
2. ä¸ºä»€ä¹ˆè¦å€’åºéå†æ›¿æ¢ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. ==å¾ˆå¤šã€æ•°ç»„å¡«å……ã€‘çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥å…ˆç»™æ•°ç»„æ‰©å®¹åˆ°å¡«å……åçš„å¤§å°ï¼Œç„¶åå†ä»åå‘å‰è¿›è¡Œæ“ä½œã€‚==è¿™ä¹ˆåšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š

    - ä¸ç”¨ç”³è¯·æ–°æ•°ç»„ã€‚
    - ä»åå‘å‰å¡«å……å…ƒç´ ï¼Œé¿å…äº†ä»å‰å‘åå¡«å……å…ƒç´ æ—¶ï¼Œæ¯æ¬¡æ·»åŠ å…ƒç´ éƒ½è¦å°†æ·»åŠ å…ƒç´ ä¹‹åçš„æ‰€æœ‰å…ƒç´ å‘åç§»åŠ¨çš„é—®é¢˜ã€‚

2. â€‹    å¦‚æœæ˜¯ä»å‰å¾€åéå†ï¼Œé‚£ä¹ˆæ¯éå†åˆ°ä¸€ä¸ª' 'å°±éœ€è¦å°†å…¶ä¹‹åæ‰€æœ‰çš„å…ƒç´ å…¨éƒ¨åç§»ä»¥æ·»åŠ å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦O(n^2^)ï¼Œè€Œä¸”ä¹Ÿä¸å¥½ç”¨åŒæŒ‡é’ˆï¼›

    â€‹    ä½†å¦‚æœä»åå¾€å‰éå†ï¼Œé‚£ä¹ˆæ¯éå†åˆ°ä¸€ä¸ª' 'ä¸éœ€è¦åç§»å…¶ä¹‹åæ‰€æœ‰å…ƒç´ ï¼Œç›´æ¥ç”¨æŒ‡å‘æ‰©å®¹æ•°ç»„æœ«å°¾çš„ r ç»™æ‰©å®¹åçš„ä½ç½®èµ‹å€¼ã€‚

**:small_red_triangle_down: steps: **

1.  å…ˆæ‰©å®¹åˆ°å¡«å……åçš„å¤§å°
2.  å†å€’åºéå†æ›¿æ¢ ( l ä»åå¾€å‰éå†--éå†æ—§æ•°ç»„ï¼Œr æ ¹æ® l èµ‹å€¼--éå†æ‰©å®¹åçš„æ•°ç»„)
    1. l é‡åˆ°é' 'å­—ç¬¦å°±å°†å…¶æ‹·è´åˆ°rightçš„ä½ç½® (æ‹·è´åç§»)
    2. l é‡åˆ°' 'åˆ™rightä»åå¾€å‰ç»™ä¸‰ä¸ªä½ç½®èµ‹å€¼ä¸º'0''2''%'

### ä»£ç 

```c++
string replaceSpace(string s) {
	int oldlen = s.size(), cnt = 0;
    // 1. æ‰©å®¹åˆ°å¡«å……åçš„å¤§å°
    for (char c : s) {
		if (c == ' ') ++cnt;
    }
    s.resize(oldlen + cnt * 2);
    // 2. å€’åºéå†æ›¿æ¢
    int l = oldlen - 1, r = s.size() - 1;
    while (l < r) { 
        if (s[l] != ' ') s[r--] = s[l--];//æ‹·è´åç§»
        else { //æ›¿æ¢
            --l;
            s[r--] = '0';
            s[r--] = '2'; 
            s[r--] = '%'; 
        }    
    }
    return s;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n) 

    å› ä¸ºlå’ŒråŒæ—¶å·¦ç§»ï¼Œå®ƒä¿©çš„éå†åŒæ—¶è¿›è¡Œï¼Œè€ŒéåµŒå¥—è¿›è¡Œ

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

    ç”±äºæ˜¯åŸåœ°æ‰©å±• s é•¿åº¦ï¼Œå› æ­¤ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´ã€‚

## [27.ç§»é™¤å…ƒç´ ](https://leetcode.cn/problems/remove-element/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `nums` å’Œä¸€ä¸ªå€¼ `val`ï¼Œä½ éœ€è¦ **[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)** ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº `val` çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ `O(1)` é¢å¤–ç©ºé—´å¹¶ **[åŸåœ° ](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)ä¿®æ”¹è¾“å…¥æ•°ç»„**ã€‚

å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,2,2,3], val = 3
è¾“å‡ºï¼š2, nums = [2,2]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°è¿”å›çš„æ–°é•¿åº¦ä¸º 2 ï¼Œè€Œ nums = [2,2,3,3] æˆ– nums = [2,2,0,0]ï¼Œä¹Ÿä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,1,2,2,3,0,4,2], val = 2
è¾“å‡ºï¼š5, nums = [0,1,3,0,4]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

**æç¤ºï¼š**

- `0 <= nums.length <= 100`
- `0 <= nums[i] <= 50`
- `0 <= val <= 100`

### ä»£ç 

åŒæŒ‡é’ˆé€†å‘ï¼Œäº¤æ¢/è·³è¿‡ã€‚

æœ‰ä¸¤ä¸ªç»†èŠ‚éœ€è¦æ³¨æ„ï¼š

1. ç‰¹åˆ¤
2. è¿”å›å€¼è¦è€ƒè™‘æ¸…æ¥š

```c++
int removeElement(vector<int>& nums, int val) {
    // æ³¨æ„çœ‹é¢˜ç›®æç¤ºä¸­è¯´num.size()å¯ä»¥ä¸º0ï¼ï¼å› æ­¤å¿…é¡»ç‰¹åˆ¤
    if (nums.size() == 0) return 0;
    
    int left = 0, right = nums.size() - 1;
    while (left < right) {
        if (nums[left] == val) swap(nums[left],nums[right--]);
        else left++;//ä¸ç­‰åˆ™è·³è¿‡
    } 
    return nums[left] == val ? left : left + 1;
}
```

## 

## :fire:[151. åè½¬å­—ç¬¦ä¸²ä¸­çš„å•è¯](https://leetcode.cn/problems/reverse-words-in-a-string/)

### é¢˜æ„

: å·²çŸ¥ `s` ä¸­æ¯ä¸ª å•è¯ éƒ½è‡³å°‘ç”±ä¸€ä¸ªç©ºæ ¼åˆ†éš”ä¸”`s` ä¸­ è‡³å°‘å­˜åœ¨ä¸€ä¸ªå•è¯ï¼Œè¿”å›å•è¯**é¡ºåºé¢ å€’**ä¸”å•è¯é—´ç”¨**å•ä¸ªç©ºæ ¼**è¿æ¥åçš„å­—ç¬¦ä¸²ã€‚

**æ³¨æ„ï¼š**è¾“å…¥å­—ç¬¦ä¸² `s`ä¸­å¯èƒ½ä¼šå­˜åœ¨å‰å¯¼ç©ºæ ¼ã€å°¾éšç©ºæ ¼æˆ–è€…å•è¯é—´çš„å¤šä¸ªç©ºæ ¼ã€‚è¿”å›çš„ç»“æœå­—ç¬¦ä¸²ä¸­ä¸åº”åŒ…å«ä»»ä½•é¢å¤–çš„ç©ºæ ¼ã€‚

**è¿›é˜¶ï¼š**å¦‚æœå­—ç¬¦ä¸²åœ¨ä½ ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€ä¸­æ˜¯ä¸€ç§å¯å˜æ•°æ®ç±»å‹ï¼Œè¯·å°è¯•ä½¿ç”¨ `O(1)` é¢å¤–ç©ºé—´å¤æ‚åº¦çš„ **åŸåœ°** è§£æ³•ã€‚

```c++
è¾“å…¥ï¼šs = "  hello world  "
è¾“å‡ºï¼š"world hello"
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å¿«æ…¢æŒ‡é’ˆ+ ä¸¤æ¬¡åè½¬    **:star:==

**:key:  keyï¼š**

- æ­¤é¢˜å…³é”®æ˜¯ç§»é™¤ç©ºæ ¼çš„é€»è¾‘ï¼
- ä¸ºä»€ä¹ˆ1.2å’Œ1.3ä¸èƒ½äº’æ¢ï¼Ÿ
    å› ä¸ºå¦‚æœå…ˆæ‹·è´è¦†ç›–å•è¯å†æ·»ç©ºæ ¼ï¼Œé‚£ä¹ˆå½“æœ€åä¸€ä¸ªå•è¯æ‹·è´è¦†ç›–å®Œæ¯•åï¼Œslowå°±æŒ‡å‘äº†è¿™ä¸ªå•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œä¹Ÿå³ç»“æœsçš„é•¿åº¦ï¼Œç„¶åå†æ‰§è¡Œ1.3å°±ä¼šå¤šæ·»åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œæ­¤æ—¶slow++ä¼šä½¿å¾—ä¹‹åresizeæ—¶é•¿åº¦æ¯”æ­£ç¡®é•¿åº¦è¿˜å¤šä¸€ã€‚

### ç‰ˆæœ¬1

**:small_red_triangle_down: steps: **

1. ç§»é™¤å¤šä½™ç©ºæ ¼ï¼Œå¹¶resize():star:

2. åè½¬æ•´ä¸ªå­—ç¬¦ä¸²

3. åè½¬å•è¯

#### ä»£ç 

æ­¥éª¤å¯ä»¥æ˜¯ 123 ä¹Ÿå¯ä»¥æ˜¯ 231

```c++
class Solution {
public:
string reverseWords(string s) {
    // 1.ç§»é™¤å¤šä½™ç©ºæ ¼
    for (int slow = 0, fast = 0;; fast < s.size(); ++fast) {
        // 1.1 é‡åˆ°ç©ºæ ¼å°±è·³è¿‡
        if (s[fast] == ' ') continue;
        // 1.2 åœ¨å•è¯é—´æ·»åŠ ç©ºæ ¼
        if (slow != 0) s[slow++] = ' ';
        // 1.3 å°†å•è¯æ‹·è´è¦†ç›–åˆ°å‰é¢
        while (fast < s.size() && s[fast] != ' ') s[slow++] = s[fast++];  
    }
    // å»é™¤åç½®ç©ºæ ¼
    s.resize(slow);
    // 2.åè½¬æ•´ä¸ªå­—ç¬¦ä¸²
    reverse(s.begin(), s.end());
    // 3.åè½¬æ¯ä¸ªå•è¯
    slow = 0, fast = 0;
    while (slow < s.size()) {
        while (fast < s.size() && s[fast] != ' ') ++fast;
        reverse(s.begin() + slow, s.begin() + fast);
        slow = ++fast; 
    }
    return s;
}
};

```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### ç‰ˆæœ¬2

**:small_red_triangle_down: steps: **

1. åè½¬æ•´ä¸ªå­—ç¬¦ä¸²

2. ç§»é™¤å¤šä½™ç©ºæ ¼ åŒæ—¶ åè½¬å•è¯

    - fasté‡åˆ°ç©ºæ ¼å°±continueè·³è¿‡

    - é‡åˆ°éç©ºæ ¼å­—ç¬¦
        - å…ˆè¦**æ·»ä¸€ä¸ªç©ºæ ¼**ï¼Œå³ç”¨ç©ºæ ¼è¦†ç›– åˆšæ‹·è´è¦†ç›–åˆ°å‰é¢çš„ å•è¯æœ«å°¾çš„ä¸‹ä¸€ä½ç½®(å³slowæŒ‡å‘çš„ä½ç½®)

        - ç”¨péå†å•è¯åŒæ—¶ç»™å·¦è¾¹**æ‹·è´è¦†ç›–**,fastä¸åŠ¨ä»¥ä¾¿ä¹‹åè®¡ç®—å•è¯é•¿åº¦reverseåè½¬å•è¯

        - å°†æ‹·è´è¿‡å»çš„**å•è¯åè½¬**

        - æ›´æ–°å¾€åæ‰¾å•è¯çš„æŒ‡é’ˆfast

#### ä»£ç 

```c++
string reverseWords(string s) {
    //åè½¬æ•´ä¸ªå­—ç¬¦ä¸²
    reverse(s.begin(), s.end());
    int slow= 0;
    for (int fast = 0; fast < s.size(); ++fast) { 
        //é‡åˆ°ç©ºæ ¼å°±continueè·³è¿‡
        //é‡åˆ°éç©ºæ ¼å­—ç¬¦
        if (s[fast] != ' ') {
            if (slow != 0) s[slow++] = ' '; 
            int p = fast;
            while (p < s.size() && s[p] != ' ') s[slow++] = s[p++];
            //åè½¬å•è¯
            reverse(s.begin() + slow - (p - fast), s.begin() + slow);
            fast = p;
        }
    }
    s.erase(s.begin() + slow, s.end());
    //ä»æ–°æ•°ç»„ç»“å°¾(slow)åˆ°æ—§æ•°ç»„ç»“å°¾éƒ½ä¸éœ€è¦äº†ã€‚ä¹Ÿå¯ä»¥ç”¨substrä½†æ˜¯substrè¿˜éœ€è¦è®¡ç®—æˆªå–é•¿åº¦
    return s;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n) . åˆ†æåŒå‰é¢

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)



## :fire:[14. æœ€é•¿å…¬å…±å‰ç¼€](https://leetcode.cn/problems/longest-common-prefix/)

### é¢˜æ„

ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² `""`ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šstrs = ["flower","flow","flight"]
è¾“å‡ºï¼š"fl"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šstrs = ["dog","racecar","car"]
è¾“å‡ºï¼š""
è§£é‡Šï¼šè¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚
```

**æç¤ºï¼š**

- `1 <= strs.length <= 200`
- `0 <= strs[i].length <= 200`
- `strs[i]` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### æ³•ä¸€

#### 

```c++
string longestCommonPrefix(vector<string>& strs) {
/* 
    æ¨ªå‘æ¯”è¾ƒï¼š 
    ç”¨ä¸€ä¸ªã€Œå·²è®¿é—®çš„å­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å‰ç¼€ã€maxPrefixå­—ç¬¦ä¸²ã€‚ 
    éå†strs, æ¯éå†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°±æ›´æ–°maxPrefixã€‚ 
    æœ€åè¿”å›maxPrefixå³å¯ã€‚
*/
    string maxPrefix = strs[0];
    // æ¯éå†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°±æ›´æ–°maxPrefix
    for (int i = 1; i < strs.size(); ++i) {
        // å°†å½“å‰éå†å­—ç¬¦ä¸²strs[i]å’ŒmaxPrefixé€å­—ç¬¦æ¯”è¾ƒï¼Œæ¯”è¾ƒåˆ°ä¸åŒæ—¶åœä¸‹ï¼Œå¦‚æœåœä¸‹æ—¶è‹¥ä¸‹æ ‡ä¸º0ï¼Œreturn "";
        int j = 0; 
        while (j < strs[i].size() && strs[i][j] == maxPrefix[j]) {
            ++j;
        }
        if (j == 0) return "";
        // æ›´æ–°maxPrefixï¼Œä»0~j-1å…±jä¸ªå­—ç¬¦éƒ½æ˜¯ç›¸åŒçš„
        maxPrefix = maxPrefix.substr(0, j);
    }
    return maxPrefix;
}
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(mn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### æ³•äºŒ

#### 

```c++
string longestCommonPrefix(vector<string>& strs) {
/* 
    çºµå‘æ¯”è¾ƒï¼š 
    ä»¥strs[0][j]å­—ç¬¦ä¸ºåŸºå‡†ï¼Œåˆ¤æ–­æ¯ä¸ªå­—ç¬¦ä¸²strs[i]çš„ j ä½ç½®æ˜¯å¦ä¸strs[0][j]ç›¸ç­‰
    å› æ­¤å¤–å±‚å¾ªç¯ä»å·¦å¾€å³éå†strs[0]ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œå†…å±‚å¾ªç¯éå†strs
*/
    // å¤–å¾ªç¯æ˜¯åˆ—(ä»å·¦å¾€å³éå†æ¯ä¸ªå­—ç¬¦)ï¼Œå†…å¾ªç¯æ˜¯è¡Œï¼ˆä»ä¸Šåˆ°ä¸‹éå†å­—ç¬¦ä¸²ï¼‰
    for (int j = 0; j < strs[0].size(); ++j) {
        // ä»¥strs[0]ä¸ºåŸºå‡†ï¼Œéå†strsä¸­æ¯ä¸ªå­—ç¬¦ä¸²çš„ä¸‹æ ‡jä½ç½®çš„å­—ç¬¦æ˜¯å¦ä¸strs[0][j]ç›¸ç­‰ï¼Œ
        char c = strs[0][j];
        for (int i = 1; i < strs.size(); ++i) {
            // å¦‚æœå½“å‰éå†å­—ç¬¦ä¸²çš„é•¿åº¦=j, æˆ–å½“å‰ä½ç½®æŠŠå¾€åçš„å…¬å…±å‰ç¼€æˆªæ–­äº†ï¼Œåˆ™ç›´æ¥è¿”å›
            if (j == strs[i].size() || strs[i][j] != c) {
                return strs[0].substr(0, j);
            }
        }
    }
    // ä»æ¥æ²¡è¢«æˆªæ–­è¿‡ï¼Œåˆ™ç›´æ¥è¿”å›strs[0]
    return strs[0];
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(mn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :two:[227. åŸºæœ¬è®¡ç®—å™¨ II](https://leetcode.cn/problems/basic-calculator-ii/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ `s` ï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚

æ•´æ•°é™¤æ³•ä»…ä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚

ä½ å¯ä»¥å‡è®¾ç»™å®šçš„è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ‰€æœ‰ä¸­é—´ç»“æœå°†åœ¨ `[-231, 231 - 1]` çš„èŒƒå›´å†…ã€‚

**æ³¨æ„ï¼š**ä¸å…è®¸ä½¿ç”¨ä»»ä½•å°†å­—ç¬¦ä¸²ä½œä¸ºæ•°å­¦è¡¨è¾¾å¼è®¡ç®—çš„å†…ç½®å‡½æ•°ï¼Œæ¯”å¦‚ `eval()` ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "3+2*2"
è¾“å‡ºï¼š7
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = " 3/2 "
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = " 3+5 / 2 "
è¾“å‡ºï¼š5
```

 **æç¤ºï¼š**

- `1 <= s.length <= 3 * 105`
- `s` ç”±æ•´æ•°å’Œç®—ç¬¦ `('+', '-', '*', '/')` ç»„æˆï¼Œä¸­é—´ç”±ä¸€äº›ç©ºæ ¼éš”å¼€
- `s` è¡¨ç¤ºä¸€ä¸ª **æœ‰æ•ˆè¡¨è¾¾å¼**
- è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰æ•´æ•°éƒ½æ˜¯éè´Ÿæ•´æ•°ï¼Œä¸”åœ¨èŒƒå›´ `[0, 231 - 1]` å†…
- é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª **32-bit æ•´æ•°**

### å‚è€ƒé¢˜è§£

1. [labuladong](https://leetcode.cn/problems/basic-calculator-ii/solutions/91271/chai-jie-fu-za-wen-ti-shi-xian-yi-ge-wan-zheng-ji-)  æ‹†è§£é—®é¢˜ï¼Œé€æ­¥è§£å†³ï¼Œéå¸¸æ£’ï¼

### æ€è·¯

æ‹†è§£é—®é¢˜ï¼š

1. å…ˆåªè€ƒè™‘åªæœ‰åŠ å‡ä¸”ä¸å­˜åœ¨ç©ºæ ¼çš„æƒ…å†µï¼šç›´æ¥å°†æ•°å€¼ä»¥åŠå¯¹åº”ç¬¦å·å½“ä½œä¸€ä¸ªæ•°å­—æ•´ä½“å‹å…¥æ ˆä¸­ã€‚`+3 +4 -5`
2. ç„¶åè€ƒè™‘åŠ ä¸Šä¹˜é™¤ä¸”ä¸å­˜åœ¨ç©ºæ ¼çš„æƒ…å†µï¼šè®¡ç®—ä¹˜é™¤æ—¶ç›´æ¥å¯¹æ ˆé¡¶è¿›è¡Œå’Œnumçš„ä¹˜é™¤ã€‚` +3 +4 * -5`
3. å†è€ƒè™‘åŠ ä¸Šç©ºæ ¼ï¼šæŒ‰ä¸Šé¢å·²ç»å®Œæˆçš„ç¼–ç çœ‹ï¼Œç©ºæ ¼ä¼šè¿›å…¥ç¬¬äºŒä¸ª if è¯­å¥ï¼Œä½†æ˜¯è¿™é‡Œé¢ä¼šæ›´æ–°`sign`å¹¶æ¸…é›¶`num`ï¼Œç©ºæ ¼æ ¹æœ¬å°±ä¸æ˜¯è¿ç®—ç¬¦ï¼Œä¸”numä¹Ÿä¸è¯¥è¢«æ¸…é›¶ã€‚å› æ­¤ä¸åº”è¯¥è®©ç©ºæ ¼è¿›å…¥ç¬¬äºŒä¸ª if è¯­å¥ï¼Œè€Œåº”è¯¥å¿½ç•¥å®ƒã€‚
4. ï¼ˆå¦‚æœæœ¬é¢˜è¿›é˜¶ä¸€ä¸‹ï¼Œè¿˜åŒ…å«æ‹¬å·çš„è¯ï¼‰æœ€åè€ƒè™‘åŠ ä¸Šæ‹¬å·ï¼š

#### 1.åªæœ‰åŠ å‡ä¸”ä¸å«ç©ºæ ¼

```cpp
int calculate(string s) {
    stack<int> st; // è®°å½•ç®—å¼ä¸­çš„æ•°å­—
    int num = 0; 
    char sign = '+'; // è®°å½• num å‰é¢çš„ç¬¦å·
    for (int i = 0; i < s.size(); i++) {
        // å¦‚æœæ˜¯æ•°å­—ï¼Œè¿ç»­è¯»å–å­—ç¬¦åˆ° num
        if (isdigit(s[i])) {
            num = num * 10 + (s[i] - '0');
        }
        // å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆèµ°å®Œç¬¬ä¸€ä¸ªifåï¼Œè¿˜éœ€è¦å°†numå‹æ ˆï¼Œå› æ­¤è¿™é‡Œä¸æ˜¯ç”¨elseè€Œæ˜¯ç”¨if (!isdigit(s[i]) || i == s.size() - 1) 
        if (!isdigit(s[i]) || i == s.size() - 1) {
            // å½“é‡åˆ°éæ•°å­—æˆ–è€…åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œéƒ½è¦å°†numå‹æ ˆ
            switch (sign) {
                case '+': st.push(num); break;
                case '-': st.push(-num); break;
            }
            // æˆ–è€…å†™æˆ
            // st.push((sign == '+' ? num : -num));

            // æ›´æ–°ç¬¦å·ä¸ºå½“å‰ç¬¦å·, æ•°å­—æ¸…é›¶
            sign = s[i];
            num = 0;
        }
    }
    // å°†æ ˆä¸­æ‰€æœ‰æ•°å€¼æ±‚å’Œå°±æ˜¯ç­”æ¡ˆ
    int ans = 0;
    while (!st.empty()) {
        ans += st.top();
        st.pop();
    }
    return ans;
}
```

#### 2.åŠ ä¸Šä¹˜é™¤ä¸”ä¸å­˜åœ¨ç©ºæ ¼

æ€è·¯è·Ÿä»…å¤„ç†åŠ å‡æ³•æ²¡å•¥åŒºåˆ«ï¼Œå…¶ä»–éƒ¨åˆ†éƒ½ä¸ç”¨å˜ï¼Œåœ¨switchéƒ¨åˆ†åŠ ä¸Šå¯¹åº”çš„ case å°±è¡Œäº†ã€‚

```cpp
int calculate(string s) {
    stack<int> st; // è®°å½•ç®—å¼ä¸­çš„æ•°å­—
    int num = 0;
    char preSign = '+'; // è®°å½• num å‰é¢çš„ç¬¦å·
    for (int i = 0; i < s.size(); i++) {
        // å¦‚æœæ˜¯æ•°å­—ï¼Œè¿ç»­è¯»å–å­—ç¬¦åˆ° num
        if (isdigit(s[i])) {
            num = num * 10 + (s[i] - '0');
        }
        // å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆèµ°å®Œç¬¬ä¸€ä¸ªifåï¼Œè¿˜éœ€è¦å°†numå‹æ ˆï¼Œå› æ­¤è¿™é‡Œä¸æ˜¯ç”¨elseè€Œæ˜¯ç”¨if (!isdigit(s[i]) || i == s.size() - 1) 
        if (!isdigit(s[i]) || i == s.size() - 1) {
            // å½“é‡åˆ°éæ•°å­—æˆ–è€…åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œéƒ½è¦å°†numå‹æ ˆ
            switch (preSign) {
                case '+': st.push(num); break;
                case '-': st.push(-num); break;
                case '*': st.top() *= num; break;
                case '/': st.top() /= num; break;                    
            }
            // æ›´æ–°ç¬¦å·ä¸ºå½“å‰ç¬¦å·, æ•°å­—æ¸…é›¶
            preSign = s[i];
            num = 0;
        }
    }
    // å°†æ ˆä¸­æ‰€æœ‰æ•°å€¼æ±‚å’Œå°±æ˜¯ç­”æ¡ˆ
    int ans = 0;
    while (!st.empty()) {
        ans += st.top();
        st.pop();
    }
    return ans;
}
```

#### 3.åŠ ä¸Šç©ºæ ¼

åªéœ€åœ¨ç¬¬äºŒä¸ª if è¯­å¥ä¸­æ”¹åŠ¨ä¸€ä¸‹æ¡ä»¶

```cpp
int calculate(string s) {
    stack<int> st; // è®°å½•ç®—å¼ä¸­çš„æ•°å­—
    int num = 0;
    char preSign = '+'; // è®°å½• num å‰é¢çš„ç¬¦å·
    for (int i = 0; i < s.size(); i++) {
        // å¦‚æœæ˜¯æ•°å­—ï¼Œè¿ç»­è¯»å–å­—ç¬¦åˆ° num
        if (isdigit(s[i])) {
            num = num * 10 + (s[i] - '0');
        }
        // å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆèµ°å®Œç¬¬ä¸€ä¸ªifåï¼Œè¿˜éœ€è¦å°†numå‹æ ˆï¼Œå› æ­¤è¿™é‡Œä¸æ˜¯ç”¨elseè€Œæ˜¯ç”¨if (xxx || i == s.size() - 1) 
        if ((!isdigit(s[i]) && s[i] != ' ') || i == s.size() - 1) {
            // å½“é‡åˆ°éæ•°å­—æˆ–è€…åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œéƒ½è¦å°†numå‹æ ˆ
            switch (preSign) {
                case '+': st.push(num); break;
                case '-': st.push(-num); break;
                case '*': st.top() *= num; break;
                case '/': st.top() /= num; break;
            }
            // æ›´æ–°ç¬¦å·ä¸ºå½“å‰ç¬¦å·, æ•°å­—æ¸…é›¶
            preSign = s[i];
            num = 0;
        }
    }
    // å°†æ ˆä¸­æ‰€æœ‰æ•°å€¼æ±‚å’Œå°±æ˜¯ç­”æ¡ˆ
    int ans = 0;
    while (!st.empty()) {
        ans += st.top();
        st.pop();
    }
    return ans;
}
```

#### 4.åŠ ä¸Šæ‹¬å·(è™½ç„¶è¿™é¢˜ç”¨ä¸åˆ°)

æ‹¬å·å…·æœ‰é€’å½’æ€§è´¨ã€‚æˆ‘ä»¬æ‹¿å­—ç¬¦ä¸²3*(4-5/2)-6ä¸¾ä¾‹ï¼š

calculate(3*(4-5/2)-6)
= 3 * calculate(4-5/2) - 6
= 3 * 2 - 6
= 0

æ— è®ºå¤šå°‘å±‚æ‹¬å·åµŒå¥—ï¼Œå…¶å®éƒ½å¯ä»¥ç›´æ¥å°†æ‹¬å·ä¸­çš„ç®—å¼è§†ä¸ºä¸€ä¸ªæ•°å­—ã€‚

æ—¢ç„¶æ˜¯é€’å½’ï¼Œé€’å½’çš„å¼€å§‹æ¡ä»¶å’Œç»“æŸæ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿé‡åˆ°`(`å¼€å§‹é€’å½’ï¼Œé‡åˆ°`)`ç»“æŸé€’å½’ã€‚ï¼ˆè¿™ä¸¤ä¸ªifçš„é¡ºåºéƒ½ä¸èƒ½ä¹±æ”¾ï¼‰

ç‰ˆæœ¬1.

```cpp
class Solution {
public:
    int helper(string s, int& i) {
        // è¿™ç§å†™æ³•ç¬¬äºŒä¸ªå‚æ•°éœ€è¦ç”¨å¼•ç”¨
        stack<int> st; // è®°å½•ç®—å¼ä¸­çš„æ•°å­—
        int num = 0;
        char preSign = '+'; // è®°å½• num å‰é¢çš„ç¬¦å·
        for (; i < s.size(); i++) {
            // å¦‚æœæ˜¯æ•°å­—ï¼Œè¿ç»­è¯»å–å­—ç¬¦åˆ° num
            if (isdigit(s[i])) {
                num = num * 10 + (s[i] - '0');
            }
            // å¼€å§‹é€’å½’
            if (s[i] == '(') {
                num = helper(s, ++i);
                i++; //è®¡ç®—å®Œä¹‹åçš„iæŒ‡å‘)æ‰€ä»¥å†++
            }
            // å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆèµ°å®Œç¬¬ä¸€ä¸ªifåï¼Œè¿˜éœ€è¦å°†numå‹æ ˆï¼Œå› æ­¤è¿™é‡Œä¸æ˜¯ç”¨elseè€Œæ˜¯ç”¨if (xxx || i == s.size() - 1) 
            if ((!isdigit(s[i]) && s[i] != ' ') || i == s.size() - 1) {
                // å½“é‡åˆ°éæ•°å­—æˆ–è€…åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œéƒ½è¦å°†numå‹æ ˆ
                switch (preSign) {
                    case '+': st.push(num); break;
                    case '-': st.push(-num); break;
                    case '*': st.top() *= num; break;
                    case '/': st.top() /= num; break;
                }
                // æ›´æ–°ç¬¦å·ä¸ºå½“å‰ç¬¦å·, æ•°å­—æ¸…é›¶
                preSign = s[i];
                num = 0;
            }
            // ç»“æŸé€’å½’
            if (s[i] == ')') {
                break;
            }
        }
        // å°†æ ˆä¸­æ‰€æœ‰æ•°å€¼æ±‚å’Œå°±æ˜¯ç­”æ¡ˆ
        int ans = 0;
        while (!st.empty()) {
            ans += st.top();
            st.pop();
        }
        return ans;
    }
    int calculate(string s) {
        int i = 0;
        return helper(s, i);
    }
};
```

ç‰ˆæœ¬2.

```cpp
class Solution {
public:
    int i = 0; //è¡¨ç¤ºç›®å‰éå†åˆ°çš„ä½ç½®

    int helper(string s) {
        stack<int> st; // è®°å½•ç®—å¼ä¸­çš„æ•°å­—
        int num = 0;
        char preSign = '+'; // è®°å½• num å‰é¢çš„ç¬¦å·
        for (; i < s.size(); i++) {
            // å¦‚æœæ˜¯æ•°å­—ï¼Œè¿ç»­è¯»å–å­—ç¬¦åˆ° num
            if (isdigit(s[i])) {
                num = num * 10 + (s[i] - '0');
            }
            if (s[i] == '(') {
                num = helper(s);
                i++; //è®¡ç®—å®Œä¹‹åçš„iæŒ‡å‘)æ‰€ä»¥å†++
            }
            // å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆèµ°å®Œç¬¬ä¸€ä¸ªifåï¼Œè¿˜éœ€è¦å°†numå‹æ ˆï¼Œå› æ­¤è¿™é‡Œä¸æ˜¯ç”¨elseè€Œæ˜¯ç”¨if (xxx || i == s.size() - 1) 
            if ((!isdigit(s[i]) && s[i] != ' ') || i == s.size() - 1) {
                // å½“é‡åˆ°éæ•°å­—æˆ–è€…åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œéƒ½è¦å°†numå‹æ ˆ
                switch (preSign) {
                    case '+': st.push(num); break;
                    case '-': st.push(-num); break;
                    case '*': st.top() *= num; break;
                    case '/': st.top() /= num; break;
                }
                // æ›´æ–°ç¬¦å·ä¸ºå½“å‰ç¬¦å·, æ•°å­—æ¸…é›¶
                preSign = s[i];
                num = 0;
            }
            if (s[i] == ')') {
                break;
            }
        }
        // å°†æ ˆä¸­æ‰€æœ‰æ•°å€¼æ±‚å’Œå°±æ˜¯ç­”æ¡ˆ
        int ans = 0;
        while (!st.empty()) {
            ans += st.top();
            st.pop();
        }
        return ans;
    }
    int calculate(string s) {
        return helper(s);
    }
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ã€‚éœ€è¦éå†å­—ç¬¦ä¸² s ä¸€æ¬¡ã€‚

    ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œä¸»è¦å–å†³äºæ ˆç©ºé—´çš„å¤§å°ã€‚


## :fire:[224. åŸºæœ¬è®¡ç®—å™¨](https://leetcode.cn/problems/basic-calculator/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ `s` ï¼Œè¯·ä½ å®ç°ä¸€ä¸ªåŸºæœ¬è®¡ç®—å™¨æ¥è®¡ç®—å¹¶è¿”å›å®ƒçš„å€¼ã€‚

æ³¨æ„:ä¸å…è®¸ä½¿ç”¨ä»»ä½•å°†å­—ç¬¦ä¸²ä½œä¸ºæ•°å­¦è¡¨è¾¾å¼è®¡ç®—çš„å†…ç½®å‡½æ•°ï¼Œæ¯”å¦‚ `eval()` ã€‚ 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "1 + 1"
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = " 2-1 + 2 "
è¾“å‡ºï¼š3
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "(1+(4+5+2)-3)+(6+8)"
è¾“å‡ºï¼š23
```

**æç¤ºï¼š**

- `1 <= s.length <= 3 * 105`
- `s` ç”±æ•°å­—ã€`'+'`ã€`'-'`ã€`'('`ã€`')'`ã€å’Œ `' '` ç»„æˆ
- `s` è¡¨ç¤ºä¸€ä¸ªæœ‰æ•ˆçš„è¡¨è¾¾å¼
- '+' ä¸èƒ½ç”¨ä½œä¸€å…ƒè¿ç®—(ä¾‹å¦‚ï¼Œ "+1" å’Œ `"+(2 + 3)"` æ— æ•ˆ)
- '-' å¯ä»¥ç”¨ä½œä¸€å…ƒè¿ç®—(å³ "-1" å’Œ `"-(2 + 3)"` æ˜¯æœ‰æ•ˆçš„)
- è¾“å…¥ä¸­ä¸å­˜åœ¨ä¸¤ä¸ªè¿ç»­çš„æ“ä½œç¬¦
- æ¯ä¸ªæ•°å­—å’Œè¿è¡Œçš„è®¡ç®—å°†é€‚åˆäºä¸€ä¸ªæœ‰ç¬¦å·çš„ 32ä½ æ•´æ•°

### ä»£ç 

å‚è€ƒ:fire:[227. åŸºæœ¬è®¡ç®—å™¨ II](https://leetcode.cn/problems/basic-calculator-ii/) çš„é¢˜è§£ã€‚

```cpp
class Solution {
public:
    int helper(string s, int& i) {
        stack<int> st; // è®°å½•ç®—å¼ä¸­çš„æ•°å­—
        int num = 0;
        char preSign = '+'; // è®°å½• num å‰é¢çš„ç¬¦å·
        for (; i < s.size(); i++) {
            // å¦‚æœæ˜¯æ•°å­—ï¼Œè¿ç»­è¯»å–å­—ç¬¦åˆ° num
            if (isdigit(s[i])) {
                num = num * 10 + (s[i] - '0');
            }
            // å¼€å§‹é€’å½’
            if (s[i] == '(') {
                num = helper(s, ++i);
                i++; //è®¡ç®—å®Œä¹‹åçš„iæŒ‡å‘)æ‰€ä»¥å†++
            }
            // å¦‚æœæœ€åä¸€ä¸ªå…ƒç´ æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆèµ°å®Œç¬¬ä¸€ä¸ªifåï¼Œè¿˜éœ€è¦å°†numå‹æ ˆï¼Œå› æ­¤è¿™é‡Œä¸æ˜¯ç”¨elseè€Œæ˜¯ç”¨if (xxx || i == s.size() - 1) 
            if ((!isdigit(s[i]) && s[i] != ' ') || i == s.size() - 1) {
                // å½“é‡åˆ°éæ•°å­—æˆ–è€…åˆ°å­—ç¬¦ä¸²æœ«å°¾æ—¶ï¼Œéƒ½è¦å°†numå‹æ ˆ
                switch (preSign) {
                    case '+': st.push(num); break;
                    case '-': st.push(-num); break;
                }
                // æ›´æ–°ç¬¦å·ä¸ºå½“å‰ç¬¦å·, æ•°å­—æ¸…é›¶
                preSign = s[i];
                num = 0;
            }
            // ç»“æŸé€’å½’
            if (s[i] == ')') {
                break;
            }
        }
        // å°†æ ˆä¸­æ‰€æœ‰æ•°å€¼æ±‚å’Œå°±æ˜¯ç­”æ¡ˆ
        int ans = 0;
        while (!st.empty()) {
            ans += st.top();
            st.pop();
        }
        return ans;
    }
    int calculate(string s) {
        int i = 0;
        return helper(s, i);
    }
};
```



## Offer58-II.å·¦æ—‹è½¬å­—ç¬¦ä¸²

### é¢˜æ„

: å­—ç¬¦ä¸²çš„å·¦æ—‹è½¬æ“ä½œæ˜¯æŠŠå­—ç¬¦ä¸²å‰é¢çš„è‹¥å¹²ä¸ªå­—ç¬¦ï¼Œè½¬ç§»åˆ°å­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚è¯·ç”¨å‡½æ•°å®ç°ï¼Œè¦æ±‚ä¸èƒ½ç”³è¯·é¢å¤–ç©ºé—´ï¼Œåªèƒ½åœ¨æœ¬ä¸²ä¸Šæ“ä½œã€‚

```c++
ç¤ºä¾‹ 1ï¼š
    è¾“å…¥: s = "abcdefg", k = 2
    è¾“å‡º:       "cdefgab"
é™åˆ¶ï¼š1 <= k < s.length <= 10000
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šï¼ˆä¸‰æ¬¡reverse ï¼‰æ•´ä½“åè½¬ + å±€éƒ¨åè½¬**:star:==

**:small_red_triangle_down: steps: **

1.  å…ˆ**reverseæ•´ä¸ªå­—ç¬¦ä¸²**ï¼Œå°†å‰kä¸ªå­—ç¬¦ï¼ˆç¬¬ä¸€å¨ï¼‰ å’Œ ås.size()-kä¸ªå­—ç¬¦ï¼ˆç¬¬äºŒå¨ï¼‰ è¿™ä¸¤å¨äº¤æ¢ä½ç½®ï¼Œè®©è¿™ä¸¤å †å¤„äºæ­£ç¡®ä½ç½®ä¸Šï¼ˆè‡³äºå†…éƒ¨æ€ä¹ˆæ ·æˆ‘ä»¬å…ˆä¸ç®¡ï¼‰
2.  å†**åˆ†åˆ«**å¯¹è¿™ä¸¤å¨å†…éƒ¨**reverse**ï¼Œå˜æ¢å›åŸæ¥çš„æ’åˆ—é¡ºåº

**:x: careless | ignore :**

1. 

### ä»£ç 

```c++
string reverseLeftWords(string s, int n) {
    //1.å…ˆå°†æ•´ä¸ªå­—ç¬¦ä¸²è¿›è¡Œåè½¬
    reverse(s.begin(), s.end());
    //2.å†åˆ†åˆ«å¯¹è¿™ä¸¤å¨å†…éƒ¨reverseï¼Œå˜æ¢å›åŸæ¥çš„æ’åˆ—é¡ºåº
    reverse(s.begin(), s.begin() + s.size() - n);
    reverse(s.begin() + s.size() - n, s.end());
    return s;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO()

    â€‹    

- ç©ºé—´å¤æ‚åº¦ï¼šO()

## [lc28.æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡](https://leetcode.cn/problems/find-the-index-of-the-first-occurrence-in-a-string/)

### é¢˜æ„

:  è¯·åœ¨ `haystack` å­—ç¬¦ä¸²ä¸­æ‰¾å‡º `needle` å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡ã€‚å¦‚æœ `needle` ä¸æ˜¯ `haystack` çš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿”å› `-1` ã€‚

**æç¤ºï¼š**

- `1 <= haystack.length, needle.length <= 10^4`
- `haystack` å’Œ `needle` ä»…ç”±å°å†™è‹±æ–‡å­—ç¬¦ç»„æˆ

```c++
è¾“å…¥ï¼šhaystack = "sadbutsad", needle = "sad"
è¾“å‡ºï¼š0
è§£é‡Šï¼š"sad" åœ¨ä¸‹æ ‡ 0 å’Œ 6 å¤„åŒ¹é…ã€‚ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ä¸‹æ ‡æ˜¯ 0 
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šKMP **:star:==

å‚è€ƒæˆ‘çš„ã€KMPã€‘ä¸“é¢˜æ–‡ç« 

**:x: careless | ignore :**

1. æ€»æ˜¯åœ¨ç²˜è´´çš„æ—¶å€™å¿˜è®°å°†ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼çš„ç¬¬äºŒä¸ªåˆå§‹åŒ–çš„`int`å»æ‰ï¼æ¯”å¦‚å†™æˆ` for(int i = 0, int j = 0; ........)`

### ä»£ç 

```c++
void getNext(vector<int> &next, const string &s) {
    int n = s.size();
    next[0] = 0;
    for (int prefixEnd = 0, suffixEnd = 1; suffixEnd < n; ++suffixEnd) {
        //å¦‚æœä¸åŒ¹é…åˆ™prefixEndå›é€€
        while (prefixEnd > 0 && s[prefixEnd] != s[suffixEnd]) prefixEnd = next[prefixEnd - 1];
        //é€€å‡ºå¾ªç¯æ—¶prefixEndè¦ä¹ˆç­‰äºæœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦è¦ä¹ˆç­‰äº0(å›é€€åˆ°0äº†)
        if (s[prefixEnd] == s[suffixEnd]) prefixEnd++;
        //å°†å‰ç¼€é•¿åº¦èµ‹ç»™next[suffixEnd]
        next[suffixEnd] = prefixEnd;
    }
}
int strStr(string haystack, string needle) {
    int m = haystack.size(), n = needle.size();
    // æ„å»ºnextæ•°ç»„
    vector<int> next(n);
    getNext(next, needle);
    // åˆ©ç”¨nextæ•°ç»„æ¥è¿›è¡ŒåŒ¹é…
    for (int i = 0, j = 0; i < m; ++i) { //iæŒ‡å‘ä¸»ä¸², jæŒ‡å‘æ¨¡å¼ä¸²
        while (j > 0 && haystack[i] != needle[j]) j = next[j - 1];
        if (haystack[i] == needle[j]) ++j;
        if (j == n)return i - n + 1;
    }
    return -1;
}
```

### å¤æ‚åº¦åˆ†æ

è®¾ä¸»ä¸²é•¿åº¦ä¸ºmï¼Œæ¨¡å¼ä¸²é•¿åº¦ä¸ºnã€‚æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)ï¼›ç©ºé—´å¤æ‚åº¦ï¼šO(n)

## [lc459. é‡å¤çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/repeated-substring-pattern/)

### é¢˜æ„

:  ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² `s` ï¼Œåˆ¤æ–­sæ˜¯å¦å¯ä»¥é€šè¿‡ç”±å®ƒçš„ä¸€ä¸ªå­ä¸²é‡å¤å¤šæ¬¡æ„æˆã€‚

**ç¤ºä¾‹ 1:**

```cpp
è¾“å…¥: s = "aba"
è¾“å‡º: false
```

**ç¤ºä¾‹ 2:**

```cpp
è¾“å…¥: s = "abcabcabcabc"
è¾“å‡º: true
è§£é‡Š: å¯ç”±å­ä¸² "abc" é‡å¤å››æ¬¡æ„æˆ (æˆ–å­ä¸² "abcabc" é‡å¤ä¸¤æ¬¡æ„æˆ)
```

### æ³•ä¸€

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šåŒå€å­—ç¬¦ä¸²  **:star:==

å°†ä¸¤ä¸ªsè¿åœ¨ä¸€èµ·ï¼Œå¹¶å»æ‰é¦–ä½å­—ç¬¦ï¼Œè‹¥é‡Œé¢è¿˜å‡ºç°ä¸€ä¸ªsä¸”è¿™ä¸ªsä¸æ˜¯åŸæ¥æ‹¼æ¥çš„ç¬¬äºŒä¸ªsçš„è¯ï¼Œå°±è¯´æ˜æ˜¯ç”±é‡å¤å­ä¸²ç»„æˆã€‚ï¼ˆé¿å…åœ¨s+sä¸­æœç´¢å‡ºåŸæ¥çš„sï¼Œæˆ‘ä»¬è¦æœç´¢çš„æ˜¯ä¸­é—´æ‹¼æ¥å‡ºæ¥çš„ã€æ¨ªè·¨è¿™ä¸¤ä¸ªsçš„sï¼‰

#### ä»£ç 

```c++
 bool repeatedSubstringPattern(string s) {
        return (s + s).find(s, 1) != s.size();//ä»ä¸‹æ ‡1å¼€å§‹ï¼Œåœ¨S=s+sçš„å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾sã€‚findè¿”å›æŸ¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½®
         //è‹¥findè¿”å›s.size()ï¼Œå³æ‹¼æ¥åçš„s+sçš„ç¬¬äºŒä¸ªsçš„é¦–å…ƒç´ ï¼Œåˆ™è¯´æ˜åœ¨å…¶ä¸­æ‰¾åˆ°çš„så°±æ˜¯s+sä¸­çš„ç¬¬äºŒä¸ªsï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æƒ³æ‰¾çš„è·¨è¶Šäº†ä¸¤ä¸ªsçš„sï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æ²¡æ‰¾åˆ°ã€‚
 }
/*case
s="aba" è¿”å›3
s="abcabcabcabc" è¿”å›3  */
```

#### å¤æ‚åº¦åˆ†æ

æ—¶é—´å¤æ‚åº¦: O(n); ç©ºé—´å¤æ‚åº¦: O(1)

### æ³•äºŒ

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šKMP  **:star:==

**:key:  keyï¼š**

- å…³é”®åœ¨äºç¬¬äºŒæ­¥æ±‚æœ€å°é‡å¤å­ä¸²é•¿åº¦ï¼

**:small_red_triangle_down: steps: **

1.  æ±‚nextæ•°ç»„
2.  æ±‚æœ€å°é‡å¤å­ä¸²é•¿åº¦(å¦‚æœsèƒ½ç”±æ±‚é‡å¤å­ä¸²æ„æˆ)
3.  è‹¥s.size()èƒ½è¢«æœ€å°é‡å¤å­ä¸²é•¿åº¦æ•´é™¤ï¼Œåˆ™sèƒ½ç”±å­ä¸²é‡å¤æ„æˆ

#### ä»£ç 

```c++
class Solution {
public:
    void getNext(vector<int>& next, string& s) {
        // 1.åˆå§‹åŒ–
        next[0] = 0;
        for (int prefixEnd = 0, suffixEnd = 1; suffixEnd < s.size(); ++suffixEnd) {
            // 2.å‰åç¼€ä¸åŒ¹é…çš„æƒ…å†µ--prefixEndå›é€€
            while (prefixEnd > 0 && s[prefixEnd] != s[suffixEnd]) prefixEnd = next[prefixEnd - 1];
            // 3.å‰åç¼€åŒ¹é…çš„æƒ…å†µ--å‰ç¼€æœ«ä½åç§»ï¼Œå³æœ€é•¿ç›¸ç­‰å‰åç¼€é•¿åº¦+1
            if (s[prefixEnd] == s[suffixEnd]) ++prefixEnd;
            // 4.ç»™next[suffixEnd]èµ‹å€¼
            next[suffixEnd] = prefixEnd;
        }
    }
    bool repeatedSubstringPattern(string s) {
        int n = s.size();
        vector<int> next(n);
        // 1.æ±‚nextæ•°ç»„
        getNext(next, s);  
        // 2.æ±‚æœ€å°é‡å¤å­ä¸²é•¿åº¦(å¦‚æœsèƒ½ç”±æ±‚é‡å¤å­ä¸²æ„æˆ)
        // ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼
        // ä¸‹é¢çš„æ±‚æ³•æ˜¯é”™è¯¯çš„ï¼s="aabaaba"æ—¶,next=[0101234],å› æ­¤0çš„ä¸ªæ•°ä¸ä»£è¡¨æ„æˆsçš„é‡å¤å­ä¸²çš„é•¿åº¦ï¼ï¼
        // int i = 0;//iå°±ä»£è¡¨äº†å‰é¢0çš„ä¸ªæ•°ï¼Œä¹Ÿå³æ„æˆsçš„é‡å¤å­ä¸²çš„é•¿åº¦
        // while (i < n && next[i] == 0) ++i;
        // ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼
        int sublen = n - next.back();
        // 3.è‹¥s.size()èƒ½è¢«æœ€å°é‡å¤å­ä¸²é•¿åº¦æ•´é™¤ï¼Œåˆ™sèƒ½ç”±å­ä¸²é‡å¤æ„æˆ
        return n % sublen == 0 && next.back() != 0;
    }
};
/*
 "abcabcabcabc"çš„æœ€åä¸€ä¸ªå…ƒç´ çš„nextä¸æ˜¯n/2!!!è€Œæ˜¯ 9
>000123456789
æ‰“å°æ—¥å¿—ï¼š
    for (char c : s) cout << c << " ";
    cout << endl;
    for (int n : next) cout << n << " ";
    cout << endl;
*/
```



#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ næ˜¯å­—ç¬¦ä¸² sçš„é•¿åº¦ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚



## [686. é‡å¤å åŠ å­—ç¬¦ä¸²åŒ¹é…](https://leetcode.cn/problems/repeated-string-match/)

### é¢˜æ„

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `a` å’Œ `b`ï¼Œå¯»æ‰¾é‡å¤å åŠ å­—ç¬¦ä¸² `a` çš„æœ€å°æ¬¡æ•°ï¼Œä½¿å¾—å­—ç¬¦ä¸² `b` æˆä¸ºå åŠ åçš„å­—ç¬¦ä¸² `a` çš„å­ä¸²ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› `-1`ã€‚

**æ³¨æ„ï¼š**å­—ç¬¦ä¸² `"abc"` é‡å¤å åŠ  0 æ¬¡æ˜¯ `""`ï¼Œé‡å¤å åŠ  1 æ¬¡æ˜¯ `"abc"`ï¼Œé‡å¤å åŠ  2 æ¬¡æ˜¯ `"abcabc"`ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼ša = "abcd", b = "cdabcdab"
è¾“å‡ºï¼š3
è§£é‡Šï¼ša é‡å¤å åŠ ä¸‰éåä¸º "abcdabcdabcd", æ­¤æ—¶ b æ˜¯å…¶å­ä¸²ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼ša = "a", b = "aa"
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼ša = "a", b = "a"
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 4ï¼š**

```
è¾“å…¥ï¼ša = "abc", b = "wxyz"
è¾“å‡ºï¼š-1
```

**æç¤ºï¼š**

- `1 <= a.length <= 104`
- `1 <= b.length <= 104`
- `a` å’Œ `b` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### å‚è€ƒé¢˜è§£

1. [å®˜è§£ã€‚ä½†æ˜¯æœ€åçš„returnå±å®ç»™æˆ‘æ•´æ— è¯­äº†ï¼Œæ˜æ˜æ²¡å¿…è¦å†™æˆé‚£æ ·](https://leetcode.cn/problems/repeated-string-match/solutions/1170235/zhong-fu-die-jia-zi-fu-chuan-pi-pei-by-l-vnye)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šKMP + é€šè¿‡å–æ¨¡æ¨¡æ‹Ÿå åŠ   **:star:==

**:key:  keyï¼š**

- é™¤äº†é‚£å¥—è€KMPä¹‹å¤–ï¼Œå…³é”®å°±æ˜¯ä¸»ä¸²å’Œæ¨¡å¼ä¸²åŒ¹é…æ—¶ï¼Œä¸éœ€è¦é€šè¿‡æ‰‹åŠ¨è®©ä¸»ä¸²å åŠ å˜é•¿ï¼Œ**åªéœ€è¦å–æ¨¡å°±èƒ½å¾ªç¯éå†ä¸»ä¸²**ï¼Œå®ç°å åŠ çš„æ•ˆæœã€‚**å³é€šè¿‡å–æ¨¡æ¨¡æ‹Ÿå åŠ ã€‚å› æ­¤åŒ¹é…æ—¶ä¸»ä¸²éƒ½æ˜¯ç”¨ i % n ä»£æ›¿ i** 

### ä»£ç 

```c++
void getNext(vector<int> &next, string &s) {
    next[0] = 0;
    for (int prefixEnd = 0, suffixEnd = 1; suffixEnd < s.size(); ++suffixEnd) {
        while (prefixEnd > 0 && s[prefixEnd] != s[suffixEnd]) prefixEnd = next[prefixEnd - 1];
        if (s[prefixEnd] == s[suffixEnd]) prefixEnd++;
        next[suffixEnd] = prefixEnd;
    }
}
int repeatedStringMatch(string a, string b) {
    int n = a.size(), m = b.size();
    if (m == 0) return 0;
    // 1.æ„å»ºnextæ•°ç»„
    vector<int> next(m);
    getNext(next, b);
    // 2.åˆ©ç”¨nextæ•°ç»„æ¥è¿›è¡ŒåŒ¹é…(iæŒ‡å‘ä¸»ä¸², jæŒ‡å‘æ¨¡å¼ä¸²)
    for (int i = 0, j = 0; i - j < n; ++i) { 
        //å¦‚æœiå’Œjä¹‹é—´çš„è·ç¦»>=ä¸»ä¸²é•¿åº¦äº†ï¼Œè¯´æ˜æ¨¡å¼ä¸²ä¸­æ²¡æœ‰ä¸€ä¸ªå­—ç¬¦èƒ½åŒ¹é…ä¸»ä¸²çš„å­—ç¬¦,é€€å‡ºå¾ªç¯
        //åŒ¹é…æ—¶ä¸éœ€è¦é€šè¿‡æ‰‹åŠ¨è®©ä¸»ä¸²å åŠ å˜é•¿ï¼Œåªéœ€è¦å–æ¨¡å°±èƒ½å¾ªç¯éå†ä¸»ä¸²ï¼Œå®ç°å åŠ çš„æ•ˆæœ.å³é€šè¿‡å–æ¨¡æ¨¡æ‹Ÿå åŠ 
        //å› æ­¤åŒ¹é…æ—¶ä¸»ä¸²éƒ½æ˜¯ç”¨ i % n ä»£æ›¿ i 
        while (j > 0 && a[i % n] != b[j]) j = next[j - 1];
        if (a[i % n] == b[j]) ++j;
        if (j == m) return i / n + 1;//è¿”å›açš„ä¸ªæ•°
    }
    return -1;//æ¨¡å¼ä¸²æ— æ³•åŒ¹é…ä¸»ä¸²
}
```

### å¤æ‚åº¦åˆ†æ

nä¸ºä¸»ä¸²é•¿åº¦ï¼Œmä¸ºæ¨¡å¼ä¸²é•¿åº¦

- æ—¶é—´å¤æ‚åº¦ï¼šO(m+n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(m)

## [214. æœ€çŸ­å›æ–‡ä¸²](https://leetcode.cn/problems/shortest-palindrome/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² ***s***ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨å­—ç¬¦ä¸²å‰é¢æ·»åŠ å­—ç¬¦å°†å…¶è½¬æ¢ä¸ºå›æ–‡ä¸²ã€‚æ‰¾åˆ°å¹¶è¿”å›å¯ä»¥ç”¨è¿™ç§æ–¹å¼è½¬æ¢çš„æœ€çŸ­å›æ–‡ä¸²ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aacecaaa"
è¾“å‡ºï¼š"aaacecaaa"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "abcd"
è¾“å‡ºï¼š"dcbabcd"
```

**æç¤ºï¼š**

- `0 <= s.length <= 5 * 104`
- `s` ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### å‚è€ƒé¢˜è§£

1. [ZeroAc](https://leetcode.cn/problems/shortest-palindrome/solutions/39655/c-li-yong-kmpsuan-fa-xiang-xi-tui-dao-zhuan-hua-gu)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šreverse + æ‹¼æ¥ + åˆ†å‰² + KMP  **:star:==

![SmartSelect_20240110_103855_Samsung Notes](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401101046884.jpg)

**:small_red_triangle_down: steps: **

1.  ä¿å­˜é€†è½¬å‰çš„sä¸ºs0
2.  é€†è½¬sï¼Œå¹¶å°†åˆ†éš”ç¬¦å’Œé€†è½¬åçš„sæ‹¼æ¥åˆ°s0åé¢
3.  æ±‚s0çš„nextæ•°ç»„
4.  å¾—åˆ°next.back()ï¼Œå³s0çš„æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦
5.  è¿”å› "sé€†" + "så»é™¤ç›¸ç­‰å‰ç¼€åå‰©ä¸‹çš„éƒ¨åˆ†"

### ä»£ç 

```c++
void getNext(vector<int> &next, const string &s) {
        int n = s.size();
        for (int pe = 0, se = 1; se < n; ++se) {
            // ä¸åŒ¹é…åˆ™peå›é€€
            while (pe > 0 && s[pe] != s[se]) pe = next[pe - 1];
            if (s[pe] == s[se]) pe++;
            next[se] = pe;
        }
    }
    string shortestPalindrome(string s) {
        int n = s.size();
        string s0 = string(s);
        reverse(s.begin(), s.end());//åè½¬åså˜æˆäº†sé€†
        s0 += "#" + s;//å¾—åˆ°s'=s+åˆ†éš”ç¬¦+sé€†
        vector<int> next(s0.size());
        getNext(next, s0);
        int maxlen = next.back();//å¾—åˆ°æœ€é•¿ç›¸ç­‰å‰åç¼€çš„é•¿åº¦
        // è¿”å› "sé€†" + "så»é™¤ç›¸ç­‰å‰ç¼€åå‰©ä¸‹çš„éƒ¨åˆ†"
        return s + s0.substr(maxlen, n - maxlen);
    }
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

## [lc451. æ ¹æ®å­—ç¬¦å‡ºç°é¢‘ç‡æ’åº](https://leetcode.cn/problems/sort-characters-by-frequency/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œæ ¹æ®å­—ç¬¦å‡ºç°çš„ **é¢‘ç‡** å¯¹å…¶è¿›è¡Œ **é™åºæ’åº** ã€‚ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„ **é¢‘ç‡** æ˜¯å®ƒå‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„æ¬¡æ•°ã€‚

è¿”å› *å·²æ’åºçš„å­—ç¬¦ä¸²* ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¿”å›å…¶ä¸­ä»»ä½•ä¸€ä¸ªã€‚

 **æç¤º:**

- `1 <= s.length <= 5 * 105`
- `s` ç”±å¤§å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ç»„æˆ

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "tree"
è¾“å‡º: "eert"
è§£é‡Š: 'e'å‡ºç°ä¸¤æ¬¡ï¼Œ'r'å’Œ't'éƒ½åªå‡ºç°ä¸€æ¬¡ã€‚
å› æ­¤'e'å¿…é¡»å‡ºç°åœ¨'r'å’Œ't'ä¹‹å‰ã€‚æ­¤å¤–ï¼Œ"eetr"ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç­”æ¡ˆã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "cccaaa"
è¾“å‡º: "cccaaa"
è§£é‡Š: 'c'å’Œ'a'éƒ½å‡ºç°ä¸‰æ¬¡ã€‚æ­¤å¤–ï¼Œ"aaaccc"ä¹Ÿæ˜¯æœ‰æ•ˆçš„ç­”æ¡ˆã€‚
æ³¨æ„"cacaca"æ˜¯ä¸æ­£ç¡®çš„ï¼Œå› ä¸ºç›¸åŒçš„å­—æ¯å¿…é¡»æ”¾åœ¨ä¸€èµ·ã€‚
```

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/sort-characters-by-frequency/solutions/855833/gen-ju-zi-fu-chu-xian-pin-lu-pai-xu-by-l-zmvy/) 

### æ³•ä¸€

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šunorderedå“ˆå¸Œ +  æŒ‰ç…§å‡ºç°é¢‘ç‡æ’åº   **:star:==

**:key:  keyï¼š**

- ä½¿ç”¨æ— åºmapå­˜å‚¨å­—ç¬¦å’Œå‡ºç°æ¬¡æ•°æ˜ å°„å…³ç³»
- åœ¨vectorä¸­å­˜å‚¨pairå¯¹ï¼Œåˆ©ç”¨vectorè‡ªå®šä¹‰æ’åº

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆè¦ç”¨unordered_mapè®°å½•å­—ç¬¦ä»¥åŠå­—ç¬¦çš„å‡ºç°é¢‘æ¬¡?èƒ½ä¸èƒ½ç”¨å“ˆå¸Œæ•°ç»„ï¼Ÿ
2. ä¸ºä»€ä¹ˆè¦ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å› ä¸ºè¿˜å¯èƒ½å­˜åœ¨æ•°å­—ï¼Œç”¨æ•°ç»„çš„è¯å°±æ— æ³•åšæ˜ å°„äº†

**:small_red_triangle_down: steps: **

1.  éå†sï¼Œå°†å­—ç¬¦ä»¥åŠå­—ç¬¦çš„å‡ºç°é¢‘æ¬¡å­˜åˆ°unordered_map
2.  unordered_mapä¸å¥½æ’åºï¼ˆè‡ªå®šä¹‰æ’åºæ¯”è¾ƒéš¾å†™ï¼Ÿï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å°†å…¶ä¸­æ¯ä¸ªpairå–å‡ºæ”¾åˆ°vectorä»¥ä¾¿åç»­æ’åº
3.  ç»™vectorä¸­æ¯ä¸ªpairæŒ‰å­—ç¬¦(first)çš„å‡ºç°é¢‘æ¬¡(second)é™åºæ’åº
4.  éå†æ’åºåçš„vecï¼Œå°†æ¯ä¸ªå­—ç¬¦æŒ‰å‡ºç°é¢‘æ¬¡å°¾åŠ åˆ°resç»“æœå­—ç¬¦ä¸²ï¼ˆä¸€ä¸ªç›¸åŒå­—ç¬¦å‡ºç°è¿‡å‡ æ¬¡å°±è¦å°¾åŠ åˆ°reså‡ æ¬¡ï¼‰

:smiley: **æ”¶è·ï¼š ** 

- sort()çš„æ—¶é—´å¤æ‚åº¦O(nlogn)
- ç”¨foréå†æ—¶ï¼Œä½¿ç”¨å¼•ç”¨`&`ï¼Œä¼šç¨å¾®æé«˜ä¸€ç‚¹æ•ˆç‡ï¼Œå› ä¸ºå®ƒé¿å…äº†å€¼çš„æ‹·è´ã€‚

#### ä»£ç 

```c++
string frequencySort(string s) {
    unordered_map<char, int> map;
    for (auto &ch : s) map[ch]++;
    // ä»mapä¸­å–å‡ºpairå­˜åˆ°vectorä¸­
    vector<pair<char, int>> vec;
    for (auto &p : map) vec.emplace_back(p);
    // ç»™vectorä¸­æ¯ä¸ªpairæŒ‰å­—ç¬¦(first)çš„å‡ºç°é¢‘æ¬¡(second)é™åºæ’åº
    // sort()çš„æ—¶é—´å¤æ‚åº¦O(klogk)ï¼Œkæ˜¯ä¸åŒå­—ç¬¦çš„ä¸ªæ•°
    sort(vec.begin(), vec.end(), [](const pair<char, int> &a, const pair<char, int> &b){return a.second > b.second;});
    string res;//ç»“æœå­—ç¬¦ä¸²
    for (auto &p : vec) { // æ‰€æœ‰å‡ºç°è¿‡çš„ç›¸åŒå­—ç¬¦éƒ½è¦å°¾è¿½åˆ°resï¼Œå¦åˆ™ç›¸åŒå…ƒç´ å°±åªå‰©ä¸€ä¸ªäº†
        // for (int i = 0; i < p.second; i++) res += p.first;
        res += string(p.second, p.first);//å°±ä¸éœ€è¦å†™ä¸ªforå¾ªç¯äº†
        //string(int n, char c);//ä½¿ç”¨nä¸ªå­—ç¬¦cåˆå§‹åŒ–
    }
    // ä¹Ÿå¯ä»¥å†™æˆç»“æ„åŒ–ç»‘å®šï¼ˆstructured bindingï¼‰çš„å†™æ³•ï¼Œå°†vecä¸­çš„pairè§£æ„ä¸ºchå’Œcnt
    // for (auto &[ch, cnt] : vec) {
    //     for (int i = 0; i < cnt; i++) res += ch;
    // }
    return res;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n+klogk)  ã€‚kæ˜¯å­—ç¬¦ä¸²åŒ…å«çš„ä¸åŒå­—ç¬¦çš„ä¸ªæ•°

    ç»Ÿè®¡å­—ç¬¦é¢‘æ¬¡ï¼šO(n)

    æ„å»ºvectorï¼šO(k)

    æ’åºvectorï¼šO(k log k)

    æ„å»ºç»“æœå­—ç¬¦ä¸²ï¼šO(n)

- ç©ºé—´å¤æ‚åº¦ï¼šO(n+k)ã€‚

    å“ˆå¸Œè¡¨`map`çš„ç©ºé—´å–å†³äºè¾“å…¥å­—ç¬¦ä¸²ä¸­ä¸åŒå­—ç¬¦çš„æ•°é‡ï¼Œä¸ºO(k)ã€‚

    vector<>æ˜¯O(k)ï¼›

    ç”Ÿæˆçš„æ’åºåçš„ç»“æœå­—ç¬¦ä¸²O(n)

### æ³•äºŒ

#### æ€è·¯

å¯ä»¥å‘ç°ï¼Œæ³•ä¸€ä¸­ä¸»è¦çš„æ—¶é—´å¤æ‚åº¦ç“¶é¢ˆæ˜¯æ’åºï¼Œç”±äºæ¯ä¸ªå­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°çš„é¢‘ç‡å­˜åœ¨ä¸Šé™ï¼Œå¦‚æœå¯¹é¢‘æ¬¡è¿›è¡Œæ¡¶æ’åºï¼ˆBucket Sortï¼‰å¯èƒ½èƒ½å¤Ÿåœ¨æŸäº›æƒ…å†µä¸‹æé«˜æ€§èƒ½ã€‚ï¼ˆä½†è¿™é€šå¸¸è¦æ±‚é¢å¤–çš„ç©ºé—´ï¼Œè€Œä¸”åœ¨å®è·µä¸­å¯èƒ½å¹¶ä¸æ€»æ˜¯æ¯”æ ‡å‡†æ’åºæ›´ä¼˜ï¼‰

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å¯¹é¢‘æ¬¡è¿›è¡Œæ¡¶æ’åº **:star:==

**:small_red_triangle_down: steps: **

1.  éå†å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡ï¼ŒåŒæ—¶è®°å½•æœ€é«˜é¢‘æ¬¡maxFreqï¼›
2.  åˆ›å»ºæ¡¶ï¼Œå­˜å‚¨ä»1åˆ°maxFreqæ¯ä¸ªå‡ºç°é¢‘æ¬¡çš„å­—ç¬¦ï¼›
3.  æŒ‰ç…§å‡ºç°é¢‘ç‡ä»å¤§åˆ°å°çš„é¡ºåºéå†æ¡¶ï¼Œå¯¹äºæ¯ä¸ªå‡ºç°é¢‘ç‡ï¼Œå–å¾—å¯¹åº”çš„å­—ç¬¦ï¼Œç„¶åå°†æ¯ä¸ªå­—ç¬¦æŒ‰ç…§å‡ºç°é¢‘æ¬¡æ‹¼æ¥åˆ°æ’åºåçš„å­—ç¬¦ä¸²ã€‚

#### ä»£ç 

```c++
string frequencySort(string s) {
    unordered_map<char, int> mp;
    int maxFreq = 0;
    // éå†å­—ç¬¦ä¸²ï¼Œç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„é¢‘ç‡ï¼ŒåŒæ—¶è®°å½•æœ€é«˜é¢‘æ¬¡maxFreqï¼›
    for (auto &ch : s) {
        maxFreq = max(maxFreq, ++mp[ch]);
    }
    // åˆ›å»ºæ¡¶ï¼ˆæ¯ä¸ªæ¡¶æ˜¯ä¸€ä¸ªstringï¼Œå­˜æ”¾å¤šä¸ªcharï¼Œæ¯ä¸ªæ¡¶å¯¹åº”çš„ä¸‹æ ‡å°±æ˜¯æ¡¶å†…å­—ç¬¦å‡ºç°é¢‘æ¬¡ï¼‰
    // å­˜å‚¨ä»1åˆ°maxFreqæ¯ä¸ªå‡ºç°é¢‘æ¬¡çš„å­—ç¬¦ï¼›
    vector<string> buckets(maxFreq + 1);//buckets.size() - 1 = maxFreq
    for (auto &[ch, cnt] : mp) { //ç»“æ„åŒ–ç»‘å®šçš„å†™æ³•
        buckets[cnt].push_back(ch);//å‘é¢‘æ¬¡ä¸ºcntçš„æ¡¶æ·»åŠ chå­—ç¬¦
    }
    string res;//ç»“æœå­—ç¬¦ä¸²
    // æŒ‰ç…§å‡ºç°é¢‘ç‡ä»å¤§åˆ°å°çš„é¡ºåºéå†æ¡¶ï¼Œå¯¹äºæ¯ä¸ªå‡ºç°é¢‘ç‡ï¼Œå–å¾—å¯¹åº”çš„å­—ç¬¦ï¼Œç„¶åå°†æ¯ä¸ªå­—ç¬¦æŒ‰ç…§å‡ºç°é¢‘æ¬¡æ‹¼æ¥åˆ°æ’åºåçš„å­—ç¬¦ä¸²ã€‚
    for (int i = buckets.size() - 1; i >= 0; --i) {
        //å½“å‰éå†çš„æ¡¶buckets[i],å…¶ä¸­å­—ç¬¦å¯¹åº”çš„å‡ºç°é¢‘æ¬¡æ˜¯i
        string &bucket = buckets[i];
        //å–å‡ºæ¡¶(string)ä¸­çš„æ¯ä¸ªå­—ç¬¦
        for (auto ch : bucket) {
            // for (int k = 0; k < i; ++k) res += ch;
            res += string(i,ch);//å°±ä¸éœ€è¦å†™ä¸ªforå¾ªç¯äº†
            //string(int n, char c);//ä½¿ç”¨nä¸ªå­—ç¬¦cåˆå§‹åŒ–
        }
    }
    return res;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n + k)  

    ç»Ÿè®¡å­—ç¬¦é¢‘æ¬¡ï¼šO(n)

    åˆ›å»ºæ¡¶å¹¶å°†ä¸åŒå­—ç¬¦åŠ å…¥æ¡¶ï¼šO(k)

    ç”Ÿæˆæ’åºåçš„å­—ç¬¦ä¸²ï¼šO(n)

- ç©ºé—´å¤æ‚åº¦ï¼šO(n + k)  

    å“ˆå¸Œmapå’Œæ¡¶éƒ½æ˜¯ï¼šO(k)

    ç”Ÿæˆæ’åºåçš„å­—ç¬¦ä¸²ï¼šO(n)

## [lc423. ä»è‹±æ–‡ä¸­é‡å»ºæ•°å­—](https://leetcode.cn/problems/reconstruct-original-digits-from-english/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œå…¶ä¸­åŒ…å«å­—æ¯é¡ºåºæ‰“ä¹±çš„ç”¨è‹±æ–‡å•è¯è¡¨ç¤ºçš„è‹¥å¹²æ•°å­—ï¼ˆ`0-9`ï¼‰ã€‚æŒ‰ **å‡åº** è¿”å›åŸå§‹çš„æ•°å­—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "owoztneoer"
è¾“å‡ºï¼š"012"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "fviefuro"
è¾“å‡ºï¼š"45"
```

**æç¤ºï¼š**

- `1 <= s.length <= 105`
- `s[i]` ä¸º `["e","g","f","i","h","o","n","s","r","u","t","w","v","x","z"]` è¿™äº›å­—ç¬¦ä¹‹ä¸€
- `s` ä¿è¯æ˜¯ä¸€ä¸ªç¬¦åˆé¢˜ç›®è¦æ±‚çš„å­—ç¬¦ä¸²

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/reconstruct-original-digits-from-english/solutions/1118750/guan-fang-jie-fa-ba-mapji-shu-huan-cheng-rssq/) 

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å“ˆå¸Œ +  æ’é™¤ **:star:==

**:key:  keyï¼š**

- é¦–å…ˆç»Ÿè®¡æ¯ä¸ªå­—æ¯åˆ†åˆ«ä¼šåœ¨å“ªäº›æ•°å­—ä¸­å‡ºç° ã€‚

- ç»Ÿè®¡ä¹‹åå¯ä»¥å‘ç°ï¼Œz, w, u, x, g éƒ½åªåœ¨ä¸€ä¸ªæ•°å­—ä¸­ï¼Œå³ 0,2,4,6,8 ä¸­å‡ºç°ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨ç»Ÿè®¡sä¸­æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆ z, w, u, x, gå‡ºç°çš„æ¬¡æ•°ï¼Œå³åˆ†åˆ«ä¸º 0,2,4,6,8 å‡ºç°çš„æ¬¡æ•°ã€‚

- éšåæˆ‘ä»¬å¯ä»¥æ³¨æ„é‚£äº›åªåœ¨ä¸¤ä¸ªæ•°å­—ä¸­å‡ºç°çš„å­—ç¬¦ï¼š

    - h åªåœ¨ 3,8 ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 8 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 3 å‡ºç°çš„æ¬¡æ•°ã€‚

    - f åªåœ¨ 4,5 ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 4 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 5 å‡ºç°çš„æ¬¡æ•°ã€‚
    - s åªåœ¨ 6,7 ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 6 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 7 å‡ºç°çš„æ¬¡æ•°ã€‚

- æ­¤æ—¶ï¼Œæˆ‘ä»¬è¿˜å‰©ä¸‹ 1 å’Œ 9 çš„å‡ºç°æ¬¡æ•°æ²¡æœ‰æ±‚å‡ºï¼š
    - o åªåœ¨ 0,1,2,4 ä¸­å‡ºç°ï¼Œç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 0,2,4 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 1 å‡ºç°çš„æ¬¡æ•°ã€‚
    - æœ€åçš„ 9 å°±å¯ä»¥é€šè¿‡ n, i, e ä¸­çš„ä»»ä¸€å­—ç¬¦è®¡ç®—å¾—åˆ°äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨ i è¿›è¡Œè®¡ç®—ï¼Œå› ä¸º n åœ¨ 9 ä¸­å‡ºç°äº† 2æ¬¡ï¼Œe åœ¨ 3ä¸­å‡ºç°äº† 2æ¬¡ï¼Œå®¹æ˜“åœ¨è®¡ç®—ä¸­é—æ¼ã€‚è€Œiéƒ½åªåœ¨5,6,8,9ä¸­å‡ºç°ä¸€æ¬¡

**:small_red_triangle_down: steps: **

1.  ç»Ÿè®¡sä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
2.  ä¾æ¬¡ç¡®å®š0~9æ¯ä¸€ä¸ªæ•°å­—åœ¨sä¸­çš„å‡ºç°æ¬¡æ•°
3.  å‡åºæ‹¼æ¥æ•°å­—

### ä»£ç 

```c++
string originalDigits(string s) {
    // ç»Ÿè®¡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°
    unordered_map<char, int> mp;
    for (auto ch : s) ++mp[ch];
    // ä¾æ¬¡ç¡®å®šæ¯ä¸€ä¸ªæ•°å­—çš„å‡ºç°æ¬¡æ•°
    vector<int> cnt(10);//0~9
    cnt[0] = mp['z'];//æ•°å­—0å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'z'å‡ºç°çš„æ¬¡æ•°
    cnt[2] = mp['w'];//æ•°å­—2å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'w'å‡ºç°çš„æ¬¡æ•°
    cnt[4] = mp['u'];//æ•°å­—4å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'u'å‡ºç°çš„æ¬¡æ•°
    cnt[6] = mp['x'];//æ•°å­—6å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'x'å‡ºç°çš„æ¬¡æ•°
    cnt[8] = mp['g'];//æ•°å­—8å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'g'å‡ºç°çš„æ¬¡æ•°
    //ç°åœ¨å·²çŸ¥äº†0,2,4,6,8çš„å‡ºç°æ¬¡æ•°, å°±å¯ä»¥æ ¹æ®
    // håªåœ¨ 3,8 ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 8 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 3 å‡ºç°çš„æ¬¡æ•°ã€‚
    // f åªåœ¨ 4,5 ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 4 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 5 å‡ºç°çš„æ¬¡æ•°ã€‚
    // s åªåœ¨ 6,7 ä¸­å‡ºç°ã€‚ç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 6 å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º 7 å‡ºç°çš„æ¬¡æ•°ã€‚
    cnt[3] = mp['h'] - cnt[8];//æ•°å­—3å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'h'å‡ºç°çš„æ¬¡æ•° - å…¶åœ¨8ä¸­å‡ºç°çš„æ¬¡æ•°
    cnt[5] = mp['f'] - cnt[4];//æ•°å­—5å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'f'å‡ºç°çš„æ¬¡æ•° - å…¶åœ¨4ä¸­å‡ºç°çš„æ¬¡æ•°
    cnt[7] = mp['s'] - cnt[6];//æ•°å­—7å‡ºç°çš„æ¬¡æ•°å°±æ˜¯'s'å‡ºç°çš„æ¬¡æ•° - å…¶åœ¨6ä¸­å‡ºç°çš„æ¬¡æ•°
    // æ­¤æ—¶ï¼Œæˆ‘ä»¬è¿˜å‰©ä¸‹ 1 å’Œ 9 çš„å‡ºç°æ¬¡æ•°æ²¡æœ‰æ±‚å‡º
    cnt[1] = mp['o'] - cnt[0] - cnt[1] - cnt[2] - cnt[4];//oåªåœ¨ 0,1,2,4ä¸­å‡ºç°ï¼Œç”±äºæˆ‘ä»¬å·²ç»çŸ¥é“äº† 0,2,4å‡ºç°çš„æ¬¡æ•°ï¼Œå› æ­¤å¯ä»¥è®¡ç®—å‡º1å‡ºç°çš„æ¬¡æ•°ã€‚
    // æœ€åçš„9å°±å¯ä»¥é€šè¿‡n,Â i,Â eä¸­çš„ä»»ä¸€å­—ç¬¦è®¡ç®—å¾—åˆ°äº†ã€‚è¿™é‡Œæ¨èä½¿ç”¨iè¿›è¡Œè®¡ç®—ï¼Œå› ä¸ºnåœ¨9ä¸­å‡ºç°äº†2æ¬¡ï¼Œeåœ¨3 ä¸­å‡ºç°äº†2æ¬¡ï¼Œå®¹æ˜“åœ¨è®¡ç®—ä¸­é—æ¼ã€‚è€Œ i éƒ½åªåœ¨5,6,8,9ä¸­å‡ºç°ä¸€æ¬¡
    cnt[9] = mp['i'] - cnt[5] - cnt[6] - cnt[8] - cnt[9];
    // å½“æˆ‘ä»¬ç»Ÿè®¡å®Œæ¯ä¸ªæ•°å­—å‡ºç°çš„æ¬¡æ•°åï¼Œæˆ‘ä»¬æŒ‰ç…§å‡åºå°†å®ƒä»¬è¿›è¡Œæ‹¼æ¥å³å¯ã€‚
    string res;
    for (int i = 0; i < 10; ++i) {
        res += string(cnt[i], i + '0');
        //string(int n, char c); ä½¿ç”¨nä¸ªå­—ç¬¦cæ„é€ ä¸€ä¸ªstring
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  , næ˜¯å­—ç¬¦ä¸²sçš„é•¿åº¦

- ç©ºé—´å¤æ‚åº¦ï¼šO()


## [lc696. è®¡æ•°äºŒè¿›åˆ¶å­ä¸²](https://leetcode.cn/problems/count-binary-substrings/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œç»Ÿè®¡å¹¶è¿”å›å…·æœ‰ç›¸åŒæ•°é‡ `0` å’Œ `1` çš„éç©ºï¼ˆè¿ç»­ï¼‰å­å­—ç¬¦ä¸²çš„æ•°é‡ï¼Œå¹¶ä¸”è¿™äº›å­å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰ `0` å’Œæ‰€æœ‰ `1` éƒ½æ˜¯æˆç»„è¿ç»­çš„ã€‚åœ¨ä¸åŒä½ç½® é‡å¤å‡ºç°çš„å­ä¸²ä¹Ÿè¦ç»Ÿè®¡å®ƒä»¬å‡ºç°çš„æ¬¡æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "00110011"
è¾“å‡ºï¼š6
è§£é‡Šï¼š6 ä¸ªå­ä¸²æ»¡è¶³å…·æœ‰ç›¸åŒæ•°é‡çš„è¿ç»­ 1 å’Œ 0 ï¼š"0011"ã€"01"ã€"1100"ã€"10"ã€"0011" å’Œ "01" ã€‚
æ³¨æ„ï¼Œä¸€äº›é‡å¤å‡ºç°çš„å­ä¸²ï¼ˆä¸åŒä½ç½®ï¼‰è¦ç»Ÿè®¡å®ƒä»¬å‡ºç°çš„æ¬¡æ•°ã€‚
å¦å¤–ï¼Œ"00110011" ä¸æ˜¯æœ‰æ•ˆçš„å­ä¸²ï¼Œå› ä¸ºæ‰€æœ‰çš„ 0ï¼ˆè¿˜æœ‰ 1 ï¼‰æ²¡æœ‰ç»„åˆåœ¨ä¸€èµ·ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "10101"
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ‰ 4 ä¸ªå­ä¸²ï¼š"10"ã€"01"ã€"10"ã€"01" ï¼Œå…·æœ‰ç›¸åŒæ•°é‡çš„è¿ç»­ 1 å’Œ 0 ã€‚
```

**æç¤ºï¼š**

- `1 <= s.length <= 105`
- `s[i]` ä¸º `'0'` æˆ– `'1'`

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/count-binary-substrings/solutions/) 

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æŒ‰å­—ç¬¦ã€åˆ†ç»„ã€‘   **:star:==

**:key:  keyï¼š**

- å°† s æŒ‰ç…§ 0 å’Œ 1 çš„è¿ç»­æ®µåˆ†ç»„ï¼Œå­˜åœ¨cntsæ•°ç»„ä¸­ã€‚ï¼ˆä¾‹å¦‚ s=0011101ï¼Œå¯ä»¥å¾—åˆ°è¿™æ ·çš„ cnts æ•°ç»„ï¼šcnts={2,3,1,2}ã€‚ï¼‰
- cntsæ•°ç»„ä¸­ä¸¤ä¸ªç›¸é‚»å…ƒç´  cnt[i-1]å’Œcnts[i] å°±ä»£è¡¨å„è‡ªåˆ†ç»„ä¸­'0'çš„å­—ç¬¦æ•°æˆ–'1'çš„å­—ç¬¦æ•°ã€‚
- åˆ™ç›¸é‚»åˆ†ç»„èƒ½ç»„æˆçš„æ»¡è¶³æ¡ä»¶çš„å­ä¸²æ•°å°±ä¸ºmin(cnts[i-1],cnt[i])

#### å†™æ³•1. ç©ºé—´å¤æ‚åº¦O(n)

##### ä»£ç 

```c++
int countBinarySubstrings(string s) {
    int res = 0, n = s.size(), i = 0;
    vector<int> cnts;//è®°å½•æ¯ä¸ªåˆ†ç»„çš„å­—ç¬¦æ•°
    while (i < n) {
        char c = s[i];//å½“å‰éå†å­—ç¬¦ï¼Œåªæœ‰'0','1'ä¸¤ç§å¯èƒ½
        int cnt = 0;//åˆå§‹åŒ–è¯¥åˆ†ç»„çš„å­—ç¬¦ä¸ªæ•°
        while (i < n && s[i] == c) {
            ++i;
            ++cnt;
        }
        cnts.emplace_back(cnt);//å°†è¯¥åˆ†ç»„çš„å­—ç¬¦ä¸ªæ•°pushåˆ°cnts
    }
    // ç›¸é‚»åˆ†ç»„èƒ½ç»„æˆçš„æ»¡è¶³æ¡ä»¶çš„å­ä¸²æ•°ä¸ºmin(cnts[j],cnt[j-1])
    for (int j = 1; j < cnts.size(); ++j) {
        res += min(cnts[j], cnts[j - 1]);
    }
    return res;
}
```

##### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

> å…¶å®å¯ä»¥ä¸ç”¨æ•°ç»„è®°å½•æ¯ä¸ªåˆ†ç»„çš„å­—ç¬¦æ•°ï¼Œå¯ä»¥å°±ç”¨ä¸€ä¸ª lastCnt å˜é‡æ¥ç»´æŠ¤å‰ä¸€ä¸ªåˆ†ç»„çš„å­—ç¬¦æ•°

#### å†™æ³•1. ç©ºé—´å¤æ‚åº¦O(1)

##### ä»£ç 

```c++
int countBinarySubstrings(string s) {
    int res = 0, n = s.size(), i = 0;
    int lastCnt = 0;//è®°å½•ä¸Šä¸€ä¸ªåˆ†ç»„çš„å­—ç¬¦æ•°
    while (i < n) {
        char c = s[i];//å½“å‰éå†å­—ç¬¦ï¼Œåªæœ‰'0','1'ä¸¤ç§å¯èƒ½
        int cnt = 0;//è®°å½•å½“å‰åˆ†ç»„çš„å­—ç¬¦ä¸ªæ•°
        while (i < n && s[i] == c) {
            ++i;
            ++cnt;
        }
        res += min(lastCnt, cnt);
        lastCnt = cnt;
    }
    return res;
}
```

##### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [lc467. ç¯ç»•å­—ç¬¦ä¸²ä¸­å”¯ä¸€çš„å­å­—ç¬¦ä¸²](https://leetcode.cn/problems/unique-substrings-in-wraparound-string/)

### é¢˜æ„

å®šä¹‰å­—ç¬¦ä¸² `base` ä¸ºä¸€ä¸ª `"abcdefghijklmnopqrstuvwxyz"` æ— é™ç¯ç»•çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ `base` çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š

- `"...zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcd...."`.

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› `s` ä¸­æœ‰å¤šå°‘ **ä¸åŒ**éç©ºå­ä¸² ä¹Ÿåœ¨ `base` ä¸­å‡ºç°ã€‚

 ç¿»è¯‘ä¸‹é¢˜ç›®ï¼š å­—ç¬¦ä¸²baseæ˜¯æŠŠabc...xyzç»•æˆäº†ä¸€åœˆçš„ç¯ï¼Œç„¶åsçš„å­ä¸²å¦‚æœåœ¨è¿™åœˆ26ä¸ªå­—æ¯çš„ç¯é‡Œé¢èƒ½æ‰¾åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªsçš„å­ä¸²å°±æ˜¯æœ‰æ•ˆçš„ã€‚é¢˜ç›®è¦æ±‚æ‰¾å‡ºsæ‰€æœ‰çš„æœ‰æ•ˆå­ä¸²ã€‚ ï¼ˆå¹¶ä¸æ˜¯æŠŠsææˆåœˆï¼ï¼‰

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "a"
è¾“å‡ºï¼š1
è§£é‡Šï¼šå­—ç¬¦ä¸² s çš„å­å­—ç¬¦ä¸² "a" åœ¨ base ä¸­å‡ºç°ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "cac"
è¾“å‡ºï¼š2
è§£é‡Šï¼šå­—ç¬¦ä¸² s æœ‰ä¸¤ä¸ªå­å­—ç¬¦ä¸² ("a", "c") åœ¨ base ä¸­å‡ºç°ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "zab"
è¾“å‡ºï¼š6
è§£é‡Šï¼šå­—ç¬¦ä¸² s æœ‰å…­ä¸ªå­å­—ç¬¦ä¸² ("z", "a", "b", "za", "ab", and "zab") åœ¨ base ä¸­å‡ºç°ã€‚
```

**æç¤ºï¼š**

- `1 <= s.length <= 105`
- s ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### æ³•ä¸€

å‚è€ƒé¢˜è§£ï¼š[å®˜è§£](https://leetcode.cn/problems/unique-substrings-in-wraparound-string/solutions/1514359/huan-rao-zi-fu-chuan-zhong-wei-yi-de-zi-ndvea/)

==:star: **æ ¸å¿ƒæ€è·¯ï¼š +   +   **:star:==

**:key:  keyï¼š**

- å…³é”®åœ¨äºdpå®šä¹‰ï¼å¦‚æœæƒ³é”™äº†çš„è¯æ ¹æœ¬wu'fa

**:small_red_triangle_down: steps: **

1.  ç¡®å®šdpæ•°ç»„ä»¥åŠä¸‹æ ‡çš„å«ä¹‰ï¼š
    - dp[i]è¡¨ç¤ºsä¸­ä»¥`å­—æ¯i+'a'`ä¸ºç»“å°¾çš„,å­˜åœ¨äºbaseä¸­çš„å­ä¸²çš„æœ€é•¿é•¿åº¦ã€‚çŸ¥é“äº†è¿™ä¸ªæœ€é•¿é•¿åº¦ï¼Œä¹Ÿå°±çŸ¥é“äº†sä¸­ä»¥è¯¥å­—æ¯ç»“å°¾çš„ä¸åŒå­ä¸²æ•°ï¼ˆè€Œä¸æ˜¯ä»¥ä¸‹æ ‡iä¸ºç»“å°¾çš„ä¸åŒå­ä¸²æ•°ï¼‰
    - è€Œä¸æ˜¯è¡¨ç¤ºsä¸­ä»¥`ä¸‹æ ‡i`ä¸ºç»“å°¾çš„,å­˜åœ¨äºbaseä¸­çš„å­ä¸²çš„æœ€é•¿é•¿åº¦ï¼"ä»¥ä¸‹æ ‡iä¸ºç»“å°¾"è¯´æ˜æ˜¯ä»¥sä¸ºåŸºç¡€çš„dpã€‚ä½†æ˜¯å› ä¸ºs[i]å¯èƒ½ç›¸åŒï¼Œè®¡ç®—ç»“æœæ—¶å°±ä¼šç®—é‡ã€‚å› æ­¤æˆ‘ä»¬è¦åŸºäº26ä¸ªä¸åŒå°å†™è‹±æ–‡å­—æ¯ä¸ºdp
2.  éå†s ï¼ˆlenè¡¨ç¤ºä»¥`ä¸‹æ ‡i`ä¸ºç»“å°¾çš„,å­˜åœ¨äºbaseä¸­çš„å­ä¸²çš„æœ€é•¿é•¿åº¦æ˜¯lenï¼‰
    - è‹¥s[i]æ˜¯s[i-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆè¯´æ˜èƒ½æ¥ä¸Šï¼Œæ‰€ä»¥len++
    - å¦åˆ™ï¼Œæ¥ä¸ä¸Šï¼Œæ‰€ä»¥len=1
    - å¦‚æœä»¥`å­—ç¬¦s[i]`ç»“å°¾çš„å­ä¸²é•¿åº¦è¶…è¿‡äº†dpä¸­è®°å½•çš„ä»¥è¯¥å­—ç¬¦ä¸ºç»“å°¾çš„æœ€é•¿å­ä¸²é•¿åº¦ï¼Œåˆ™æ›´æ–°dp
3.  ç´¯åŠ dpæ•°ç»„ä¸­çš„å…¨éƒ¨å€¼ï¼Œä½œä¸ºç»“æœ

#### ä»£ç 

```c++
int findSubstringInWraproundString(string s) {
    // dp[i]è¡¨ç¤ºsä¸­ä»¥ã€å­—æ¯i+'a'ã€‘ä¸ºç»“å°¾çš„,å­˜åœ¨äºbaseä¸­çš„å­ä¸²çš„æœ€é•¿é•¿åº¦ã€‚
    //çŸ¥é“äº†è¿™ä¸ªæœ€é•¿é•¿åº¦ï¼Œä¹Ÿå°±çŸ¥é“äº†sä¸­ä»¥è¯¥å­—æ¯ç»“å°¾çš„ä¸åŒå­ä¸²æ•°
    vector<int> dp(26);
    int len = 0; //lenè¡¨ç¤ºä»¥`ä¸‹æ ‡i`ä¸ºç»“å°¾çš„,å­˜åœ¨äºbaseä¸­çš„å­ä¸²çš„æœ€é•¿é•¿åº¦æ˜¯len
    for (int i = 0; i < s.size(); ++i) {//éå†sã€‚å½“å‰éå†å­—ç¬¦ä¸ºs[i]ï¼Œå¯¹åº”å­—ç¬¦åœ¨dpæ•°ç»„ä¸­çš„ç´¢å¼•å°±æ˜¯s[i]-'a'
        // è‹¥s[i]æ˜¯s[i-1] çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆè¯´æ˜èƒ½æ¥ä¸Šï¼Œæ‰€ä»¥len++
        if (i > 0 && (s[i] - s[i-1] == 1 || s[i] == 'a' && s[i-1] == 'z')) len++; //ä¹Ÿå¯ä»¥ç”¨æ±‚ä½™è¿ç®— (s[i-1] + 1) % 26 == s[i] % 26
        // å¦åˆ™ï¼Œæ¥ä¸ä¸Šï¼Œæ‰€ä»¥len=1
        else len = 1;
        //å¦‚æœä»¥`å­—ç¬¦s[i]`ç»“å°¾çš„å­ä¸²é•¿åº¦è¶…è¿‡äº†dpä¸­è®°å½•çš„ä»¥è¯¥å­—ç¬¦ä¸ºç»“å°¾çš„æœ€é•¿å­ä¸²é•¿åº¦ï¼Œåˆ™æ›´æ–°dp
        dp[s[i] - 'a'] = max(dp[s[i] - 'a'], len);
    }
    return accumulate(dp.begin(), dp.end(), 0);
    // è¡¨ç¤ºç´¯åŠ [dp.begin(),dp.end())åŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œç´¯åŠ åˆå€¼ä¸º0
}
```

### æ³•äºŒ

å‚è€ƒé¢˜è§£ï¼š[lucifer](https://leetcode.cn/problems/unique-substrings-in-wraparound-string/solutions/432752/xi-fa-dai-ni-xue-suan-fa-yi-ci-gao-ding-qian-zhui-/)

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ»‘åŠ¨çª—å£ **:star:==



## [lc535. TinyURL çš„åŠ å¯†ä¸è§£å¯†](https://leetcode.cn/problems/encode-and-decode-tinyurl/)

### é¢˜æ„

TinyURL æ˜¯ä¸€ç§ URL ç®€åŒ–æœåŠ¡ï¼Œ æ¯”å¦‚ï¼šå½“ä½ è¾“å…¥ä¸€ä¸ª URL `https://leetcode.com/problems/design-tinyurl` æ—¶ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªç®€åŒ–çš„URL `http://tinyurl.com/4e9iAk` ã€‚è¯·ä½ è®¾è®¡ä¸€ä¸ªç±»æ¥åŠ å¯†ä¸è§£å¯† TinyURL ã€‚

åŠ å¯†å’Œè§£å¯†ç®—æ³•å¦‚ä½•è®¾è®¡å’Œè¿ä½œæ˜¯æ²¡æœ‰é™åˆ¶çš„ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ª URL å¯ä»¥è¢«åŠ å¯†æˆä¸€ä¸ª TinyURL ï¼Œå¹¶ä¸”è¿™ä¸ª TinyURL å¯ä»¥ç”¨è§£å¯†æ–¹æ³•æ¢å¤æˆåŸæœ¬çš„ URL ã€‚

å®ç° `Solution` ç±»ï¼š

- `Solution()` åˆå§‹åŒ– TinyURL ç³»ç»Ÿå¯¹è±¡ã€‚
- `String encode(String longUrl)` è¿”å› `longUrl` å¯¹åº”çš„ TinyURL ã€‚
- `String decode(String shortUrl)` è¿”å› `shortUrl` åŸæœ¬çš„ URL ã€‚é¢˜ç›®æ•°æ®ä¿è¯ç»™å®šçš„ `shortUrl` æ˜¯ç”±åŒä¸€ä¸ªç³»ç»Ÿå¯¹è±¡åŠ å¯†çš„ã€‚

**æç¤ºï¼š**

- `1 <= url.length <= 104`
- é¢˜ç›®æ•°æ®ä¿è¯ `url` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ URL

**ç¤ºä¾‹ï¼š**

```
è¾“å…¥ï¼šurl = "https://leetcode.com/problems/design-tinyurl"
è¾“å‡ºï¼š"https://leetcode.com/problems/design-tinyurl"

è§£é‡Šï¼š
Solution obj = new Solution();
string tiny = obj.encode(url); // è¿”å›åŠ å¯†åå¾—åˆ°çš„ TinyURL ã€‚
string ans = obj.decode(tiny); // è¿”å›è§£å¯†åå¾—åˆ°çš„åŸæœ¬çš„ URL ã€‚
```

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/encode-and-decode-tinyurl/solutions/1630074/tinyurl-de-jia-mi-yu-jie-mi-by-leetcode-ty5yp/)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š è‡ªå¢key  /  å“ˆå¸Œç”Ÿæˆkey  /  éšæœºç”Ÿæˆkey   **:star:==

**:small_red_triangle_down: steps: **

**æ³•äºŒã€å“ˆå¸Œç”Ÿæˆkey**

1.  å¦‚å·²ç»æœ‰äº†ç›¸åŒçš„longUrlï¼Œç›´æ¥è¿”å›å…¶åœ¨urlToKeyä¸­çš„valueï¼Œä¹Ÿå°±æ˜¯å“ˆå¸Œé”®
2.  è®¡ç®—longUrlçš„å“ˆå¸Œå€¼
3.  å¦‚æœå‘ç”Ÿå“ˆå¸Œå†²çªï¼Œæˆ‘ä»¬é‡‡ç”¨çº¿æ€§æ¢æµ‹å†æ•£åˆ—çš„æ–¹æ³•ï¼Œå°†keyåŠ ä¸€ï¼Œç›´åˆ°æ²¡æœ‰å†²çª
4.  å°†å“ˆå¸Œå€¼ä½œä¸ºlongUrlçš„keyï¼Œå°†é”®å€¼å¯¹(key,longUrl)æ’å…¥æ•°æ®åº“dataBaseï¼Œç„¶åè¿”å›å¸¦æœ‰ keyçš„å­—ç¬¦ä¸²ä½œä¸ºshorUrl
5.  è¿”å›shorUrl

**æ³•ä¸‰ã€éšæœºç”Ÿæˆkey**

1.  ä½¿ç”¨ä¸€ä¸ªéšæœºç”Ÿæˆçš„æ•´æ•°ä½œä¸ºlongUrl çš„ key
2.  å¦‚æœ keyå·²ç»é‡å¤ï¼Œåˆ™ä¸æ–­å°è¯•éšæœºç”Ÿæˆæ•´æ•°ï¼Œç›´åˆ°key å”¯ä¸€
3.  å°†é”®å€¼å¯¹(key,longUrl)æ’å…¥dataBaseï¼Œç„¶åè¿”å›å¸¦æœ‰ keyçš„å­—ç¬¦ä¸²ä½œä¸º shorUrl
4.  è¿”å›shorUrl

### ä»£ç 

```c++
const long long k1 = 1117;
const long long k2 = 1e9 + 7;
// é€‰æ‹©ä¸¤ä¸ªåˆé€‚çš„è´¨æ•° k1=1117, k2=10^9+7 æ¥è®¡ç®—longUrlçš„å“ˆå¸Œå€¼ï¼š
class Solution {
private:
    // int id;//æ³•ä¸€keyè‡ªå¢ç”¨
    unordered_map<int, string> dataBase;//å“ˆå¸Œé”®-->longUrl
    unordered_map<string, int> urlToKey;//longUrl-->å“ˆå¸Œé”®
    //ç›¸åŒçš„longUrlçš„å“ˆå¸Œå€¼ç›¸åŒï¼Œå› æ­¤å“ˆå¸Œå†²çªä¼šé¢‘ç¹å‘ç”Ÿã€‚ä¸ºäº†é¿å…è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªé¢å¤–çš„å“ˆå¸Œè¡¨urlToKeyè®°å½•ä»longUrl(key)åˆ°key(value)çš„æ˜ å°„ã€‚
public:
    Solution() {
        // id = 0;//æ³•ä¸€keyè‡ªå¢ç”¨
        // srand(time(0));//éšæœºæ•°ç§å­ï¼ˆå¯¹äºç”Ÿæˆéšæœºæ•°æ¥è¯´æ˜¯å¿…é¡»çš„ï¼Œå¦åˆ™ç”Ÿæˆçš„éšæœºæ•°å¯èƒ½é‡å¤ï¼‰
    }
    string encode(string longUrl) {
        // æ³•ä¸€ã€è‡ªå¢key
        
        // id++;
        // dataBase[id] = longUrl;
        // return string("http://tinyurl.com/") + to_string(id);

        // æ³•äºŒã€å“ˆå¸Œç”Ÿæˆ
        
        if (urlToKey.count(longUrl) > 0) { 
            //å¦‚å·²ç»æœ‰äº†ç›¸åŒçš„longUrlï¼Œç›´æ¥è¿”å›å…¶åœ¨urlToKeyä¸­çš„valueï¼Œä¹Ÿå°±æ˜¯å“ˆå¸Œé”®
            return string("http://tinyurl.com/") + to_string(urlToKey[longUrl]);
        }
        long long key = 0, base = 1;
        for (auto c : longUrl) { //è®¡ç®—longUrlçš„å“ˆå¸Œå€¼
            key = (key + c * base) % k2;
            base = (base * k1) % k2;
        }
        //å¦‚æœå‘ç”Ÿå“ˆå¸Œå†²çªï¼Œæˆ‘ä»¬é‡‡ç”¨çº¿æ€§æ¢æµ‹å†æ•£åˆ—çš„æ–¹æ³•ï¼Œå°†keyåŠ ä¸€ï¼Œç›´åˆ°æ²¡æœ‰å†²çªã€‚
        while (dataBase.count(key) > 0) key = (key + 1) % k2; 
        // å°†å“ˆå¸Œå€¼ä½œä¸ºlongUrlçš„keyï¼Œå°†é”®å€¼å¯¹(key,longUrl)æ’å…¥æ•°æ®åº“dataBaseï¼Œç„¶åè¿”å›å¸¦æœ‰ keyçš„å­—ç¬¦ä¸²ä½œä¸ºshorUrlã€‚
        dataBase[key] = longUrl;
        urlToKey[longUrl] = key;
        return string("http://tinyurl.com/") + to_string(key);//è¿”å›shorUrl

        // æ³•ä¸‰ã€éšæœºç”Ÿæˆ
        
        // int key = 0;
        // // ä½¿ç”¨ä¸€ä¸ªéšæœºç”Ÿæˆçš„æ•´æ•°ä½œä¸ºlongUrl çš„ key
        // while (true) { //å¦‚æœ keyå·²ç»é‡å¤ï¼Œåˆ™ä¸æ–­å°è¯•éšæœºç”Ÿæˆæ•´æ•°ï¼Œç›´åˆ°key å”¯ä¸€
        //     key = rand();
        //     if (dataBase.count(key) == 0) break;
        // }
        // //å°†é”®å€¼å¯¹(key,longUrl)æ’å…¥dataBaseï¼Œç„¶åè¿”å›å¸¦æœ‰ keyçš„å­—ç¬¦ä¸²ä½œä¸º shorUrl
        // dataBase[key] = longUrl;
        // return string("http://tinyurl.com/") + to_string(key);//è¿”å›shorUrl
    }

    string decode(string shortUrl) { //è§£å¯† TinyURL
        // å°†shortUrlå°¾éƒ¨çš„å“ˆå¸Œé”®(key)ä»å­—ç¬¦ä¸²è½¬æ¢æˆå¯¹åº”çš„intå‹ï¼Œç„¶ååœ¨dataBaseä¸­æŸ¥æ‰¾keyå¯¹åº”çš„longUrl
        int i = shortUrl.rfind('/') + 1;//æ‰¾åˆ°æœ€å³è¾¹çš„'/'çš„ä½ç½®å¹¶è¿”å›å…¶ä¸‹ä¸€ä¸ªä½ç½®çš„ç´¢å¼•
        int key = stoi(shortUrl.substr(i, shortUrl.size() - i));
        //å…ˆæˆªå–shortUrlä¸­ä¸‹æ ‡[i,shortUrl.size()]è¡¨ç¤ºçš„å“ˆå¸Œé”® å­ä¸²ï¼Œå†å°†å…¶è½¬æ¢ä¸ºintå‹æ•´æ•°
        return dataBase[key];
    }
};
```

### å¤æ‚åº¦åˆ†æ

**æ³•ä¸€**

- æ—¶é—´å¤æ‚åº¦ï¼š
    - Encode()å‡½æ•°æ˜¯O(n)  ï¼Œnæ˜¯longUrlçš„é•¿åº¦

    - Decode()å‡½æ•°æ˜¯O(1)  ï¼Œæˆ‘ä»¬æŠŠshortUrå½“æˆæœ‰é™é•¿åº¦çš„å­—ç¬¦ä¸²çœ‹å¾…ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š
    - Encode()å‡½æ•°æ˜¯O(n) ï¼Œå› ä¸ºä¿å­˜longUrléœ€è¦ O(n)çš„ç©ºé—´ã€‚
    - Decode()å‡½æ•°æ˜¯O(1)  


**æ³•äºŒ**

- æ—¶é—´å¤æ‚åº¦ï¼š
    - Encode()å‡½æ•°æ˜¯O(n)  ï¼Œnæ˜¯longUrlçš„é•¿åº¦ï¼Œåœ¨æ•°æ®é‡è¿œå°äº10^9+7çš„æƒ…å†µä¸‹ï¼Œå‘ç”Ÿå“ˆå¸Œå†²çªçš„å¯èƒ½æ€§éå¸¸å°

    - Decode()å‡½æ•°æ˜¯O(1)  ï¼Œæˆ‘ä»¬æŠŠshortUrå½“æˆæœ‰é™é•¿åº¦çš„å­—ç¬¦ä¸²çœ‹å¾…ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š
    - Encode()å‡½æ•°æ˜¯O(n) ï¼Œå› ä¸ºä¿å­˜longUrléœ€è¦ O(n)çš„ç©ºé—´ã€‚
    - Decode()å‡½æ•°æ˜¯O(1)  

**æ³•ä¸‰**

- æ—¶é—´å¤æ‚åº¦ï¼š
    - Encode()å‡½æ•°æ˜¯O(n)  ï¼Œnæ˜¯longUrlçš„é•¿åº¦ï¼Œåœ¨æ•°æ®é‡è¿œå°äº2^32çš„æƒ…å†µä¸‹ï¼Œéšæœºç”Ÿæˆçš„æ•´æ•°é‡å¤çš„å¯èƒ½æ€§ååˆ†å°ã€‚

    - Decode()å‡½æ•°æ˜¯O(1)  ï¼Œæˆ‘ä»¬æŠŠshortUrå½“æˆæœ‰é™é•¿åº¦çš„å­—ç¬¦ä¸²çœ‹å¾…ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼š
    - Encode()å‡½æ•°æ˜¯O(n) ï¼Œå› ä¸ºä¿å­˜longUrléœ€è¦ O(n)çš„ç©ºé—´ã€‚
    - Decode()å‡½æ•°æ˜¯O(1)  

## [lc299. çŒœæ•°å­—æ¸¸æˆ](https://leetcode.cn/problems/bulls-and-cows/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªç§˜å¯†æ•°å­— `secret` å’Œæœ‹å‹çŒœæµ‹çš„æ•°å­— `guess` ï¼Œè¯·ä½ è¿”å›å¯¹æœ‹å‹è¿™æ¬¡çŒœæµ‹çš„æç¤ºã€‚

æç¤ºçš„æ ¼å¼ä¸º `"xAyB"` ï¼Œ`x` æ˜¯å…¬ç‰›ä¸ªæ•°ï¼Œ `y` æ˜¯å¥¶ç‰›ä¸ªæ•°ï¼Œ`A` è¡¨ç¤ºå…¬ç‰›ï¼Œ`B` è¡¨ç¤ºå¥¶ç‰›ã€‚æœ‹å‹æ¯çŒœæµ‹ä¸€æ¬¡ï¼Œä½ å°±ä¼šç»™ä»–ä¸‹è¿°æç¤ºï¼š

- çŒœæµ‹æ•°å­—ä¸­ï¼Œæœ‰å¤šå°‘ä½ï¼Œå±äºæ•°å­—å’Œä½ç½®éƒ½çŒœå¯¹äº†ï¼ˆç§°ä¸ºå…¬ç‰›ï¼‰ï¼Œ
- æœ‰å¤šå°‘ä½å±äºæ•°å­—çŒœå¯¹äº†ä½†æ˜¯ä½ç½®ä¸å¯¹ï¼ˆç§°ä¸ºå¥¶ç‰›ï¼‰ã€‚

è¯·æ³¨æ„ç§˜å¯†æ•°å­—å’Œæœ‹å‹çŒœæµ‹çš„æ•°å­—éƒ½å¯èƒ½å«æœ‰é‡å¤æ•°å­—.

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šsecret = "1807", guess = "7810"
è¾“å‡ºï¼š"1A3B"
è§£é‡Šï¼šæ•°å­—å’Œä½ç½®éƒ½å¯¹ï¼ˆå…¬ç‰›ï¼‰ç”¨ '|' è¿æ¥ï¼Œæ•°å­—çŒœå¯¹ä½ç½®ä¸å¯¹ï¼ˆå¥¶ç‰›ï¼‰çš„é‡‡ç”¨æ–œä½“åŠ ç²—æ ‡è¯†ã€‚
"1807"
  |
"7810"
```

**ç¤ºä¾‹ 2ï¼š**

```cpp
è¾“å…¥ï¼šsecret = "1123", guess = "0111"
è¾“å‡ºï¼š"1A1B"
è§£é‡Šï¼šæ•°å­—å’Œä½ç½®éƒ½å¯¹ï¼ˆå…¬ç‰›ï¼‰ç”¨ '|' è¿æ¥ï¼Œæ•°å­—çŒœå¯¹ä½ç½®ä¸å¯¹ï¼ˆå¥¶ç‰›ï¼‰çš„é‡‡ç”¨æ–œä½“åŠ ç²—æ ‡è¯†ã€‚
"1123"        "1123"
  |      or     |
"0111"        "0111"
æ³¨æ„ï¼Œä¸¤ä¸ªä¸åŒ¹é…çš„ 1 ä¸­ï¼Œåªæœ‰ä¸€ä¸ªä¼šç®—ä½œå¥¶ç‰›ï¼ˆæ•°å­—çŒœå¯¹ä½ç½®ä¸å¯¹ï¼‰ã€‚é€šè¿‡é‡æ–°æ’åˆ—éå…¬ç‰›æ•°å­—ï¼Œå…¶ä¸­ä»…æœ‰ä¸€ä¸ª 1 å¯ä»¥æˆä¸ºå…¬ç‰›æ•°å­—ã€‚
```

**æç¤ºï¼š**

- `1 <= secret.length, guess.length <= 1000`
- `secret.length == guess.length`
- `secret` å’Œ `guess` ä»…ç”±æ•°å­—ç»„æˆ

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/bulls-and-cows/solutions/1088724/cai-shu-zi-you-xi-by-leetcode-solution-q9lz/)

### ä»£ç 

```c++
string getHint(string secret, string guess) {
    int bulls = 0, cows = 0;
    int cntS[10] = {0}, cntG[10] = {0};
    //ä¸‹æ ‡(å¯¹åº”æ•°å­—0~9),å€¼(å¯¹åº”æ•°å­—çš„å‡ºç°æ¬¡æ•°
    // vector åœ¨æ„é€ æ—¶ä¼šè‡ªåŠ¨å°†æ•°ç»„å…ƒç´ åˆå§‹åŒ–ä¸ºé›¶ï¼Œè€Œæ™®é€šçš„æ•°ç»„å£°æ˜ä¸ä¼šè‡ªåŠ¨åˆå§‹åŒ–ï¼Œå®ƒä»¬å¯èƒ½ä¼šåŒ…å«ä¸ç¡®å®šçš„å€¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´é”™è¯¯çš„è®¡æ•°ç»“æœã€‚
    //éå†secretå’Œguessç»Ÿè®¡å…¬ç‰›æ•°å¹¶åˆ†åˆ«ç»Ÿè®¡ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ•°å­—çš„å‡ºç°æ¬¡æ•°
    for (int i = 0; i < secret.size(); ++i) {
        //ç»Ÿè®¡å…¬ç‰›æ•°
        if(secret[i] == guess[i]) bulls++;
        //å¦å¤–è¦ç»Ÿè®¡å°±æ˜¯å¥¶ç‰›æ•°ï¼ˆæ•°å­—å¯¹ä½†æ˜¯ä½ç½®ä¸å¯¹ï¼‰
        else { //ç»Ÿè®¡secret å’Œ guess çš„å„ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°
            ++cntS[secret[i] - '0'];//ç»Ÿè®¡secretçš„å„ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°
            ++cntG[guess[i] - '0'];//ç»Ÿè®¡guessçš„å„ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°
        }
    }
    //ç”±äºå¤šä½™çš„æ•°å­—åŒ¹é…ä¸ä¸Š
    for (int i = 0; i < 10; ++i) cows += min(cntS[i], cntG[i]);
    return to_string(bulls) + "A" + to_string(cows) + "B";
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


## [506. ç›¸å¯¹åæ¬¡](https://leetcode.cn/problems/relative-ranks/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `score` ï¼Œå…¶ä¸­ `score[i]` æ˜¯ç¬¬ `i` ä½è¿åŠ¨å‘˜åœ¨æ¯”èµ›ä¸­çš„å¾—åˆ†ã€‚æ‰€æœ‰å¾—åˆ†éƒ½ **äº’ä¸ç›¸åŒ** ã€‚

è¿åŠ¨å‘˜å°†æ ¹æ®å¾—åˆ† **å†³å®šåæ¬¡** ï¼Œå…¶ä¸­åæ¬¡ç¬¬ `1` çš„è¿åŠ¨å‘˜å¾—åˆ†æœ€é«˜ï¼Œåæ¬¡ç¬¬ `2` çš„è¿åŠ¨å‘˜å¾—åˆ†ç¬¬ `2` é«˜ï¼Œä¾æ­¤ç±»æ¨ã€‚è¿åŠ¨å‘˜çš„åæ¬¡å†³å®šäº†ä»–ä»¬çš„è·å¥–æƒ…å†µï¼š

- åæ¬¡ç¬¬ `1` çš„è¿åŠ¨å‘˜è·é‡‘ç‰Œ `"Gold Medal"` ã€‚
- åæ¬¡ç¬¬ `2` çš„è¿åŠ¨å‘˜è·é“¶ç‰Œ `"Silver Medal"` ã€‚
- åæ¬¡ç¬¬ `3` çš„è¿åŠ¨å‘˜è·é“œç‰Œ `"Bronze Medal"` ã€‚
- ä»åæ¬¡ç¬¬ `4` åˆ°ç¬¬ `n` çš„è¿åŠ¨å‘˜ï¼Œåªèƒ½è·å¾—ä»–ä»¬çš„åæ¬¡ç¼–å·ï¼ˆå³ï¼Œåæ¬¡ç¬¬ `x` çš„è¿åŠ¨å‘˜è·å¾—ç¼–å· `"x"`ï¼‰ã€‚

ä½¿ç”¨é•¿åº¦ä¸º `n` çš„æ•°ç»„ `answer` è¿”å›è·å¥–ï¼Œå…¶ä¸­ `answer[i]` æ˜¯ç¬¬ `i` ä½è¿åŠ¨å‘˜çš„è·å¥–æƒ…å†µã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šscore = [5,4,3,2,1]
è¾“å‡ºï¼š["Gold Medal","Silver Medal","Bronze Medal","4","5"]
è§£é‡Šï¼šåæ¬¡ä¸º [1st, 2nd, 3rd, 4th, 5th] ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šscore = [10,3,8,9,4]
è¾“å‡ºï¼š["Gold Medal","5","Bronze Medal","Silver Medal","4"]
è§£é‡Šï¼šåæ¬¡ä¸º [1st, 5th, 3rd, 2nd, 4th] ã€‚
```

**æç¤ºï¼š**

- `n == score.length`
- `1 <= n <= 104`
- `0 <= score[i] <= 106`
- `score` ä¸­çš„æ‰€æœ‰å€¼ **äº’ä¸ç›¸åŒ**

### ä»£ç 

```c++
vector<string> findRelativeRanks(vector<int>& score) {
    vector<pair<int, int>> arr;//p.firstæ˜¯æˆç»©ï¼Œp.secondæ˜¯ä¸‹æ ‡
    string topThree[3] = {"Gold Medal", "Silver Medal", "Bronze Medal"};
    for (int i = 0; i < score.size(); ++i) arr.emplace_back(score[i], i);
    //æŒ‰æˆç»©ç”±é«˜åˆ°ä½é™åºæ’åº
    sort(arr.begin(), arr.end(), [](const pair<int,int>& p1, const pair<int,int>& p2){return p1.first > p2.first;});
    vector<string> res(score.size());
    for (int i = 0; i < score.size(); ++i) { // æˆç»©ç”±é«˜åˆ°ä½å–å‡ºæ¯ä¸ªpair
        if (i < 3) res[arr[i].second] = topThree[i];
        else res[arr[i].second] = to_string(i + 1);
    }
    return res;
}
```

## [lc539. æœ€å°æ—¶é—´å·®](https://leetcode.cn/problems/minimum-time-difference/)

### é¢˜æ„

ç»™å®šä¸€ä¸ª 24 å°æ—¶åˆ¶ï¼ˆå°æ—¶:åˆ†é’Ÿ **"HH:MM"**ï¼‰çš„æ—¶é—´åˆ—è¡¨ï¼Œæ‰¾å‡ºåˆ—è¡¨ä¸­ä»»æ„ä¸¤ä¸ªæ—¶é—´çš„æœ€å°æ—¶é—´å·®å¹¶ä»¥åˆ†é’Ÿæ•°è¡¨ç¤ºã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼štimePoints = ["23:59","00:00"]
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼štimePoints = ["00:00","23:59","00:00"]
è¾“å‡ºï¼š0
```

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/minimum-time-difference/solutions/1216027/zui-xiao-shi-jian-chai-by-leetcode-solut-xolj/)
2. [å¾®æ‰°ç†è®º](https://leetcode.cn/problems/minimum-time-difference/solutions/1217750/wei-rao-li-lun-fen-tong-hong-hei-shu-jia-esxf/)  æ³•äºŒæ¡¶æ’åº

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ’åº + é¸½å·¢åŸç†  **:star:==

**:key:  keyï¼š**

- æ’åºæœ‰ä¸¤ç§æ€è·¯ï¼š
    1. ç›´æ¥sortç»™vector<string>æ’åº
    2. æ¡¶æ’åºï¼šæŒ‰houråˆ†æ¡¶->key(int)ï¼Œæ¯ä¸ªæ¡¶ä»£è¡¨[0-24]ä¸­æŸä¸ªå°æ—¶ï¼Œæ¡¶å†…è£…ä¸åŒminutes->value(set)

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆèƒ½ç›´æ¥sortç»™vector<string>æ’åº? è¿™æ˜¯æ€ä¹ˆæ’çš„ï¼Ÿ
2. è¯¥é¢˜çš„é¸½å·¢åŸç†æ˜¯ä¸ªå•¥ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å› ä¸ºsortç»™vector<string>æ’åºé»˜è®¤æ˜¯æŒ‰**å­—ç¬¦ä¸²çš„å­—å…¸åº**è¿›è¡Œæ’åºçš„ã€‚æŒ‰å­—ç¬¦ä¸²çš„å­—å…¸åºæ’åºåˆšå¥½èƒ½è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœã€‚

    ã€æŒ‰å­—å…¸åºæ¯”è¾ƒæ˜¯æ€ä¹ˆæ¯”è¾ƒï¼Ÿã€‘æ¯”å¦‚å¯¹äº "11:10" å’Œ "05:23"ï¼Œä»å·¦åˆ°å³é€å­—ç¬¦æ¯”è¾ƒã€‚é¦–å…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªå­—ç¬¦ï¼š'1'>'0'ï¼Œå› æ­¤"05:23"æ’åœ¨ "11:10" ä¹‹å‰ã€‚å¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦ç›¸åŒï¼Œå°†ç»§ç»­æ¯”è¾ƒä¸‹ä¸€ä¸ªå­—ç¬¦...

2. æ ¹æ®é¢˜æ„ï¼Œä¸€å…±æœ‰ 24Ã—60=1440 ç§ä¸åŒçš„æ—¶é—´ã€‚ç”±é¸½å·¢åŸç†å¯çŸ¥ï¼Œå¦‚æœ timePointsçš„é•¿åº¦è¶…è¿‡ 1440ï¼Œé‚£ä¹ˆå¿…ç„¶ä¼šæœ‰ä¸¤ä¸ªç›¸åŒçš„æ—¶é—´ï¼Œæ­¤æ—¶å¯ä»¥ç›´æ¥è¿”å› 0ã€‚


### æ³•ä¸€

**:small_red_triangle_down: steps: **

1.  ä½¿ç”¨é¸½å·¢åŸç†è¿›è¡Œä¼˜åŒ–
2.  ç»™`vector<string> timePoints` sortæ’åº
3.  åˆå§‹åŒ–
4.  éå†æ’åºåçš„timePointsï¼Œç®—å‡ºç›¸é‚»æ—¶é—´å·®å¹¶æ›´æ–°preMinutesï¼Œå¦‚æœç›¸é‚»æ—¶é—´å·®ä¸º0ï¼Œç›´æ¥return 0
5.  å› ä¸ºé¦–å°¾æ—¶é—´å·®ä¹Ÿå¯èƒ½æ˜¯æœ€å°æ—¶é—´å·®ï¼Œå› æ­¤è¿˜è¦å°†minSubä¸å…¶è¿›è¡Œæ¯”è¾ƒ

```c++
int getMinutes(string &t) {
    // (æ³•1) é€å­—ç¬¦åˆ†å‰²æ•°å­—
    // int h = (t[0] - '0') * 10 + (t[1] - '0');
    // int m = (t[3] - '0') * 10 + (t[4] - '0');

    // (æ³•2) ç›´æ¥substråˆ†å‰²æ—¶å’Œåˆ†ï¼Œå†stoiè½¬æ¢æˆint
    int h = stoi(t.substr(0, 2));
    int m = stoi(t.substr(3, 2));

    return h * 60 + m;
}
int findMinDifference(vector<string>& timePoints) {
    int n = timePoints.size();
    //ä¼˜åŒ–1:é¸½å·¢åŸç†
    if (n > 1440) return 0;
    //æ’åºï¼ˆé»˜è®¤æŒ‰å­—ç¬¦ä¸²çš„å­—å…¸åºè¿›è¡Œæ¯”è¾ƒï¼‰
    sort(timePoints.begin(), timePoints.end());
    //åˆå§‹åŒ– 
    int curMinutes = getMinutes(timePoints[1]), preMinutes = getMinutes(timePoints[0]); 
    int minSub = curMinutes - preMinutes;
    //éå†æ’åºåçš„timePoints
    for (int i = 1; i < n; ++i) {
        curMinutes = getMinutes(timePoints[i]);
        minSub = min(minSub, curMinutes - preMinutes);
        preMinutes = curMinutes;
        if (minSub == 0) return 0;//ä¼˜åŒ–2:å­˜åœ¨æ—¶é—´å·®ä¸º0åˆ™ç›´æ¥è¿”å›0
    }
    //æœ€åé€€å‡ºå¾ªç¯æ—¶preMinuteså°±æ˜¯æœ€åä¸€ä¸ªæœ€å¤§çš„æ—¶é—´
    //ç”±äºé¦–å°¾æ—¶é—´å·®ä¹Ÿå¯èƒ½æ˜¯æœ€å°æ—¶é—´å·®ï¼Œå› æ­¤è¿˜éœ€è¦å°†minSubä¸å…¶è¿›è¡Œæ¯”è¾ƒ
    return min(minSub, 1440 - preMinutes + getMinutes(timePoints[0]));
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(min(n, 1440) log min(n, 1440))

    ç”±äºå½“ n>1440 æ—¶ç›´æ¥è¿”å› 0ï¼Œæ’åºæ—¶çš„ 1440 ä¸ä¼šè¶…è¿‡ CCCï¼Œå› æ­¤æ’åºéœ€è¦ O(min(n, 1440) log min(n, 1440))çš„æ—¶é—´ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(1ï¼‰ 

### æ³•äºŒ

**:small_red_triangle_down: steps: **

1.  ä½¿ç”¨é¸½å·¢åŸç†è¿›è¡Œä¼˜åŒ–
2.  åˆ›å»ºæ¡¶
3.  éå†timePointsåŒæ—¶å°†æ—¶é—´æ’å…¥æ¡¶ä¸­ï¼Œæ’å…¥åŒæ—¶å°±ä¼šè‡ªåŠ¨è¿›è¡Œæ’åº
    - å¦‚æœå‡ºç°è¿‡ç›¸åŒæ—¶é—´ï¼Œç›´æ¥è¿”å›0
4.  éå†æ¡¶ï¼Œä»æœ€å¤§çš„æ—¶é—´ä¸æœ€å°æ—¶é—´çš„æ—¶é—´å·®å¼€å§‹è®¡ç®—æ—¶é—´å·®ï¼Œæ›´æ–°anså’Œlast

```c++
int findMinDifference(vector<string>& timePoints) {
    int n = timePoints.size();
    //ä¼˜åŒ–: é¸½å·¢åŸç†
    if (n > 1440) return 0;
    //æ¡¶æ’åºï¼ˆæŒ‰houråˆ†æ¡¶->key(int)ï¼Œæ¡¶å†…è£…ä¸åŒminutes->value(set)ï¼‰
    //åˆ›å»ºæ¡¶ï¼ˆè¿™é‡Œä¸ºäº†æ–¹ä¾¿é€‰æ‹©mapå’Œsetï¼‰
    map<int, set<int>> hours;//mapå’Œsetéƒ½ä¼šåœ¨æ’å…¥çš„æ—¶å€™å°±è‡ªåŠ¨æ’åº
    for (auto &str : timePoints) {
        int h = stoi(str.substr(0, 2));
        int m = stoi(str.substr(3, 2));
        if (hours[h].count(h * 60 + m)) return 0;//å‡ºç°è¿‡ç›¸åŒæ—¶é—´ï¼Œç›´æ¥è¿”å›0
        hours[h].insert(h * 60 + m);
        //ä¸èƒ½å†™æˆ:hours[h] = h * 60 + m;å› ä¸ºvalueæ˜¯ä¸€ä¸ªseté›†åˆï¼å› æ­¤å¿…é¡»ç”¨insert!
    }
    //rbegin()è¿”å›ä¸€ä¸ªé€†åºè¿­ä»£å™¨ï¼Œå®ƒæŒ‡å‘å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ 
    // laståˆå§‹åŒ–ä¸ºæœ€å¤§çš„æ—¶é—´
    int last = -(24 * 60 - *hours.rbegin()->second.rbegin());
    /* å†™æˆ - çš„å½¢å¼æ˜¯ä¸ºäº†ä¹‹åèƒ½ä¸è®¡ç®—æ—¶é—´å·®çš„å¼å­åˆå¹¶.å› ä¸ºå‰ä¸€å¤©çš„æ—¶é—´ä¸ä»Šå¤©çš„æ—¶é—´ç®—æ—¶é—´å·®æ˜¯ç®—åŠ æ³•ï¼Œ-è´Ÿå°±æ˜¯+
    *hours.rbegin()å°±æ˜¯å–æœ€å¤§çš„hour,
    *hours.rbegin()->secondå°±æ˜¯å–è¿™ä¸ªæœ€å¤§çš„hourå¯¹åº”çš„æ¡¶å†…å…ƒç´ çš„é›†åˆ
    *hours.rbegin()->second.rbegin()å°±æ˜¯å–æœ€å¤§çš„hourå¯¹åº”çš„æ¡¶ä¸­æœ€å¤§çš„minutes,ä¹Ÿå°±æ˜¯è¯´å–æœ€å¤§çš„æ—¶é—´*/
    int ans = INT_MAX;
    //éå†æ¡¶
    for (auto p : hours) {
        for (auto m : p.second) {
            //ç¬¬ä¸€æ¬¡å¾ªç¯è®¡ç®—çš„æ˜¯  æœ€å¤§çš„æ—¶é—´ä¸æœ€å°çš„æ—¶é—´çš„æ—¶é—´å·®
            ans = min(ans, m - last);
            last = m;
        }
    }
    return ans;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(24*log24 * (n * logn))  

- ç©ºé—´å¤æ‚åº¦ï¼šO(24 * n)

    â€‹    

## [lc553. æœ€ä¼˜é™¤æ³•](https://leetcode.cn/problems/optimal-division/)

### é¢˜æ„

ç»™å®šä¸€æ­£æ•´æ•°æ•°ç»„ `nums`**ï¼Œ**`nums` ä¸­çš„ç›¸é‚»æ•´æ•°å°†è¿›è¡Œæµ®ç‚¹é™¤æ³•ï¼Œä»¥å­—ç¬¦ä¸²æ ¼å¼è¿”å›å…·æœ‰æœ€å¤§å€¼çš„å¯¹åº”è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œ`nums = [2,3,4]`ï¼Œæˆ‘ä»¬å°†æ±‚è¡¨è¾¾å¼çš„å€¼ `"2/3/4"`ã€‚

ä½†æ˜¯ï¼Œä½ å¯ä»¥åœ¨ä»»æ„ä½ç½®æ·»åŠ ä»»æ„æ•°ç›®çš„æ‹¬å·ï¼Œæ¥æ”¹å˜ç®—æ•°çš„ä¼˜å…ˆçº§ã€‚ä½ éœ€è¦æ‰¾å‡ºæ€ä¹ˆæ·»åŠ æ‹¬å·ï¼Œä»¥ä¾¿è®¡ç®—åçš„è¡¨è¾¾å¼çš„å€¼ä¸ºæœ€å¤§å€¼ã€‚

**æ³¨æ„ï¼š**ä½ çš„è¡¨è¾¾å¼ä¸åº”è¯¥åŒ…å«å¤šä½™çš„æ‹¬å·ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: [1000,100,10,2]
è¾“å‡º: "1000/(100/10/2)"
è§£é‡Š: 1000/(100/10/2) = 1000/((100/10)/2) = 200
ä½†æ˜¯ï¼Œä»¥ä¸‹åŠ ç²—çš„æ‹¬å· "1000/((100/10)/2)" æ˜¯å†—ä½™çš„ï¼Œ
å› ä¸ºä»–ä»¬å¹¶ä¸å½±å“æ“ä½œçš„ä¼˜å…ˆçº§ï¼Œæ‰€ä»¥ä½ éœ€è¦è¿”å› "1000/(100/10/2)"ã€‚
å…¶ä»–ç”¨ä¾‹:
1000/(100/10)/2 = 50
1000/(100/(10/2)) = 50
1000/100/10/2 = 0.5
1000/100/(10/2) = 2
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [2,3,4]
è¾“å‡º: "2/(3/4)"
è§£é‡Š: (2/(3/4)) = 8/3 = 2.667
å¯ä»¥çœ‹å‡ºï¼Œåœ¨å°è¯•äº†æ‰€æœ‰çš„å¯èƒ½æ€§ä¹‹åï¼Œæˆ‘ä»¬æ— æ³•å¾—åˆ°ä¸€ä¸ªç»“æœå¤§äº 2.667 çš„è¡¨è¾¾å¼ã€‚
```

**è¯´æ˜:**

- `1 <= nums.length <= 10`
- `2 <= nums[i] <= 1000`
- å¯¹äºç»™å®šçš„è¾“å…¥åªæœ‰ä¸€ç§æœ€ä¼˜é™¤æ³•ã€‚

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/optimal-division/solutions/)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ•°å­¦   **:star:==

**:key:  keyï¼š**

- è®¾æœ€å¤§å€¼ä¸º a / bï¼Œaè¦è¶Šå¤§è¶Šå¥½ï¼Œbè¦è¶Šå°è¶Šå¥½

    - aè¦è¶Šå¤§ï¼Œåˆ™aå°±æ˜¯nums[0]ï¼Œä¸é™¤ä»»ä½•æ•°çš„æ—¶å€™å°±æ˜¯æœ€å¤§çš„
    - bè¦è¶Šå°ï¼Œä»¤b = c / dï¼Œåˆ™é™¤çš„è¶Šå¤šbå°±è¶Šå°

    å› æ­¤è®© a = nums[0] ï¼Œå‰©ä¸‹çš„ä¸€å¨å…¨ä½œä¸º b æ—¶ï¼Œç»“æœæœ€å°ã€‚

### ä»£ç 

```c++
string optimalDivision(vector<int>& nums) {
    int n = nums.size();
    // ç‰¹æ®Šæƒ…å†µï¼šä¸éœ€è¦åŠ æ‹¬å·
    if (n == 1) return to_string(nums[0]);
    if (n == 2) return to_string(nums[0]) + "/" + to_string(nums[1]);

    string res = to_string(nums[0]) + "/(" + to_string(nums[1]);
    for (int i = 2; i < n; ++i) {
        res += "/" + to_string(nums[i]);
    }
    res += ")";
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1) . é™¤å‡½æ•°è¿”å›å€¼ä»¥å¤–ï¼Œä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´


## [lc537. å¤æ•°ä¹˜æ³•](https://leetcode.cn/problems/complex-number-multiplication/)

### é¢˜æ„

[å¤æ•°](https://baike.baidu.com/item/å¤æ•°/254365?fr=aladdin) å¯ä»¥ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œéµå¾ª `"å®éƒ¨+è™šéƒ¨ i "` çš„å½¢å¼ï¼Œå¹¶æ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼š

- `å®éƒ¨` æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå–å€¼èŒƒå›´æ˜¯ `[-100, 100]`
- `è™šéƒ¨` ä¹Ÿæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå–å€¼èŒƒå›´æ˜¯ `[-100, 100]`
- `i2 == -1`

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„å¤æ•° `num1` å’Œ `num2` ï¼Œè¯·ä½ éµå¾ªå¤æ•°è¡¨ç¤ºå½¢å¼ï¼Œè¿”å›è¡¨ç¤ºå®ƒä»¬ä¹˜ç§¯çš„å­—ç¬¦ä¸²ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnum1 = "1+1i", num2 = "1+1i"
è¾“å‡ºï¼š"0+2i"
è§£é‡Šï¼š(1 + i) * (1 + i) = 1 + i2 + 2 * i = 2i ï¼Œä½ éœ€è¦å°†å®ƒè½¬æ¢ä¸º 0+2i çš„å½¢å¼ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnum1 = "1+-1i", num2 = "1+-1i"
è¾“å‡ºï¼š"0+-2i"
è§£é‡Šï¼š(1 - i) * (1 - i) = 1 + i2 - 2 * i = -2i ï¼Œä½ éœ€è¦å°†å®ƒè½¬æ¢ä¸º 0+-2i çš„å½¢å¼ã€‚ 
```

### æ€è·¯

![image-20231221095142313](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312210951448.png[592. åˆ†æ•°åŠ å‡è¿ç®—](https://leetcode.cn/problems/fraction-addition-and-subtraction/))

### ä»£ç 

```c++
string complexNumberMultiply(string num1, string num2) {
    int addIndex1 = num1.find('+'), addIndex2 = num2.find('+');
    //findåŸå‹:int find(const string& s, int pos = 0) const;
    int real1 = stoi(num1.substr(0, addIndex1));
    int imag1 = stoi(num1.substr(addIndex1 + 1));
    int real2 = stoi(num2.substr(0, addIndex2));
    int imag2 = stoi(num2.substr(addIndex2 + 1));
    
    int real = real1 * real2 - imag1 * imag2;
    int imaginary = real1 * imag2 + imag1 * real2;
    return to_string(real) + "+" + to_string(imaginary) + "i";
}
```

## [lc592. åˆ†æ•°åŠ å‡è¿ç®—](https://leetcode.cn/problems/fraction-addition-and-subtraction/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªè¡¨ç¤ºåˆ†æ•°åŠ å‡è¿ç®—çš„å­—ç¬¦ä¸² `expression` ï¼Œä½ éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„è®¡ç®—ç»“æœã€‚ è¿™ä¸ªç»“æœåº”è¯¥æ˜¯ä¸å¯çº¦åˆ†çš„åˆ†æ•°ï¼Œå³[æœ€ç®€åˆ†æ•°](https://baike.baidu.com/item/æœ€ç®€åˆ†æ•°)ã€‚ å¦‚æœæœ€ç»ˆç»“æœæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¾‹å¦‚ `2`ï¼Œä½ éœ€è¦å°†å®ƒè½¬æ¢æˆåˆ†æ•°å½¢å¼ï¼Œå…¶åˆ†æ¯ä¸º `1`ã€‚æ‰€ä»¥åœ¨ä¸Šè¿°ä¾‹å­ä¸­, `2` åº”è¯¥è¢«è½¬æ¢ä¸º `2/1`ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: expression = "-1/2+1/2"
è¾“å‡º: "0/1"
```

 **ç¤ºä¾‹ 2:**

```
è¾“å…¥: expression = "-1/2+1/2+1/3"
è¾“å‡º: "1/3"
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: expression = "1/3-1/2"
è¾“å‡º: "-1/6"
```

**æç¤º:**

- è¾“å…¥å’Œè¾“å‡ºå­—ç¬¦ä¸²åªåŒ…å« `'0'` åˆ° `'9'` çš„æ•°å­—ï¼Œä»¥åŠ `'/'`, `'+'` å’Œ `'-'`ã€‚ 
- è¾“å…¥å’Œè¾“å‡ºåˆ†æ•°æ ¼å¼å‡ä¸º `Â±åˆ†å­/åˆ†æ¯`ã€‚å¦‚æœè¾“å…¥çš„ç¬¬ä¸€ä¸ªåˆ†æ•°æˆ–è€…è¾“å‡ºçš„åˆ†æ•°æ˜¯æ­£æ•°ï¼Œåˆ™ `'+'` ä¼šè¢«çœç•¥æ‰ã€‚
- è¾“å…¥åªåŒ…å«åˆæ³•çš„**æœ€ç®€åˆ†æ•°**ï¼Œæ¯ä¸ªåˆ†æ•°çš„**åˆ†å­**ä¸**åˆ†æ¯**çš„èŒƒå›´æ˜¯ [1,10]ã€‚ å¦‚æœåˆ†æ¯æ˜¯1ï¼Œæ„å‘³ç€è¿™ä¸ªåˆ†æ•°å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ•´æ•°ã€‚
- è¾“å…¥çš„åˆ†æ•°ä¸ªæ•°èŒƒå›´æ˜¯ [1,10]ã€‚
- **æœ€ç»ˆç»“æœ**çš„åˆ†å­ä¸åˆ†æ¯ä¿è¯æ˜¯ 32 ä½æ•´æ•°èŒƒå›´å†…çš„æœ‰æ•ˆæ•´æ•°ã€‚


$$
\frac{up}{down} + \frac{x}{y} = \frac{up*y+x*down}{down*y}
$$

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/fraction-addition-and-subtraction/solutions/1699131/fen-shu-jia-jian-yun-suan-by-leetcode-so-2mto/)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ¨ç†æ•°å­¦å…¬å¼ + `gcd()` **:star:==

**:key:  keyï¼š**

- ä¸¤ä¸ªåˆ†æ•°åšåŠ æ³•
    $$
    \frac{up}{down} + \frac{x}{y} = \frac{up*y+x*down}{down*y}
    $$

- è·å–åˆ†å­åˆ†æ¯çš„æœ€å¤§å…¬çº¦æ•°`gcd(abs(up), down)`ï¼Œå°†ç»“æœçº¦åˆ†ï¼ŒåŒ–ç®€ä¸ºæœ€ç®€åˆ†æ•°

**:small_red_triangle_down: steps: **

1. åˆå§‹åŒ–ç»“æœçš„åˆ†å­åˆ†æ¯

2. éå†å­—ç¬¦ä¸²

    1. åˆå§‹åŒ–å½“å‰éå†åˆ†æ•°çš„åˆ†å­åˆ†æ¯

    2. å¤„ç†ç¬¦å·ä½

    3. æ±‚åˆ†å­

        - æ±‚åˆ†å­çš„æ•°å€¼ä½ï¼ˆæ–œæ å‰ï¼‰
        - ç»™åˆ†å­å¸¦ä¸Šç¬¦å·
        - éå†æŒ‡é’ˆ++è®©å…¶æŒ‡å‘åˆ†æ¯çš„é¦–å­—ç¬¦

    4. æ±‚åˆ†æ¯

    5. ï¼ˆç»è¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»æ±‚å¾—å½“å‰éå†çš„è¿™ä¸ªåˆ†æ•°å°±æ˜¯`x/y`ï¼‰

    6. æ ¹æ®ä¸‹é¢çš„å…¬å¼ï¼Œå°†å½“å‰åˆ†æ•°`x/y`ä¸ä¹‹å‰çš„ç»“æœåšåŠ æ³•
        $$
        \frac{up}{down} + \frac{x}{y} = \frac{up*y+x*down}{down*y}
        $$

3. ç‰¹åˆ¤ï¼Œè‹¥ç»“æœçš„åˆ†å­ä¸º0ï¼Œåˆ™ç»“æœä¸º0ï¼Œç›´æ¥è¿”å›"0/1"

4. è·å–ç»“æœåˆ†æ•°çš„åˆ†å­åˆ†æ¯çš„æœ€å¤§å…¬çº¦æ•°ï¼Œçº¦åˆ†åŒ–ç®€ä¸ºæœ€ç®€åˆ†æ•°

5. å°†ç»“æœåˆ†æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼è¿”å›

:smiley: **æ”¶è·ï¼š ** 

- `isdigit(ch)`:åˆ¤æ–­å­—ç¬¦chæ˜¯å¦æ˜¯0~9ä¸­çš„ä¸€ä¸ª
- `gcd(x,y)`:æ±‚xå’Œyçš„æœ€å¤§å…¬çº¦æ•°

### ä»£ç 

```c++
string fractionAddition(string expression) {
    long long up = 0, down = 1;//åˆå§‹åŒ–ç»“æœçš„åˆ†å­åˆ†æ¯
    int n = expression.size(), index = 0, sign = 1;
    while (index < n) { //æ¯ä¸€æ¬¡å¾ªç¯éƒ½ä¼šè¿›è¡Œä¸€æ¬¡åˆ†æ•°åŠ æ³•è¿ç®—
        // 1.å¤„ç†ç¬¦å·ä½
        if (expression[index] == '-' || expression[index] == '+') {
            sign = expression[index] == '-' ? -1 : 1;
            index++;
        }
        // 2.åˆå§‹åŒ–å½“å‰éå†åˆ†æ•°çš„åˆ†å­åˆ†æ¯
        long long x = 0, y = 0;
        // 3.æ±‚åˆ†å­
        while (index < n && isdigit(expression[index])) {
            // æ±‚åˆ†å­çš„æ•°å€¼ä½ï¼ˆæ–œæ å‰ï¼‰
            x = x * 10 + expression[index] - '0';
            index++;
        }
        x = sign * x; //ç»™åˆ†å­å¸¦ä¸Šç¬¦å·ï¼Œå¾—åˆ°å¸¦ç¬¦å·çš„åˆ†å­
        index++; //è®©indexæŒ‡å‘åˆ†æ¯çš„é¦–å­—ç¬¦
        // 4.æ±‚åˆ†æ¯
        while (index < n && isdigit(expression[index])) {
            // isdigit():åˆ¤æ–­å­—ç¬¦æ˜¯å¦æ˜¯0~9ä¸­çš„ä¸€ä¸ª
            y = y * 10 + expression[index] - '0';
            index++;
        }
        // å¾—åˆ°è¯¥åˆ†æ•°ä¸º x/y, å°†ä¹‹å‰çš„ç»“æœåˆ†æ•°ä¸x/yåšåŠ æ³•
        up = up * y + x * down;
        down *= y;
    }
    if (up == 0) return "0/1";//ç»“æœä¸º0ï¼Œç›´æ¥è¿”å›
    // è·å–ç»“æœåˆ†æ•°çš„åˆ†å­åˆ†æ¯çš„æœ€å¤§å…¬çº¦æ•°ï¼Œçº¦åˆ†åŒ–ç®€ä¸ºæœ€ç®€åˆ†æ•°
    long long g = gcd(abs(up), down);
    // å°†ç»“æœåˆ†æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼è¿”å›
    return to_string(up / g) + "/" + to_string(down / g);
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n + logC).å…¶ä¸­Cä¸ºåŒ–ç®€å‰åˆ†å­åˆ†æ¯çš„æœ€å¤§å€¼ï¼Œæ±‚æœ€å¤§å…¬çº¦æ•°éœ€è¦O(logC) 

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [lc640. æ±‚è§£æ–¹ç¨‹](https://leetcode.cn/problems/solve-the-equation/)

### é¢˜æ„

æ±‚è§£ä¸€ä¸ªç»™å®šçš„æ–¹ç¨‹ï¼Œå°†`x`ä»¥å­—ç¬¦ä¸² `"x=#value"` çš„å½¢å¼è¿”å›ã€‚è¯¥æ–¹ç¨‹ä»…åŒ…å« `'+'` ï¼Œ `'-'` æ“ä½œï¼Œå˜é‡ `x` å’Œå…¶å¯¹åº”ç³»æ•°ã€‚

å¦‚æœæ–¹ç¨‹æ²¡æœ‰è§£æˆ–å­˜åœ¨çš„è§£ä¸ä¸ºæ•´æ•°ï¼Œè¯·è¿”å› `"No solution"` ã€‚å¦‚æœæ–¹ç¨‹æœ‰æ— é™è§£ï¼Œåˆ™è¿”å› `â€œInfinite solutionsâ€` ã€‚

é¢˜ç›®ä¿è¯ï¼Œå¦‚æœæ–¹ç¨‹ä¸­åªæœ‰ä¸€ä¸ªè§£ï¼Œåˆ™ 'x' çš„å€¼æ˜¯ä¸€ä¸ªæ•´æ•°ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥: equation = "x+5-3+x=6+x-2"
è¾“å‡º: "x=2"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: equation = "x=x"
è¾“å‡º: "Infinite solutions"
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: equation = "2x=x"
è¾“å‡º: "x=0"
```

**æç¤º:**

- `3 <= equation.length <= 1000`
- `equation` åªæœ‰ä¸€ä¸ª `'='`. 
- æ–¹ç¨‹ç”±ç»å¯¹å€¼åœ¨ `[0, 100]` èŒƒå›´å†…ä¸”æ— ä»»ä½•å‰å¯¼é›¶çš„æ•´æ•°å’Œå˜é‡ `'x'` ç»„æˆã€‚

### å‚è€ƒé¢˜è§£

1. [å®«æ°´ä¸‰å¶](https://leetcode.cn/problems/solve-the-equation/solutions/1736347/by-ac_oier-fvee)

### æ€è·¯

**:small_red_triangle_down: steps: **

1.  ç”¨xPrefixå’Œconsåˆ†åˆ«è¡¨ç¤ºå˜é‡xçš„ç³»æ•°å’Œå¸¸æ•°é¡¹ï¼Œç”¨signè¡¨ç¤ºè®¡ç®—é¡¹çš„æ­£è´Ÿ
2.  éå†å­—ç¬¦ä¸²ï¼Œéå†å­—ç¬¦æœ‰å››ç§æƒ…å†µï¼š'+/-'ï¼Œ '='ï¼Œ 'x'ï¼Œ 'æ•°å€¼'
    - è‹¥ä¸º'+/-'ï¼Œåˆ™æ”¹å˜sign
    - è‹¥ä¸º '='ï¼Œåˆ™å°†å·¦è¾¹çš„è¿ç®—ç»“æœç§»é¡¹åˆ°å³è¾¹
    - è‹¥ä¸º 'x'ï¼Œéœ€è¦åˆ†xæœ‰æ— ç³»æ•°ä¸¤ç§æƒ…å†µ
        - æ— ç³»æ•°ï¼Œåˆ™xPrefixç›´æ¥+-1
        - æœ‰ç³»æ•°ï¼Œåˆ™`xPrefix += sign*stoi(substr())`ï¼Œæ”¾åˆ°ä¸º'æ•°å€¼'çš„é€»è¾‘ä¸­ç»Ÿä¸€å¤„ç†
    - è‹¥ä¸º  'æ•°å€¼'ï¼Œåˆ™éœ€è¦åˆ¤æ–­æ˜¯å¸¸æ•°é¡¹è¿˜æ˜¯xçš„ç³»æ•°
        - å…ˆè®©ä¸€ä¸ªå¿«æŒ‡é’ˆåç§»ç›´åˆ°ä¸æŒ‡å‘æ•°å­—ä¸ºæ­¢ï¼Œåˆ¤æ–­æ­¤æ—¶æŒ‡å‘çš„æ˜¯'x'è¿˜æ˜¯å…¶å®ƒ
            - è‹¥æŒ‡å‘'x'ï¼Œè¯´æ˜æ˜¯xçš„ç³»æ•°ï¼Œç´¯åŠ åˆ°xPrefix
            - å¦åˆ™ï¼Œè¯´æ˜æ˜¯å¸¸æ•°é¡¹ï¼Œç´¯åŠ åˆ°å¸¸æ•°é¡¹
3.  åˆ¤æ–­æ˜¯æ— è§£ï¼ˆxPrefix == 0 && cons != 0ï¼‰è¿˜æ˜¯æœ‰æ— é™è§£ï¼ˆxPrefix == 0 && cons == 0ï¼‰
4.  æœ‰è§£è¿”å›è®¡ç®—ç»“æœï¼šç³»æ•°*x+å¸¸æ•°=0 ==> x=-å¸¸æ•°/xPrefix=`-cons/xPrefix`

### ä»£ç 

```c++
string solveEquation(string equation) {
    int n = equation.size();
    int xPrefix = 0, cons = 0;//xPrefixå’Œconsåˆ†åˆ«è¡¨ç¤ºxçš„ç³»æ•°å’Œå¸¸æ•°é¡¹
    int sign = 1;//ç¬¦å·ï¼Œè¡¨ç¤ºæ­£è´Ÿ
    for(int i = 0; i < n;) {
        char ch = equation[i];
        // chæœ‰å››ç§æƒ…å†µï¼š'+/-', '=', 'x', 'æ•°å€¼'
        if (ch == '+' || ch == '-') {
            sign = (ch == '-') ? -1 : 1; 
            ++i;
        }
        else if (ch == '=') {//å°†å·¦è¾¹çš„è¿ç®—ç»“æœç§»é¡¹åˆ°å³è¾¹
            xPrefix = -xPrefix; cons = -cons;
            sign = 1;
            ++i;
        }
        //å¦‚æœæ˜¯'x'ï¼Œåˆ™éœ€è¦åˆ¤æ–­xæœ‰æ²¡æœ‰ç³»æ•°
        else if (ch == 'x') { //xæ²¡æœ‰ç³»æ•°ï¼Œè¿™æ—¶å€™å°±xPrefixå°±åªéœ€è¦+1æˆ–-1
            xPrefix += sign;
            ++i;
        }
        else { //å¦‚æœæ˜¯æ•°å­—ï¼Œåˆ™éœ€è¦åˆ¤æ–­æ˜¯å¸¸æ•°é¡¹è¿˜æ˜¯xçš„ç³»æ•°
            int j = i;
            while (j < n && isdigit(equation[j])) ++j;
            int num = sign * stoi(equation.substr(i, j - i));
            if (equation[j] == 'x') {
                xPrefix += num;
                i = j + 1;//è·³è¿‡'x',å¦åˆ™ä¸‹æ¬¡å¾ªç¯åˆä¼šæ‰§è¡Œif (ch == 'x')å¯¼è‡´é‡å¤è®¡ç®—
            }
            else {
                cons += num;
                i = j;
            }
        }
    }
    if (xPrefix == 0) return cons == 0 ? "Infinite solutions" : "No solution";
    return "x=" + to_string(-cons / xPrefix);//ç³»æ•°*x+å¸¸æ•°=0 ==> x=-å¸¸æ•°/xPrefix=-cons/xPrefix
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


## [lc38. å¤–è§‚æ•°åˆ—](https://leetcode.cn/problems/count-and-say/)

### é¢˜æ„

ã€Œå¤–è§‚æ•°åˆ—ã€æ˜¯ä¸€ä¸ªæ•´æ•°åºåˆ—ï¼Œä»æ•°å­— 1 å¼€å§‹ï¼Œåºåˆ—ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯å¯¹å‰ä¸€é¡¹çš„æè¿°ã€‚ä½ å¯ä»¥å°†å…¶è§†ä½œæ˜¯ç”±é€’å½’å…¬å¼å®šä¹‰çš„æ•°å­—å­—ç¬¦ä¸²åºåˆ—ï¼š

- `countAndSay(1) = "1"`
- `countAndSay(n)` æ˜¯å¯¹ `countAndSay(n-1)` çš„æè¿°ï¼Œä»¥æ•°å­—å­—ç¬¦ä¸²çš„ã€‚

ç»™å®šä¸€ä¸ªæ­£æ•´æ•° `n` ï¼Œè¾“å‡ºå¤–è§‚æ•°åˆ—çš„ç¬¬ `n` é¡¹ã€‚

å‰äº”é¡¹å¦‚ä¸‹ï¼š

```
1.     1
2.     11
3.     21
4.     1211
5.     111221
ç¬¬ä¸€é¡¹æ˜¯æ•°å­— 1 
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 1 å³ â€œ ä¸€ ä¸ª 1 â€ï¼Œè®°ä½œ "11"
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 11 å³ â€œ äºŒ ä¸ª 1 â€ ï¼Œè®°ä½œ "21"
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 21 å³ â€œ ä¸€ ä¸ª 2 + ä¸€ ä¸ª 1 â€ ï¼Œè®°ä½œ "1211"
æè¿°å‰ä¸€é¡¹ï¼Œè¿™ä¸ªæ•°æ˜¯ 1211 å³ â€œ ä¸€ ä¸ª 1 + ä¸€ ä¸ª 2 + äºŒ ä¸ª 1 â€ ï¼Œè®°ä½œ "111221"
```

è¦ **æè¿°** ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ï¼Œé¦–å…ˆè¦å°†å­—ç¬¦ä¸²åˆ†å‰²ä¸º **æœ€å°** æ•°é‡çš„ç»„ï¼Œæ¯ä¸ªç»„éƒ½ç”±è¿ç»­çš„æœ€å¤š **ç›¸åŒå­—ç¬¦** ç»„æˆã€‚ç„¶å**å¯¹äºæ¯ä¸ªç»„ï¼Œå…ˆæè¿°å­—ç¬¦çš„æ•°é‡ï¼Œç„¶åæè¿°å­—ç¬¦ï¼Œå½¢æˆä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²å½¢å¼çš„æè¿°ç»„ã€‚**å†å°†æ‰€æœ‰æè¿°ç»„è¿æ¥èµ·æ¥ã€‚

ä¾‹å¦‚ï¼Œæ•°å­—å­—ç¬¦ä¸² `"3322251"` çš„æè¿°å¦‚ä¸‹å›¾ï¼š![image-20231225092325962](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312250923070.png)

**æç¤ºï¼š**`1 <= n <= 30` 

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 4
è¾“å‡ºï¼š"1211"
è§£é‡Šï¼š
countAndSay(1) = "1"
countAndSay(2) = è¯» "1" = ä¸€ ä¸ª 1 = "11"
countAndSay(3) = è¯» "11" = äºŒ ä¸ª 1 = "21"
countAndSay(4) = è¯» "21" = ä¸€ ä¸ª 2 + ä¸€ ä¸ª 1 = "12" + "11" = "1211"
```

### å‚è€ƒé¢˜è§£

1. æ˜æ˜å‡ è¡Œå°±èƒ½æå®Œè€Œä¸”ç†è§£ä¹Ÿæ›´ç®€å•ï¼Œä¸€ä¸ªä¸ªé¢˜è§£å†™çš„åˆé•¿åˆè‡­:neutral_face:

### æ€è·¯

æ‰€è°“çš„ã€Œå¤–è§‚æ•°åˆ—ã€ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¾æ¬¡ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­è¿ç»­ç›¸åŒå­—ç¬¦çš„ä¸ªæ•°ã€‚

**:question:   problems:** 

1. å¾ªç¯æ¡ä»¶èƒ½ä¸èƒ½å†™æˆ`res[j]==res[j-1]`ï¼Œä¸ºä»€ä¹ˆ?

:heavy_check_mark:  **answer:** 

1. ä¸è¡Œï¼è‡ªå·±è¯•è¯•å°±çŸ¥é“äº†ï¼Œéº»çƒ¦å¾—å¾ˆ

**:small_red_triangle_down: steps: **

1.  å¤–è§‚æ•°åˆ—åˆå§‹åŒ–ä¸º"1"
2.  å¾ªç¯n-1æ¬¡ä»¥å¾—åˆ°ç¬¬né¡¹çš„å¤–è§‚æ•°åˆ—ï¼Œæ¯ä¸€æ¬¡å¾ªç¯éƒ½è¦å¾—åˆ°ç¬¬ i é¡¹å¤–è§‚æ•°åˆ—
3.  åˆå§‹åŒ–å½“å‰é¡¹å¤–è§‚æ•°åˆ—ä¸ºç©ºå­—ç¬¦ä¸²ï¼ˆå› ä¸ºæ¯ä¸€æ¬¡å¾—åˆ°çš„å¤–è§‚æ•°åˆ—éƒ½æ˜¯å¯¹å‰ä¸€é¡¹å¤–è§‚æ•°åˆ—çš„æè¿°ï¼Œæ˜¯å…¨æ–°çš„ï¼è€Œä¸æ˜¯ç›´æ¥å°±èƒ½è¿½åŠ åœ¨å‰ä¸€é¡¹çš„ç»“æœåé¢çš„ã€‚å› æ­¤åœ¨æ±‚å¾—å½“å‰é¡¹å¤–è§‚æ•°åˆ—æ—¶å¿…é¡»è¦å…ˆåˆå§‹åŒ–è¯¥æ¬¡çš„å¤–è§‚æ•°åˆ—ï¼‰
4.  éå†å‰ä¸€é¡¹å¤–è§‚æ•°åˆ—ï¼Œä»¥æ±‚å¾—å½“å‰é¡¹å¤–è§‚æ•°åˆ—
    1.  åˆå§‹åŒ–å½“å‰éå†å­—ç¬¦çš„æ•°é‡ä¸º1
    2.  å¦‚æœç›¸é‚»å­—ç¬¦ç›¸ç­‰åˆ™å¿«æŒ‡é’ˆåç§»ï¼Œç»Ÿè®¡å­—ç¬¦æ•°é‡
    3.  å¾—åˆ°å½“å‰éå†å­—ç¬¦çš„æ•°é‡åï¼Œå°†ã€æ•°é‡ã€‘+ã€å­—ç¬¦ã€‘å½¢æˆä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²å½¢å¼çš„ã€æè¿°ç»„ã€‘ï¼Œè¿½åŠ åœ¨è¦ æ±‚çš„å½“å‰é¡¹å¤–è§‚æ•°åˆ—å

5.  å¾—åˆ°å½“å‰é¡¹å¤–è§‚æ•°åˆ—åï¼Œç»™resèµ‹å€¼ä¸ºè¿™æ¬¡éå†æ±‚å¾—çš„å¤–è§‚æ•°åˆ—ï¼Œä»¥ä½œä¸ºä¸‹ä¸€æ¬¡å¾ªç¯ç”¨æ¥å‚è€ƒéå†çš„å‰ä¸€é¡¹å¤–è§‚æ•°åˆ—

:smiley: **æ”¶è·ï¼š ** 

- `tmp += to_string(cnt) + ch;`å¯ä»¥å†™æˆ`tmp += cnt + '0'; tmp += ch;`ä½†æ˜¯ä¸å¯ä»¥å†™æˆ`tmp += cnt + '0' + ch;`ã€‚æ¯”å¦‚cnt=1ï¼Œch='1'æ—¶ï¼Œ
    - `tmp += 1 + '0' + '1'`ï¼šç›¸å½“äº`tmp += "(1 + 48 + 49)" == "98"`ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ•´æ•°å’ŒcharåšåŠ æ³•æ—¶ï¼Œä¼šå°†å­—ç¬¦çš„ASCIIå€¼åŠ åˆ°æ•´æ•°ä¸Šï¼Œå†æŠŠæœ€ç»ˆè®¡ç®—å‡ºçš„æ•´æ•°ç”¨" "å¼•èµ·æ¥è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ 
    - `tmp += to_string(1) + '1'`ï¼šç›¸å½“äº`tmp += "1" + '1'== "11"`ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å­—ç¬¦ä¸²å’ŒcharåšåŠ æ³•æ—¶ï¼Œæ˜¯ç›´æ¥å°†å®ƒä»¬æ‹¼æ¥èµ·æ¥ï¼Œè€Œä¸ä¼šåšASCIIçš„ç›¸å…³è®¡ç®— 


### ä»£ç 

```c++
string countAndSay(int n) {
    string res = "1";//1.
    for (int i = 1; i < n; ++i) { //2.
        string tmp = "";//3.
        for (int j = 0; j < res.size(); ++j) { //4.
            int cnt = 1;//4.1
            while (j + 1 < res.size() && res[j] == res[j + 1]) {//4.2
                cnt++;
                j++;
            }
            tmp += to_string(cnt) + res[j];//4.3
        }
        res = tmp;//5.
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n*m)ï¼Œnä¸ºç»™å®šçš„æ­£æ•´æ•°æ˜¯ï¼Œmä¸ºç”Ÿæˆè¿‡çš„æ‰€æœ‰å¤–è§‚æ•°åˆ—å­—ç¬¦ä¸²ä¸­çš„æœ€å¤§é•¿åº¦  

- ç©ºé—´å¤æ‚åº¦ï¼šO(m)


##   [lc443. å‹ç¼©å­—ç¬¦ä¸²](https://leetcode.cn/problems/string-compression/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦æ•°ç»„ `chars` ï¼Œè¯·ä½¿ç”¨ä¸‹è¿°ç®—æ³•å‹ç¼©ï¼š

ä»ä¸€ä¸ªç©ºå­—ç¬¦ä¸² `s` å¼€å§‹ã€‚å¯¹äº `chars` ä¸­çš„æ¯ç»„ **è¿ç»­é‡å¤å­—ç¬¦** ï¼š

- å¦‚æœè¿™ä¸€ç»„é•¿åº¦ä¸º `1` ï¼Œåˆ™å°†å­—ç¬¦è¿½åŠ åˆ° `s` ä¸­ã€‚
- å¦åˆ™ï¼Œéœ€è¦å‘ `s` è¿½åŠ å­—ç¬¦ï¼Œåè·Ÿè¿™ä¸€ç»„çš„é•¿åº¦ã€‚

å‹ç¼©åå¾—åˆ°çš„å­—ç¬¦ä¸² `s` **ä¸åº”è¯¥ç›´æ¥è¿”å›** ï¼Œéœ€è¦è½¬å‚¨åˆ°å­—ç¬¦æ•°ç»„ `chars` ä¸­ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœç»„é•¿åº¦ä¸º `10` æˆ– `10` ä»¥ä¸Šï¼Œåˆ™åœ¨ `chars` æ•°ç»„ä¸­ä¼šè¢«æ‹†åˆ†ä¸ºå¤šä¸ªå­—ç¬¦ã€‚

è¯·åœ¨ **ä¿®æ”¹å®Œè¾“å…¥æ•°ç»„å** ï¼Œè¿”å›è¯¥æ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°ä¸€ä¸ªåªä½¿ç”¨å¸¸é‡é¢å¤–ç©ºé—´çš„ç®—æ³•æ¥è§£å†³æ­¤é—®é¢˜ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šchars = ["a","a","b","b","c","c","c"]
è¾“å‡ºï¼šè¿”å› 6 ï¼Œè¾“å…¥æ•°ç»„çš„å‰ 6 ä¸ªå­—ç¬¦åº”è¯¥æ˜¯ï¼š["a","2","b","2","c","3"]
è§£é‡Šï¼š"aa" è¢« "a2" æ›¿ä»£ã€‚"bb" è¢« "b2" æ›¿ä»£ã€‚"ccc" è¢« "c3" æ›¿ä»£ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šchars = ["a","b","b","b","b","b","b","b","b","b","b","b","b"]
è¾“å‡ºï¼šè¿”å› 4 ï¼Œè¾“å…¥æ•°ç»„çš„å‰ 4 ä¸ªå­—ç¬¦åº”è¯¥æ˜¯ï¼š["a","b","1","2"]ã€‚
è§£é‡Šï¼šç”±äºå­—ç¬¦ "a" ä¸é‡å¤ï¼Œæ‰€ä»¥ä¸ä¼šè¢«å‹ç¼©ã€‚"bbbbbbbbbbbb" è¢« â€œb12â€ æ›¿ä»£ã€‚
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šæŒ‡å‘æ–°æ—§æ•°ç»„çš„åŒæŒ‡é’ˆ  **:star:==

**:key:  keyï¼š**

- å…³é”®æ˜¯æ³¨æ„"å¦‚æœç»„é•¿åº¦ä¸º `10` æˆ– `10` ä»¥ä¸Šï¼Œåˆ™åœ¨ `chars` æ•°ç»„ä¸­ä¼šè¢«æ‹†åˆ†ä¸ºå¤šä¸ªå­—ç¬¦ã€‚"ä¸è¦æ¼äº†ï¼

**:small_red_triangle_down: steps: **

1. åˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘æ–°æ•°ç»„çš„æœ«å°¾( j ) å’Œæ—§æ•°å­—çš„æœ«å°¾( i )

2. éå†å­—ç¬¦æ•°ç»„

    1. åˆå§‹åŒ–å½“å‰éå†å­—ç¬¦çš„ä¸ªæ•°cntä¸º1

    2. i åç§»éå†ç›¸åŒå­—ç¬¦ï¼Œå¾—åˆ°è¯¥å­—ç¬¦çš„ä¸ªæ•°

    3. å¦‚æœä¸ªæ•°ä¸º1ï¼Œåˆ™ç›´æ¥å°†å…¶æ”¾åˆ°æ–°æ•°ç»„ï¼›å¦åˆ™è¿˜éœ€è¦å†å°†å…¶ä¸ªæ•°è¿½åŠ ä¸Šå»

        - æ³¨æ„ï¼å½“è¿½åŠ cntæ—¶ï¼Œå¦‚æœcnt>=10å°±éœ€è¦å°†cntçš„æ¯ä¸€ä½æ‹†æˆå•ç‹¬çš„å­—ç¬¦ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æ‹†æ³•

            1. ```c++
                string cntStr = to_string(cnt);//å°†cntè½¬å­—ç¬¦ä¸²ï¼Œå†ç”¨[]å–æ¯ä¸ªå­—ç¬¦
                for (int k = 0; k < cntStr.size(); ++k) chars[j++] = cntStr[k];
                ```

            2. ```c++
                int tmp = j;//ç”¨cnt%10é€ä½å–ä¸ªä½åˆ°æœ€é«˜ä½ï¼Œå†åè½¬ä½ç½®
                for(; cnt; cnt /= 10) chars[j++] = cnt % 10 + '0';//12%10=2,1%10=1
                reverse(chars.begin() + tmp, chars.begin() + j);
                ```

3. æ­¤æ—¶ j æŒ‡å‘æ–°æ•°ç»„æœ«å°¾çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œæ–°æ•°ç»„é•¿åº¦å°±æ˜¯ j

### ä»£ç 

```c++
int compress(vector<char>& chars) {
    int n = chars.size(), j = 0;//1.jæŒ‡å‘æ–°æ•°ç»„çš„æœ«å°¾
    for (int i = 0; i < n; ++i) { //2.iæŒ‡å‘æ—§æ•°ç»„çš„æœ«å°¾
        int cnt = 1; //2.1
        // 2.2
        while (i + 1 < n && chars[i] == chars[i + 1]) {++i;++cnt;}
        // é€€å‡ºå¾ªç¯æ—¶,iä»æŒ‡å‘éå†å­—ç¬¦ï¼Œi+1æŒ‡å‘å¦å¤–ä¸€ä¸ªä¸åŒå­—ç¬¦
        // 2.3å¦‚æœä¸ªæ•°ä¸º1ï¼Œåˆ™ç›´æ¥å°†å…¶æ”¾åˆ°æ–°æ•°ç»„ï¼Œå¦åˆ™è¿˜éœ€è¦å°†å…¶ä¸ªæ•°è¿½åŠ ä¸Šå»
        chars[j++] = chars[i];  
        if (cnt != 1) { //è¿˜éœ€è¿½åŠ cnt,å¦‚æœcnt>=10å°±éœ€è¦å°†cntçš„æ¯ä¸€ä½æ‹†æˆå•ç‹¬çš„å­—ç¬¦
            // ç¬¬ä¸€ç§æ‹†æ³•:
            // string cntStr = to_string(cnt);
            // for (int k = 0; k < cntStr.size(); ++k) chars[j++] = cntStr[k];
            
            // ç¬¬äºŒç§æ‹†æ³•:
            int tmp = j;
            for(; cnt; cnt /= 10) chars[j++] = cnt % 10 + '0';//12%10=2,1%10=1
            reverse(chars.begin() + tmp, chars.begin() + j);
        }
    }
    return j;
}
```

## :fire:[8. å­—ç¬¦ä¸²è½¬æ¢æ•´æ•° (atoi)](https://leetcode.cn/problems/string-to-integer-atoi/)

### é¢˜æ„

è¯·ä½ æ¥å®ç°ä¸€ä¸ª `myAtoi(string s)` å‡½æ•°ï¼Œä½¿å…¶èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼ˆç±»ä¼¼ C/C++ ä¸­çš„ `atoi` å‡½æ•°ï¼‰ã€‚

å‡½æ•° `myAtoi(string s)` çš„ç®—æ³•å¦‚ä¸‹ï¼š

1. è¯»å…¥å­—ç¬¦ä¸²å¹¶ä¸¢å¼ƒæ— ç”¨çš„å‰å¯¼ç©ºæ ¼
2. æ£€æŸ¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼ˆå‡è®¾è¿˜æœªåˆ°å­—ç¬¦æœ«å°¾ï¼‰ä¸ºæ­£è¿˜æ˜¯è´Ÿå·ï¼Œè¯»å–è¯¥å­—ç¬¦ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ ç¡®å®šæœ€ç»ˆç»“æœæ˜¯è´Ÿæ•°è¿˜æ˜¯æ­£æ•°ã€‚ å¦‚æœä¸¤è€…éƒ½ä¸å­˜åœ¨ï¼Œåˆ™å‡å®šç»“æœä¸ºæ­£ã€‚
3. è¯»å…¥ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œç›´åˆ°åˆ°è¾¾ä¸‹ä¸€ä¸ªéæ•°å­—å­—ç¬¦æˆ–åˆ°è¾¾è¾“å…¥çš„ç»“å°¾ã€‚å­—ç¬¦ä¸²çš„å…¶ä½™éƒ¨åˆ†å°†è¢«å¿½ç•¥ã€‚
4. å°†å‰é¢æ­¥éª¤è¯»å…¥çš„è¿™äº›æ•°å­—è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå³ï¼Œ"123" -> 123ï¼Œ "0032" -> 32ï¼‰ã€‚å¦‚æœæ²¡æœ‰è¯»å…¥æ•°å­—ï¼Œåˆ™æ•´æ•°ä¸º `0` ã€‚å¿…è¦æ—¶æ›´æ”¹ç¬¦å·ï¼ˆä»æ­¥éª¤ 2 å¼€å§‹ï¼‰ã€‚
5. å¦‚æœæ•´æ•°æ•°è¶…è¿‡ 32 ä½æœ‰ç¬¦å·æ•´æ•°èŒƒå›´ `[âˆ’2^31, 2^31 âˆ’ 1]` ï¼Œéœ€è¦æˆªæ–­è¿™ä¸ªæ•´æ•°ï¼Œä½¿å…¶ä¿æŒåœ¨è¿™ä¸ªèŒƒå›´å†…ã€‚å…·ä½“æ¥è¯´ï¼Œå°äº `âˆ’2^31` çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º `âˆ’2^31` ï¼Œå¤§äº `2^31 âˆ’ 1` çš„æ•´æ•°åº”è¯¥è¢«å›ºå®šä¸º `2^31 âˆ’ 1` ã€‚
6. è¿”å›æ•´æ•°ä½œä¸ºæœ€ç»ˆç»“æœã€‚

**æ³¨æ„ï¼š**

- æœ¬é¢˜ä¸­çš„ç©ºç™½å­—ç¬¦åªåŒ…æ‹¬ç©ºæ ¼å­—ç¬¦ `' '` ã€‚
- é™¤å‰å¯¼ç©ºæ ¼æˆ–æ•°å­—åçš„å…¶ä½™å­—ç¬¦ä¸²å¤–ï¼Œ**è¯·å‹¿å¿½ç•¥** ä»»ä½•å…¶ä»–å­—ç¬¦ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "42"
è¾“å‡ºï¼š42
è§£é‡Šï¼šåŠ ç²—çš„å­—ç¬¦ä¸²ä¸ºå·²ç»è¯»å…¥çš„å­—ç¬¦ï¼Œæ’å…¥ç¬¦å·æ˜¯å½“å‰è¯»å–çš„å­—ç¬¦ã€‚
ç¬¬ 1 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºæ²¡æœ‰å‰å¯¼ç©ºæ ¼ï¼‰
         ^
ç¬¬ 2 æ­¥ï¼š"42"ï¼ˆå½“å‰æ²¡æœ‰è¯»å…¥å­—ç¬¦ï¼Œå› ä¸ºè¿™é‡Œä¸å­˜åœ¨ '-' æˆ–è€… '+'ï¼‰
         ^
ç¬¬ 3 æ­¥ï¼š"42"ï¼ˆè¯»å…¥ "42"ï¼‰
           ^
è§£æå¾—åˆ°æ•´æ•° 42 ã€‚
ç”±äº "42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º 42 ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "   -42"
è¾“å‡ºï¼š-42
è§£é‡Šï¼š
ç¬¬ 1 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥å‰å¯¼ç©ºæ ¼ï¼Œä½†å¿½è§†æ‰ï¼‰
            ^
ç¬¬ 2 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ '-' å­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœåº”è¯¥æ˜¯è´Ÿæ•°ï¼‰
             ^
ç¬¬ 3 æ­¥ï¼š"   -42"ï¼ˆè¯»å…¥ "42"ï¼‰
               ^
è§£æå¾—åˆ°æ•´æ•° -42 ã€‚
ç”±äº "-42" åœ¨èŒƒå›´ [-231, 231 - 1] å†…ï¼Œæœ€ç»ˆç»“æœä¸º -42 ã€‚
```

**æç¤ºï¼š**

- `0 <= s.length <= 200`
- `s` ç”±è‹±æ–‡å­—æ¯ï¼ˆå¤§å†™å’Œå°å†™ï¼‰ã€æ•°å­—ï¼ˆ`0-9`ï¼‰ã€`' '`ã€`'+'`ã€`'-'` å’Œ `'.'` ç»„æˆ

> **æ­¤é¢˜ä¸€å®šè¦ç†è§£æ¸…æ¥šé¢˜æ„ï¼åœ¨å‡ºç°æ•°å­—ä¹‹å‰åªèƒ½å‡ºç°ç©ºæ ¼å’Œä¸€ä¸ªç¬¦å·ï¼Œå¦åˆ™å°±è¿”å›0ã€‚æ¯”å¦‚"+-12"å’Œ"words and 987"éƒ½æ˜¯è¿”å›0ï¼**

### æ³•ä¸€

å‚è€ƒé¢˜è§£ï¼š[å®˜è§£](https://leetcode.cn/problems/string-to-integer-atoi/solutions/183164/zi-fu-chuan-zhuan-huan-zheng-shu-atoi-by-leetcode-)

==:star: **æ ¸å¿ƒæ€è·¯ï¼šçŠ¶æ€æœº  **:star:==

**ä»€ä¹ˆæ˜¯è‡ªåŠ¨æœº?** â€”â€” æˆ‘ä»¬çš„ç¨‹åºåœ¨æ¯ä¸ªæ—¶åˆ»æœ‰ä¸€ä¸ªçŠ¶æ€sï¼Œæ¯æ¬¡ä»åºåˆ—ä¸­è¾“å…¥ä¸€ä¸ªå­—ç¬¦cï¼Œå¹¶æ ¹æ®å­—ç¬¦c è½¬ç§»åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€s'ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€è¦å»ºç«‹ä¸€ä¸ªè¦†ç›–æ‰€æœ‰æƒ…å†µçš„ä»sä¸cæ˜ å°„åˆ°s'çš„è¡¨æ ¼å³å¯è§£å†³é¢˜ç›®ä¸­çš„é—®é¢˜ã€‚

![image-20231228084113666](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312280841729.png)

æ ¹æ®çŠ¶æ€è½¬ç§»å›¾å»ºç«‹ä¸€ä¸ªè¦†ç›–æ‰€æœ‰æƒ…å†µçš„ã€ä»sä¸cæ˜ å°„åˆ°s'çš„çŠ¶æ€è½¬ç§»è¡¨æ ¼ï¼š

| çŠ¶æ€s  \  è¾“å…¥å­—ç¬¦c | ç©ºæ ¼  | +/-    | æ•°å­—      | å…¶å®ƒ |
| ------------------- | ----- | ------ | --------- | ---- |
| start               | start | signed | in_number | end  |
| signed              | end   | end    | in_number | end  |
| in_number           | end   | end    | in_number | end  |
| end                 | end   | end    | end       | end  |

**ä»¥"    -42"ä¸ºä¾‹åˆ†æçŠ¶æ€æœºæµç¨‹ï¼š**

- ä¸€å¼€å§‹æ˜¯startçŠ¶æ€ï¼Œåœ¨ç¬¬0è¡Œ

- ------------------------------------------------------

    s[0]=`' '`ï¼Œè¿›å…¥[0, 0] startçŠ¶æ€ï¼ˆä¿æŒä¸å˜ï¼‰

- s[1, 3] éƒ½åŒä¸Š

- s[4]=`'-'`ï¼Œè¿›å…¥[0, 1] signedçŠ¶æ€ï¼Œæ›´æ–°sign

- s[5]=`'4'`ï¼Œè¿›å…¥ [1, 2] in_numberçŠ¶æ€ï¼Œæ›´æ–°ç»“æœ

- s[6]=`'2'`ï¼Œè¿›å…¥ [2, 2] in_numberçŠ¶æ€ï¼Œæ›´æ–°ç»“æœ

- ------------------------------------------------------

    æ²¡æœ‰å­—ç¬¦äº†ï¼Œéå†ç»“æŸ


**:small_red_triangle_down: steps: **

1.  å®šä¹‰çŠ¶æ€æœºï¼Œå¾—åˆ°çŠ¶æ€è¡¨
2.  éå†å­—ç¬¦ä¸²å–å¾—è¾“å…¥æ¯ä¸ªå­—ç¬¦åçš„çŠ¶æ€ï¼Œå¦‚æœæ˜¯`in_number`åˆ™æ›´æ–°ç»“æœansï¼Œå¦‚æœæ˜¯`signed`åˆ™æ›´æ–°æ­£è´Ÿsign
    - æ³¨æ„è‹¥ansè¶…å‡ºäº†32ä½INTè¡¨ç¤ºèŒƒå›´æ—¶éœ€è¦å¯¹ç»“æœè¿›è¡Œé™åˆ¶
3.  è¿”å› sign * ans

#### ä»£ç 

```c++
class Automaton {
    string state = "start"; //åˆå§‹æ€
    //çŠ¶æ€è¡¨
    unordered_map<string, vector<string>> StateMachine = {
        {"start", {"start", "signed", "in_number", "end"}},
        {"signed", {"end", "end", "in_number", "end"}},
        {"in_number", {"end", "end", "in_number", "end"}},
        {"end", {"end", "end", "end", "end"}}
    };
    // è·å–ä¸‹ä¸€ä¸ªçŠ¶æ€æ‰€åœ¨çš„åˆ—, åˆ—ç´¢å¼•ä»j=0åˆ°j=3, åˆ†åˆ«è¡¨ç¤ºã€ç©ºæ ¼ã€ç¬¦å·ã€æ•°å­—ã€å…¶å®ƒã€‘
    int getColumn(char ch) { 
        if (ch == ' ') return 0;
        if (ch == '+' || ch == '-') return 1;
        if (isdigit(ch)) return 2;
        return 3;
    }
public:
    int sign = 1;
    long long ans = 0;
    //è·å–è¾“å…¥æ¯ä¸ªå­—ç¬¦åçš„çŠ¶æ€ï¼Œå¦‚æœæ˜¯in_numberåˆ™æ›´æ–°ç»“æœï¼Œå¦‚æœæ˜¯ç¬¦å·åˆ™æ›´æ–°æ­£è´Ÿ
    void get(char ch) { 
        // æ›´æ–°stateå‰ï¼Œstateæ˜¯åŸçŠ¶æ€ï¼Œä½œä¸ºåœ¨StateMachineä¸­æŸ¥è¯¢çš„è¡Œï¼Œ
        // getColumn(ch)æ ¹æ®åŸçŠ¶æ€(è¡Œ)å’Œè¾“å…¥å­—ç¬¦(åˆ—)ï¼Œåœ¨StateMachineä¸­æŸ¥è¯¢ä¸‹ä¸€ä¸ªçŠ¶æ€
        state = StateMachine[state][getColumn(ch)];
        if (state == "in_number") {  
            ans = ans * 10 + (ch - '0');
            ans = sign ? min(ans, (long long)INT_MAX) : min(ans, -(long long)INT_MIN);
            // è¦åŠ (long long)çš„åŸå› æ˜¯minçš„ä¸¤ä¸ªå‚æ•°çš„æ•°æ®ç±»å‹å¿…é¡»ä¸€è‡´
        } else if (state == "signed") {
            sign = ch == '+' ? 1 : -1;
        }
    }
};

class Solution {
public:
    int myAtoi(string str) {
        Automaton automaton;
        // é€ä¸ªå¤„ç†å­—ç¬¦å¹¶è¿›è¡ŒçŠ¶æ€è½¬ç§»
        for (char c : str) {
            automaton.get(c);
        }
        return automaton.sign * automaton.ans;
    }
};
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚å› ä¸ºåªéœ€è¦éå†ä¸€æ¬¡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¸”å¤„ç†æ¯ä¸ªå­—ç¬¦çš„æ—¶é—´ä¸ºO(1) 

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### æ³•äºŒ

> è¿™ä¸€ç‰ˆæ˜¯æˆ‘è‡ªå·±ä¸€å¼€å§‹å†™çš„ï¼Œè¢«å››ä¸ªæµ‹è¯•ç”¨ä¾‹å¡ä½ä¹‹åè‡ªå·±é€æ­¥ä¿®å¤bugåçš„ç»“æœã€‚
>
> ![image-20240528105735853](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202405281057976.png)
>
> å‰é¢ä¸¤ä¸ªç”¨ä¾‹è¢«å¡ä½æ˜¯å› ä¸ºæ²¡ç†è§£æ¸…æ¥šé¢˜ç›®çš„æ„æ€ï¼Œæ²¡ææ¸…æ¥šå•ç‹¬çš„0å°±æ˜¯ä¸€ä¸ªæ•°å­—è€Œä¸å±äºå‰ç½®0ï¼Œä»¥åŠåœ¨å‡ºç°æ•°å­—ä¹‹å‰åªèƒ½å‡ºç°ä¸€ä¸ªç¬¦å·è¿™ä¸¤ç‚¹ã€‚ä¸‹é¢ä¸‰ä¸ªç”¨ä¾‹è¢«å¡ä½æ˜¯å› ä¸ºå¤„ç†èˆå…¥overflowè¿™å—æ²¡æƒ³æ¸…æ¥šã€‚
>
> è™½ç„¶ä¹Ÿæ˜¯æœ‰ç‚¹é¢å‘æµ‹è¯•ç”¨ä¾‹ç¼–ç¨‹çš„æ„æ€ï¼Œä½†æ˜¯æˆ‘è§‰å¾—é€»è¾‘è¿˜æŒºæ¸…æ™°ï¼Œä¿®å¤bugçš„é€»è¾‘ä¹Ÿè›®æ¸…æ™°çš„ã€‚

**:key:  keyï¼š**

- æ€ä¹ˆå¤„ç†æ•´æ•°è¶…è¿‡[âˆ’2^31,  2^31âˆ’1 (2147483647) ]èŒƒå›´æ—¶èˆå…¥ï¼Ÿ

    ä¸€å¼€å§‹æƒ³çš„æ˜¯ç”¨long longä¿å­˜num, å¦‚æœnum > INT_MAX, num = INT_MAX; å¦‚æœnum < INT_MIN, num = INT_MIN; 

    ä½†æ˜¯ï¼ç”±äºæˆ‘ä»¬æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œå­—ç¬¦ä¸²å¯ä»¥å¾ˆé•¿ï¼Œå› æ­¤æ”¹å˜numçš„æ•°æ®ç±»å‹æ˜¯æ²»æ ‡ä¸æ²»æœ¬

    æ¯”å¦‚"20000000000000000000"è¿™ä¸ªç”¨ä¾‹å°±ä¼šoverflowã€‚

    è½¬æ¢æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è®¡ç®—numæ—¶å°±æå‰é¿å…overflowçš„æƒ…å†µ

```cpp
int myAtoi(string s) {
/*
1. while å¤„ç†å‰å¯¼ç©ºæ ¼;
2. éå†s, å¯¹äºsä¸­æ¯ä¸ªå­—ç¬¦s[i], å¦‚æœs[i] == 
    (1) '-' || '+' 
        - å¦‚æœnum=0, è®¾ç½®flag; 
        - å¦‚æœnum!=0, é‚£å°±æ˜¯s="0-1"è¿™ç§æƒ…å†µ, æ­¤æ—¶è¯»å…¥åœæ­¢, break
    (2) æ•°å­—ï¼Œ
        - å¦‚æœnum=0ä¸”è¯»å–çš„æ•°å­—s[i]=='0', è¯´æ˜è¿™æ˜¯å‰å¯¼0, è·³è¿‡
        - å¦åˆ™, æ›´æ–°num (å¤„ç†èˆå…¥è¦åœ¨è¿™é‡Œè¿›è¡Œ)
    (3) éæ•°å­—å­—ç¬¦, break
3. å¤„ç†èˆå…¥

ä½†æ˜¯è¿˜å­˜åœ¨æ¼æ´ï¼Œ
ã€æ¼æ´ä¸€ã€s = "0-1", é¢„æœŸ=0, å´è¾“å‡ºçš„æ˜¯-1ã€‘
    å½“éå†åˆ°s[1]å³'-'æ—¶, æŒ‰ç…§é¢˜ç›®æœ¬æ„æ˜¯è¦break 
    ä½†æ˜¯å¦‚æœåƒä¸Šé¢è¿™æ ·å†™ï¼Œç”±äºs[i]=='-' && num=0ï¼Œä¸ä¼šbreakè€Œæ˜¯ç»§ç»­å¾€ä¸‹èµ°ï¼Œ
    å› æ­¤æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªã€æœ‰æ•ˆæ•°å­—ã€‘å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å·²ç»å­˜åœ¨æœ‰æ•ˆæ•°å­—
ã€æ¼æ´äºŒã€s = "+-12", é¢„æœŸ=0, å´è¾“å‡ºçš„æ˜¯-12ã€‘
    å’Œä¸Šä¸€ä¸ªæ¼æ´ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªã€æœ‰æ•ˆæ­£è´Ÿç¬¦å·ã€‘å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å·²ç»å­˜åœ¨æœ‰æ•ˆæ­£è´Ÿç¬¦å·
*/
    // 1. while å¤„ç†å‰å¯¼ç©ºæ ¼
    int i = 0;
    while (i < s.size() && s[i] == ' ') {
        ++i;
    }
    // 2. éå†s
    long long num = 0;
    bool flag = true; //é»˜è®¤ä¸ºæ­£æ•°
    bool havaValidNum = false; //æ˜¯å¦å·²ç»å­˜åœ¨æœ‰æ•ˆæ•°å­—
    bool havaValidSymbol = false; //æ˜¯å¦å·²ç»å­˜åœ¨æœ‰æ•ˆæ•°å­—
    for (; i < s.size(); ++i) {
        if (s[i] == '-' || s[i] == '+') {
            if (num == 0 && !havaValidNum && !havaValidSymbol) {
                flag = s[i] == '-' ? false : true;
                havaValidSymbol = true;
            } else {
                break;
            }
        } else if (isdigit(s[i])) {
            if (s[i] == '0' && num == 0) {
                havaValidNum = true;
                continue;
            } else {
                havaValidNum = true;
                // 3. å¤„ç†èˆå…¥.æå‰é¿å…overflowçš„æƒ…å†µ

                // ç¬¬ä¸€ç§åšæ³•ï¼š
                num = num * 10 + (s[i] - '0');
                num = flag ? min(num, (long long)INT_MAX) : min(num, -(long long)INT_MIN);
                // è¦åŠ (long long)çš„åŸå› æ˜¯minçš„ä¸¤ä¸ªå‚æ•°çš„æ•°æ®ç±»å‹å¿…é¡»ä¸€è‡´

                /* ç¬¬äºŒç§åšæ³•ï¼š
                æ³¨æ„è¿™é‡Œçš„æ¡ä»¶ï¼æˆ‘ä¸€å¼€å§‹æœ¬æ¥æ˜¯å†™æˆ >= INT_MAXçš„, ä½†æ˜¯
                æ¯”å¦‚num*10+(s[i]-'0')==INT_MAXä¸”ç¬¦å·ä¸ºè´Ÿæ—¶, å³s="-2147483647"è¿™ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œ
                æœ¬åº”è¿”å›-INT_MAX, å³-(2147483647),
                æ¡ä»¶å–ç­‰çš„è¯ï¼Œå°±ä¼šè¿›å…¥ä¸‹é¢çš„é€»è¾‘è¿”å›INT_MIN, å³-(2147483648) 
                */ 
                // if (num * 10 + (s[i] - '0') > INT_MAX) { 
                //     num = flag ? INT_MAX : INT_MIN;
                //     return num;
                // }
                // num = num * 10 + (s[i] - '0');
            }
        } else {
            break;
        }
    }
    if (havaValidSymbol) num = flag ? num : (-1) * num;
    return num;
}
```

### æ³•ä¸‰

**:small_red_triangle_down: steps: **

1.  è·³è¿‡å‰ç½®ç©ºæ ¼

    - å¦‚æœ i åˆ°äº†ç»“å°¾n æˆ–è€…ã€i æŒ‡å‘éæ•°å­—ã€éæ­£è´Ÿç¬¦å·ã€‘ï¼Œåˆ™ä¸ä¼šè¿›å…¥ä¹‹åçš„whileå¾ªç¯ï¼Œans = 0ï¼Œå› æ­¤æœ€ç»ˆä»ä¼šreturn 0

2.  å¦‚æœ i æŒ‡å‘æ­£è´Ÿç¬¦å·ï¼Œåˆ™ç›¸åº”åœ°æ”¹å˜signå¹¶è®© i åç§»

    - è‹¥ i åç§»æŒ‡å‘çš„å¹¶ä¸æ˜¯æ•°å­—è€Œæ˜¯å…¶å®ƒå­—ç¬¦ï¼Œåˆ™ä¸ä¼šè¿›å…¥ä¹‹åçš„whileå¾ªç¯ï¼Œans = 0ï¼Œå› æ­¤æœ€ç»ˆä»ä¼šreturn 0

3.  å¤„ç†æ¯ä¸ªæ•°å­—ï¼Œè®¡ç®—ç»“æœã€‚å¦å¤–ï¼Œè‹¥ansè¶…å‡ºäº†32ä½INTè¡¨ç¤ºèŒƒå›´åˆ™éœ€è¦å¯¹ç»“æœè¿›è¡Œé™åˆ¶ï¼Œé™åˆ¶é€»è¾‘åˆ†æå¦‚ä¸‹ï¼š

    - å¯¹äºå†™æ³•ä¸€ã€ç”¨longä¿å­˜anså˜é‡ï¼Œæ­¤æ—¶ç›´æ¥åˆ¤æ–­ansæ•°å€¼æ˜¯å¦è¶…è¿‡INT_MAXå³å¯

    - å¯¹äºå†™æ³•äºŒã€ç”¨intä¿å­˜anså˜é‡ï¼Œæ­¤æ—¶åˆ¤æ–­æº¢å‡ºçš„ if åˆ†æå¦‚ä¸‹ï¼š
        1. `ans > INT_MAX / 10`ï¼š
            - è¿™ä¸ªæ¡ä»¶æ£€æŸ¥å½“å‰è®¡ç®—å‡ºçš„æ•°å€¼ ans æ˜¯å¦å·²ç»å¤§äºINT_MAX é™¤ä»¥ 10ã€‚
            - å¦‚æœæ˜¯ï¼Œé‚£ä¹ˆä¸‹é¢çš„è®¡ç®—ä¸­ï¼Œä¹˜ä»¥ 10 ä¼šintå‹çš„anså˜é‡å¯¼è‡´æº¢å‡ºã€‚
        2. `ans == INT_MAX / 10 && s[i] - '0' > 7`
            - è¿™ä¸ªæ¡ä»¶æ£€æŸ¥å½“å‰è®¡ç®—å‡ºçš„æ•°å€¼ ans æ˜¯å¦ == INT_MAX é™¤ä»¥ 10ï¼Œå¹¶æ£€æŸ¥å½“å‰æ•°å­—æ˜¯å¦è¶…è¿‡äº†7ã€‚
            - ä¸ºä»€ä¹ˆæ˜¯7ï¼Ÿå› ä¸ºåœ¨å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°æ—¶ï¼Œæœ€å¤§å€¼ `INT_MAX` çš„**ä¸ªä½**æ˜¯ 7ã€‚è¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œå°±ä¼šé€ æˆæ•´æ•°æº¢å‡ºã€‚ 

4.  è¿”å›ç»“æœ

**:x: careless | ignore :**

- ä¸èƒ½ç›´æ¥ç”¨stoi(),æœ¬é¢˜è¦æˆ‘ä»¬å®ç°å­—ç¬¦ä¸²åˆ°æ•´æ•°çš„è½¬æ¢ï¼Œæ€ä¹ˆèƒ½ç›´æ¥è°ƒç”¨ç±»ä¼¼çš„C++apiå‘¢

#### ä»£ç 

```c++
int myAtoi(string s) {
    int sign = 1, i = 0, n = s.size();
    while(s[i] == ' ') i++;
    if(s[i] == '-' || s[i] == '+') sign = (s[i++] == '-') ? -1 : 1;
    // å†™æ³•ä¸€ã€ç”¨longä¿å­˜anså˜é‡
    long ans = 0;
    while(i < n && isdigit(s[i])){
        ans = ans * 10 + s[i++] - '0';
        //è‹¥ansè¶…å‡ºäº†32ä½INTçš„è¡¨ç¤ºèŒƒå›´
        if(ans > INT_MAX) return sign == 1 ? INT_MAX : INT_MIN; 
    }
    // å†™æ³•äºŒã€ç”¨intä¿å­˜anså˜é‡
    // int ans = 0; 
    // while(i < n && isdigit(s[i])) {
    //     if(ans > INT_MAX / 10 || (ans == INT_MAX / 10 && s[i] - '0' > 7)) return sign == 1 ? INT_MAX : INT_MIN;
    //     ans = ans * 10 + (s[i++] - '0'); //ä¸åŠ æ‹¬å·åˆ™"21474836460"ä¼šæº¢å‡º
    // }
    // return ans * sign;
    return ans * sign;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ã€‚ 

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)



## [lc13. ç½—é©¬æ•°å­—è½¬æ•´æ•°](https://leetcode.cn/problems/roman-to-integer/)

### é¢˜æ„

ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦: `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— `2` å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1 ã€‚`12` å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ `27` å†™åš `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

- `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
- `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
- `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚ 

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "III"
è¾“å‡º: 3
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "IV"
è¾“å‡º: 4
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: s = "IX"
è¾“å‡º: 9
```

**ç¤ºä¾‹ 4:**

```
è¾“å…¥: s = "LVIII"
è¾“å‡º: 58
è§£é‡Š: L = 50, V= 5, III = 3.
```

**ç¤ºä¾‹ 5:**

```
è¾“å…¥: s = "MCMXCIV"
è¾“å‡º: 1994
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

**æç¤ºï¼š**

- `1 <= s.length <= 15`
- `s` ä»…å«å­—ç¬¦ `('I', 'V', 'X', 'L', 'C', 'D', 'M')`
- é¢˜ç›®æ•°æ®ä¿è¯ `s` æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ç½—é©¬æ•°å­—ï¼Œä¸”è¡¨ç¤ºæ•´æ•°åœ¨èŒƒå›´ `[1, 3999]` å†…
- é¢˜ç›®æ‰€ç»™æµ‹è¯•ç”¨ä¾‹çš†ç¬¦åˆç½—é©¬æ•°å­—ä¹¦å†™è§„åˆ™ï¼Œä¸ä¼šå‡ºç°è·¨ä½ç­‰æƒ…å†µã€‚IL å’Œ IM è¿™æ ·çš„ä¾‹å­å¹¶ä¸ç¬¦åˆé¢˜ç›®è¦æ±‚ï¼Œ49 åº”è¯¥å†™ä½œ XLIXï¼Œ999 åº”è¯¥å†™ä½œ CMXCIX ã€‚
- **ç½—é©¬æ•°å­—ä¹¦å†™è§„èŒƒ**
    - ç½—é©¬æ•°å­—ä¸€èˆ¬ä»é«˜ä½åˆ°ä½ä½ä¹¦å†™ï¼Œä»å·¦å‘å³é˜…è¯»ã€‚è‹¥ä½äºé«˜ä½çš„æ•°è¾ƒå¤§ï¼Œåˆ™ç”¨é«˜ä½çš„æ•°åŠ ä¸Šä½ä½çš„æ•°ï¼›è‹¥ä½äºé«˜ä½çš„æ•°è¾ƒå°ï¼Œåˆ™ç”¨ä½ä½çš„æ•°å‡å»é«˜ä½çš„æ•°
    - ä½ä½å‡å»é«˜ä½æ—¶ **ä¸èƒ½è·¨è¶Šä¸€ä¸ªä½æ•°** ä¸” **é«˜ä½çš„æ•°åªèƒ½æ˜¯Iï¼ŒXï¼ŒCï¼ˆå³åªèƒ½å‡1ï¼Œå‡10ï¼Œå‡100Â·Â·Â·ï¼‰**
    - ä»€ä¹ˆæ˜¯è·¨ä½ï¼Ÿæ‹¿"IVC"ï¼ˆ1 5 100ï¼‰è¿™ä¸ªæ— æ•ˆçš„ç½—é©¬æ•°å­—ä¸¾ä¾‹ï¼Œæœ¬æ¥5-1=4ï¼Œä¹‹åå¯ä»¥ä»ä¸¤ä¸ªè§’åº¦è§£é‡Šæ— æ•ˆï¼š
        1. é«˜ä½çš„æ•°åªèƒ½æ˜¯Iï¼ŒXï¼ŒCï¼ˆå³åªèƒ½å‡1ï¼Œå‡10ï¼Œå‡100Â·Â·Â·ï¼‰ï¼Œå¾—åˆ°4ä¹‹åï¼Œè‹¥100-4ï¼Œ4ä½œä¸ºå‡æ•°ï¼Œå…¶å€¼ä¸åˆè§„èŒƒï¼ˆå¿…é¡»æ˜¯1ï¼Œ10ï¼Œ100Â·Â·Â·ï¼‰
        2. è·¨ä½äº†ï¼Œå¾—åˆ°4ä¹‹åï¼Œè‹¥100-4ï¼Œ100æ˜¯ä¸‰ä½ï¼Œ4æ˜¯ä¸€ä½ï¼Œä¸­é—´è·¨äº†ä¸€ä½ã€‚

### æ€è·¯

ä¸»è¦æ˜¯å¼„æ‡‚é¢˜æ„ï¼

**:key:  keyï¼š**æ¯”è¾ƒç›¸é‚»å­—ç¬¦ï¼Œè‹¥å·¦>=å³åˆ™ç›´æ¥å°†å·¦è¾¹å­—ç¬¦åŠ åˆ°resï¼Œå¦åˆ™å‡å»å·¦è¾¹å­—ç¬¦

### ä»£ç 

```c++
class Solution {
private:
    unordered_map<char, int> symbolValues = {
        {'I', 1},
        {'V', 5},
        {'X', 10},
        {'L', 50},
        {'C', 100},
        {'D', 500},
        {'M', 1000}
    };

public:
    int romanToInt(string s) {
        int res = 0, n = s.size();
        //å†™æ³•ä¸€ã€
        if (n == 1) return symbolValues[s[0]];
        for (int i = 0; i < n - 1; ) {
            int curVal = symbolValues[s[i]], nextVal = symbolValues[s[i + 1]];
            if (curVal >= nextVal) {
                res += curVal;
                ++i;
            }
            else {  
                res += nextVal - curVal;
                i += 2;
            }
        }
        if (n - 2 >= 0 && symbolValues[s[n - 2]] >= symbolValues[s[n - 1]]) res += symbolValues[s[n - 1]];
        
        //å†™æ³•ä¸€ã€
        for (int i = 0; i < n; ++i) {
            if (i + 1 < n && symbolValues[s[i]] < symbolValues[s[i + 1]]) 
                res -= symbolValues[s[i]];
            else res += symbolValues[s[i]];
        }

        return res;
    }
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


## [lc12. æ•´æ•°è½¬ç½—é©¬æ•°å­—](https://leetcode.cn/problems/integer-to-roman/)

### é¢˜æ„

ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š `I`ï¼Œ `V`ï¼Œ `X`ï¼Œ `L`ï¼Œ`C`ï¼Œ`D` å’Œ `M`ã€‚

```
å­—ç¬¦          æ•°å€¼
I             1
V             5
X             10
L             50
C             100
D             500
M             1000
```

ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš `II` ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš `XII` ï¼Œå³ä¸º `X` + `II` ã€‚ 27 å†™åš `XXVII`, å³ä¸º `XX` + `V` + `II` ã€‚

é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš `IIII`ï¼Œè€Œæ˜¯ `IV`ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º `IX`ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š

- `I` å¯ä»¥æ”¾åœ¨ `V` (5) å’Œ `X` (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚
- `X` å¯ä»¥æ”¾åœ¨ `L` (50) å’Œ `C` (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚ 
- `C` å¯ä»¥æ”¾åœ¨ `D` (500) å’Œ `M` (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬ä¸ºç½—é©¬æ•°å­—ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: num = 3
è¾“å‡º: "III"
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: num = 4
è¾“å‡º: "IV"
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: num = 9
è¾“å‡º: "IX"
```

**ç¤ºä¾‹ 4:**

```
è¾“å…¥: num = 58
è¾“å‡º: "LVIII"
è§£é‡Š: L = 50, V = 5, III = 3.
```

**ç¤ºä¾‹ 5:**

```
è¾“å…¥: num = 1994
è¾“å‡º: "MCMXCIV"
è§£é‡Š: M = 1000, CM = 900, XC = 90, IV = 4.
```

**æç¤ºï¼š**

- `1 <= num <= 3999`

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/integer-to-roman/solutions/774611/zheng-shu-zhuan-luo-ma-shu-zi-by-leetcod-75rs)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šè´ªå¿ƒ ï¼ˆè´ªå¿ƒä¸€èˆ¬è¦å¯¹æ•°æ®è¿›è¡Œé¢„å¤„ç†--æ’åºï¼‰  **:star:==

**:key:  keyï¼š**

- è¿™é“é¢˜å¯ä»¥ç®—ä½œè´ªå¿ƒç®—æ³•çš„ã€æ‰¾é›¶é’±é—®é¢˜ã€‘ï¼Œå³ **ä¼˜å…ˆé€‰æ‹©é¢å€¼å¤§çš„**çº¸å¸æ‰¾ç»™é¡¾å®¢ï¼Œè¿™æ ·éœ€è¦æ‰¾çš„çº¸å¸å°±èƒ½å°½å¯èƒ½å°‘
- numä»å·¦åˆ°å³ï¼Œç»™æ¯ä¸€ä½éƒ½é€‰æ‹©å°½å¯èƒ½å¤§çš„ç¬¦å·å€¼ï¼Œé€‰å®Œä¸€ä¸ªå°±å°†num-è¯¥ç¬¦å·å€¼ç»§ç»­é‡å¤å¾ªç¯ï¼Œç›´åˆ°num==0

:smiley: **æ”¶è·ï¼š ** 

- ä¸è¦çœ‹åˆ°é”®å€¼å¯¹æ˜ å°„å°±åªæƒ³åˆ°mapï¼Œæœ‰æ—¶å€™ä¹Ÿéœ€è¦è€ƒè™‘é¡ºåºçš„pairæ•°ç»„

### ä»£ç 

```c++
//å¦‚æœå†™åœ¨ç±»å†…å¿…é¡»è¦ç»™[]å†…å†™ä¸Šæ•°ç»„å¤§å°13ï¼ï¼å¦åˆ™ä¼šæŠ¥é”™ï¼šerror: array bound cannot be deduced from an in-class initializer
//deduced:æ¨æ–­ã€in-class initializer:ç±»å†…åˆå§‹åŒ–ç¨‹åº
const pair<int, string> valueSymbols[] = {
    {1000, "M"},
    {900,  "CM"},
    {500,  "D"},
    {400,  "CD"},
    {100,  "C"},
    {90,   "XC"},
    {50,   "L"},
    {40,   "XL"},
    {10,   "X"},
    {9,    "IX"},
    {5,    "V"},
    {4,    "IV"},
    {1,    "I"},
};
class Solution {
public:
    string intToRoman(int num) {
        string res;
        for (const auto&[value, symbol] : valueSymbols) { 
            //å°†numä¸valueSymbolsä¸­çš„pairä¾æ¬¡æ¯”è¾ƒ
            //å½“value>numæ—¶ä¼šä¸€è·¯è·³è¿‡ï¼Œç›´åˆ°num>=valueï¼Œå³æ‰¾åˆ°äº†ç¬¬ä¸€ä¸ªä¸è¶…è¿‡numçš„æœ€å¤§çš„valueå€¼
            while (num >= value) {
                num -= value;
                res += symbol;
            } 
            if (num == 0) break;
        }
        return res;
    }
};
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(1)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [273. æ•´æ•°è½¬æ¢è‹±æ–‡è¡¨ç¤º](https://leetcode.cn/problems/integer-to-english-words/)

### é¢˜æ„

å°†éè´Ÿæ•´æ•° `num` è½¬æ¢ä¸ºå…¶å¯¹åº”çš„è‹±æ–‡è¡¨ç¤ºã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnum = 123
è¾“å‡ºï¼š"One Hundred Twenty Three"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnum = 12345
è¾“å‡ºï¼š"Twelve Thousand Three Hundred Forty Five"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnum = 1234567
è¾“å‡ºï¼š"One Million Two Hundred Thirty Four Thousand Five Hundred Sixty Seven"
```

**æç¤ºï¼š**

- `0 <= num <= 231 - 1`

### å‚è€ƒé¢˜è§£

1. [å®«æ°´ä¸‰å¶](https://leetcode.cn/problems/integer-to-english-words/solutions/1040978/gong-shui-san-xie-zi-fu-chuan-da-mo-ni-b-0my6)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šåˆ†è§£  **:star:==

**:key:  keyï¼š**

- **æ•°å­—çš„è‹±æ–‡è¡¨ç¤ºæ˜¯ ä»å·¦åˆ°å³ æ¯3ä½ä¸ºä¸€ç»„è¿›è¡Œè¡¨ç¤ºçš„ï¼å› æ­¤æˆ‘ä»¬åªéœ€è¦å°†æ•°å­—æ‹†æˆå¤šä¸ªä¸‰ä½ç»„å¤„ç†å³å¯ã€åˆ†è§£çš„æ€æƒ³ï¼ŒåŒ–ç¹ä¸ºç®€ã€‘**

    - å¦‚æœä¸å¤Ÿä¸‰ä½ä¹Ÿä¸€æ ·å½“ä½œä¸‰ä½ç»„å¤„ç†ï¼Œè€Œä¸æ˜¯å’Œåé¢çš„ä½ç»„åˆæˆä¸‰ä½ç»„ï¼å¦‚1 234 567å°±åº”è¯¥åˆ†æˆä¸‰ä¸ªä¸‰ä½ç»„ï¼Œç¬¬ä¸€ä¸ªä¸‰ä½ç»„æ˜¯ä¸å¤Ÿ3ä½çš„å•ç‹¬çš„1ï¼Œå¦å¤–ä¸¤ä¸ªä¸‰ä½ç»„åˆ†åˆ«æ˜¯234å’Œ567

- **è¡¨ç¤ºä¸‰ä½ä¸€ç»„çš„æ‰€æœ‰æ•°å­—ï¼Œå³è¡¨ç¤º1~999çš„æ•°ï¼Œæˆ‘ä»¬ç”¨å‡½æ•°`GroupOfThree(num)`æ¥å¤„ç†ã€‚è¯¥å‡½æ•°çš„ä½œç”¨å°±æ˜¯ï¼š**

    1. å°†1~999ç”¨è‹±æ–‡å•è¯æ‹¼æ¥è¡¨ç¤ºå‡ºæ¥ï¼›ï¼ˆä¸ºä»€ä¹ˆä¸è¡¨ç¤º0åœ¨2.ä¸­æœ‰è¯´æ˜ï¼‰

    2. åœ¨åé¢è·Ÿä¸Š"Billion /Million /Thousand "æ‰“é…åˆï¼Œä»¥è¡¨ç¤ºæ­£ç¡®çš„åŸºæ•°å¤§å°

        ã€ä»è¿™é‡Œæˆ‘ä»¬ä¹Ÿèƒ½çŸ¥é“ï¼Œç”±äº"Zero"åé¢æ˜¯ä¸èƒ½è·Ÿä¸Šè¿™ä¸‰ä¸ªå¤§åŸºæ•°æ‰“é…åˆçš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹"Zero"çš„æƒ…å†µåšç‰¹åˆ¤ã€‘

**:small_red_triangle_down: steps: **

- **`GroupOfThree(num)`çš„å®ç°é€»è¾‘å¦‚ä¸‹ï¼š**

    1. è‹¥numæœ‰ä¸‰ä½ï¼Œå³åœ¨[100,999]ä¹‹é—´ï¼Œåˆ™res += `ç™¾ä½å¯¹åº”çš„å•è¯(1~9)+" Hundred "`ï¼Œç„¶åå‰¥æ‰ç™¾ä½å˜æˆä¸¤ä½æ•°ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œ
    2. è‹¥numåœ¨[20,100)ä¹‹é—´ï¼Œåˆ™res += `"åä½å¯¹åº”çš„å•è¯(***ty)"+ç©ºæ ¼`ï¼Œç„¶åå‰¥æ‰åä½å˜æˆä¸ªä½æ•°ï¼Œç»§ç»­å¾€ä¸‹æ‰§è¡Œ
    3. è‹¥numä¸ç­‰äº0ï¼Œåˆ™res += `"ä¸ªä½å¯¹åº”çš„å•è¯(1~9)"+ç©ºæ ¼`ï¼Œè¡¨ç¤ºç»“æŸ

- **ä¸»å‡½æ•°çš„å®ç°é€»è¾‘å¦‚ä¸‹ï¼š**

    1. å…ˆå¯¹"Zero"(0)çš„æƒ…å†µè¿›è¡Œç‰¹åˆ¤

    2. ä»¥ä¸€ä¸ªä¸‰ä½ç»„ä¸ºå•ä½, ä»å·¦åˆ°å³å¤„ç†æ•°å­—ï¼ˆi ä»10^9^->10^6^->10^3^->1é€ä¸ªå¤„ç†ä¸‰ä½ç»„ï¼Œj ä»0->1->2->3ï¼ˆé€šè¿‡ j ä»THOUSANDSä¸­å–çš„åŸºæ•°ä»"Billion"åäº¿->"Million"ç™¾ä¸‡->"Thousand"åƒ->""ç©ºï¼‰ï¼‰

        > å…³äºä¸ºä»€ä¹ˆåŸºæ•°æ˜¯ä»Billionåäº¿ï¼ˆ10^9^ï¼‰å¼€å§‹ã€‚æ˜¯å› ä¸ºnum<=2^31^-1çº¦ç­‰äº10^9^ï¼Œå› æ­¤åŸºæ•°æœ€å¤§ä¹Ÿå°±æ˜¯ä»10^9^ï¼ˆåäº¿ï¼‰å¼€å§‹ï¼Œè€Œä¸ä¼šä»10^10^å¼€å§‹ã€‚

        1. å¦‚æœnumæ¯”å½“å‰åŸºæ•° i è¿˜å°ï¼ˆæ¯”å¦‚num<10^9^è€Œæ­¤æ—¶åŸºæ•°i=10^9^ï¼Œæ­¤æ—¶numæ— æ³•ç”¨åäº¿è¡¨ç¤ºï¼‰ï¼Œåˆ™continueè®© åŸºæ•° i/10^3^ å˜å°ï¼Œç›´åˆ°numèƒ½ç”¨åŸºæ•°iè¡¨ç¤ºä¸ºæ­¢
        2. é™¤æ³•è¿ç®—ä»¥å–å½“å‰numçš„æœ€é«˜ä¸‰ä½ç»„ï¼Œåˆ©ç”¨`GroupOfThree(num)`å¾—åˆ°ä¸‰ä½ç»„çš„è‹±æ–‡è¡¨ç¤ºä¹‹åï¼Œå†ç”¨ j ä»THOUSANDä¸­å–å‡ºå¯¹åº”åŸºæ•°è¿›è¡Œæ‹¼æ¥ï¼Œå®Œäº‹å†æ‹¼æ¥ä¸Šç©ºæ ¼

        > ä¸¾ä¾‹ï¼š1 234 567 ã€‚
        >
        > ç¬¬ä¸€ä¸ªä¸‰å…ƒç»„1çš„è‹±æ–‡è¡¨ç¤ºæ˜¯"One "+"Million"+" "ï¼Œ
        > ç¬¬äºŒä¸ªä¸‰å…ƒç»„234çš„è‹±æ–‡è¡¨ç¤ºæ˜¯"Two "+" Hundred "+"Thirty "+"Four "+"Thousand"+" "ï¼Œ
        > ç¬¬ä¸‰ä¸ªä¸‰å…ƒç»„567çš„è‹±æ–‡è¡¨ç¤ºæ˜¯"Five "+" Hundred "+"Sixty "+"Seven "+" "ã€‚
        >
        > åˆåˆ°ä¸€èµ·å°±æ˜¯"One Million Two Hundred Thirty Four Thousand Five Hundred Sixty Seven  "ã€‚

    3. æ›´æ–°

        - numå–ä½™è¿ç®—ä»¥å‰¥ç¦»æœ€é«˜ä¸‰ä½ç»„
        - i / 10^3^ å¾—åˆ°ä¸‹ä¸€ä¸ªä¸‰ä½ç»„çš„åŸºæ•°
        - ++jï¼ˆåŸºæ•°/10^3^åˆ™æŒ‡å‘ THOUSANDSä¸­åŸºæ•°å¯¹åº”è‹±æ–‡å•è¯ çš„æŒ‡é’ˆä¹Ÿè¦åç§»æŒ‡å‘/10^3^åçš„åŸºæ•°çš„è‹±æ–‡è¡¨ç¤ºï¼‰

    4. ç§»é™¤æœ«å°¾çš„ç©ºæ ¼ï¼Œè¿”å›ç»“æœ

### ä»£ç 

#### æ— æ³¨é‡Šçš„ç‰ˆæœ¬

```c++
class Solution {
private:
    string LESS20[20] = {"", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"};
    string TENS[10] = {"", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"};
    string THOUSANDS[4] = {"Billion", "Million", "Thousand", ""};
public:
    string GroupOfThree(int x) { 
        string ans;
        if (x >= 100) { ans += LESS20[x / 100] + " Hundred ";   x %= 100; }
        if (x >= 20) { ans += TENS[x / 10] + " ";   x %= 10; }
        if (x != 0) ans += LESS20[x] + " ";
        return ans;
    }
    string numberToWords(int num) {
        if (num == 0) return "Zero";
        string res;
        for (int i = (int)1e9, j = 0; i >= 1; i /= 1000, j++) { 
            if (num < i) continue;
            res += GroupOfThree(num / i) + THOUSANDS[j] + " ";
            num %= i;
        }
        return res.substr(0, res.find_last_not_of(' ') + 1);
    }
};
```

#### æœ‰æ³¨é‡Šçš„ç‰ˆæœ¬

```c++
class Solution {
private:
    // æ‰€æœ‰ä¸å¯å†åˆ†çš„ã€æ•°å­—è‹±æ–‡å•è¯çš„è¡¨ç¤º
    //LESS20è¡¨ç¤º1~19çš„å•è¯
    string LESS20[20] = {"", "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Eleven", "Twelve", "Thirteen", "Fourteen", "Fifteen", "Sixteen", "Seventeen", "Eighteen", "Nineteen"};
    //TENSè¡¨ç¤ºæ•´åçš„å•è¯
    string TENS[10] = {"", "", "Twenty", "Thirty", "Forty", "Fifty", "Sixty", "Seventy", "Eighty", "Ninety"};
    //TENSè¡¨ç¤ºåäº¿ã€ç™¾ä¸‡ã€åƒçš„å•è¯ => 10^9, 10^6, 10^3 (éƒ½æ˜¯ä¸‰ä½ç»„çš„æœ€é«˜ä½)
    string THOUSANDS[4] = {"Billion", "Million", "Thousand", ""};
public:
    string GroupOfThree(int x) { //è¿”å›ä¸€ä¸ªä¸‰ä½ç»„çš„è¡¨ç¤ºç»“æœ
        string ans;
        //æ³¨æ„ä¸‹é¢çš„åˆ†æ”¯é€»è¾‘éƒ½æ˜¯ifè€Œä¸æ˜¯if-elseï¼Œå› ä¸ºé™¤äº†é«˜ä½å¤–ï¼Œè¿˜æœ‰å…¶å®ƒä½ä½éœ€è¦è¡¨ç¤º
        //å…ˆè¡¨ç¤ºç™¾ä½(å¦‚æœæœ‰çš„è¯)
        if (x >= 100) { 
            ans += LESS20[x / 100] + " Hundred ";//LESS20[x/100]:æå–ç™¾ä½(1~9)ä»£è¡¨çš„å•è¯
            x %= 100;//è®©xå‰¥æ‰ç™¾ä½
        }
        //å†è¡¨ç¤ºåä½(å¦‚æœæœ‰ä¸”é0çš„è¯)
        if (x >= 20) {
            ans += TENS[x / 10] + " ";//TENS[x/10]:æå–åä½(1~9)ä»£è¡¨çš„å•è¯
            x %= 10;//è®©xå‰¥æ‰åä½
        }
        //æœ€åè¡¨ç¤ºä¸ªä½(å¦‚æœé0çš„è¯)
        if (x != 0) ans += LESS20[x] + " ";//LESS20[x]:ä¸ªä½(1~9)ä»£è¡¨çš„å•è¯
        return ans;
    }
    string numberToWords(int num) {
        //(1) 0è¦å•ç‹¬æ‹å‡ºæ¥ç‰¹åˆ¤
        if (num == 0) return "Zero";
        string res;
        //(2) ä»¥ä¸€ä¸ªä¸‰ä½ç»„ä¸ºå•ä½å¤„ç†æ•°å­—ï¼ˆä»å·¦åˆ°å³å¤„ç†ï¼‰
        // å¦‚æœä¸å¤Ÿä¸‰ä½ä¹Ÿä¸€æ ·å½“ä½œä¸‰ä½ç»„å¤„ç†ã€‚å¦‚1234å°±åº”è¯¥åˆ†æˆä¸¤ä¸ªä¸‰ä½ç»„ï¼Œä¸€ä¸ªä¸‰ä½ç»„æ˜¯ä¸å¤Ÿ3ä½çš„å•ç‹¬çš„1ï¼Œä¸€ä¸ªä¸‰ä½ç»„æ˜¯234
        for (int i = (int)1e9, j = 0; i >= 1; i /= 1000, j++) { //æ¯ä¸€æ¬¡å¾ªç¯éƒ½æ˜¯å¤„ç†ä¸€ä¸ªä¸‰ä½ç»„
            //1e9å°±æ˜¯10^9
            if (num < i) continue;
            res += GroupOfThree(num / i) + THOUSANDS[j] + " ";//é™¤æ³•è¿ç®—ä»¥å–æœ€é«˜ä¸‰ä½ç»„
            num %= i;//å–ä½™è¿ç®—ä»¥å‰¥ç¦»æœ€é«˜ä¸‰ä½ç»„
        }
        //(3) ç§»é™¤æœ«å°¾çš„ç©ºæ ¼
        return res.substr(0, res.find_last_not_of(' ') + 1);//ç›´æ¥ä»å¤´æˆªå–è‡³æœ€åä¸€ä¸ªä¸ä¸ºç©ºæ ¼çš„å­—ç¬¦
        // æˆ–è€…        
        // while (res[res.size() - 1] == ' ') res.pop_back();
        // return res;
    }
};
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(1)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


## :fire:[165. æ¯”è¾ƒç‰ˆæœ¬å·](https://leetcode.cn/problems/compare-version-numbers/)

### é¢˜æ„

ç»™ä½ ä¸¤ä¸ªç‰ˆæœ¬å· `version1` å’Œ `version2` ï¼Œè¯·ä½ æ¯”è¾ƒå®ƒä»¬ã€‚

ç‰ˆæœ¬å·ç”±ä¸€ä¸ªæˆ–å¤šä¸ªä¿®è®¢å·ç»„æˆï¼Œå„ä¿®è®¢å·ç”±ä¸€ä¸ª `'.'` è¿æ¥ã€‚æ¯ä¸ªä¿®è®¢å·ç”± **å¤šä½æ•°å­—** ç»„æˆï¼Œå¯èƒ½åŒ…å« **å‰å¯¼é›¶** ã€‚æ¯ä¸ªç‰ˆæœ¬å·è‡³å°‘åŒ…å«ä¸€ä¸ªå­—ç¬¦ã€‚ä¿®è®¢å·ä»å·¦åˆ°å³ç¼–å·ï¼Œä¸‹æ ‡ä» 0 å¼€å§‹ï¼Œæœ€å·¦è¾¹çš„ä¿®è®¢å·ä¸‹æ ‡ä¸º 0 ï¼Œä¸‹ä¸€ä¸ªä¿®è®¢å·ä¸‹æ ‡ä¸º 1 ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¾‹å¦‚ï¼Œ`2.5.33` å’Œ `0.1` éƒ½æ˜¯æœ‰æ•ˆçš„ç‰ˆæœ¬å·ã€‚

æ¯”è¾ƒç‰ˆæœ¬å·æ—¶ï¼Œè¯·æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºä¾æ¬¡æ¯”è¾ƒå®ƒä»¬çš„ä¿®è®¢å·ã€‚æ¯”è¾ƒä¿®è®¢å·æ—¶ï¼Œåªéœ€æ¯”è¾ƒ **å¿½ç•¥ä»»ä½•å‰å¯¼é›¶åçš„æ•´æ•°å€¼** ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿®è®¢å· `1` å’Œä¿®è®¢å· `001` **ç›¸ç­‰** ã€‚å¦‚æœç‰ˆæœ¬å·æ²¡æœ‰æŒ‡å®šæŸä¸ªä¸‹æ ‡å¤„çš„ä¿®è®¢å·ï¼Œåˆ™è¯¥ä¿®è®¢å·è§†ä¸º `0` ã€‚ä¾‹å¦‚ï¼Œç‰ˆæœ¬ `1.0` å°äºç‰ˆæœ¬ `1.1` ï¼Œå› ä¸ºå®ƒä»¬ä¸‹æ ‡ä¸º `0` çš„ä¿®è®¢å·ç›¸åŒï¼Œè€Œä¸‹æ ‡ä¸º `1` çš„ä¿®è®¢å·åˆ†åˆ«ä¸º `0` å’Œ `1` ï¼Œ`0 < 1` ã€‚

è¿”å›è§„åˆ™å¦‚ä¸‹ï¼š

- å¦‚æœ `version1 > version2` è¿”å› `1`ï¼Œ
- å¦‚æœ `version1 < version2` è¿”å› `-1`ï¼Œ
- é™¤æ­¤ä¹‹å¤–è¿”å› `0`ã€‚ 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šversion1 = "1.01", version2 = "1.001"
è¾“å‡ºï¼š0
è§£é‡Šï¼šå¿½ç•¥å‰å¯¼é›¶ï¼Œ"01" å’Œ "001" éƒ½è¡¨ç¤ºç›¸åŒçš„æ•´æ•° "1"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šversion1 = "1.0", version2 = "1.0.0"
è¾“å‡ºï¼š0
è§£é‡Šï¼šversion1 æ²¡æœ‰æŒ‡å®šä¸‹æ ‡ä¸º 2 çš„ä¿®è®¢å·ï¼Œå³è§†ä¸º "0"
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šversion1 = "0.1", version2 = "1.1"
è¾“å‡ºï¼š-1
è§£é‡Šï¼šversion1 ä¸­ä¸‹æ ‡ä¸º 0 çš„ä¿®è®¢å·æ˜¯ "0"ï¼Œversion2 ä¸­ä¸‹æ ‡ä¸º 0 çš„ä¿®è®¢å·æ˜¯ "1" ã€‚0 < 1ï¼Œæ‰€ä»¥ version1 < version2
```

**æç¤ºï¼š**

- `1 <= version1.length, version2.length <= 500`
- `version1` å’Œ `version2` ä»…åŒ…å«æ•°å­—å’Œ `'.'`
- `version1` å’Œ `version2` éƒ½æ˜¯ **æœ‰æ•ˆç‰ˆæœ¬å·**
- `version1` å’Œ `version2` çš„æ‰€æœ‰ä¿®è®¢å·éƒ½å¯ä»¥å­˜å‚¨åœ¨ **32 ä½æ•´æ•°** ä¸­

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/compare-version-numbers/solutions/970416/bi-jiao-ban-ben-hao-by-leetcode-solution-k6wi)

### æ€è·¯

ä»å·¦åˆ°å³éå†v1å’Œv2ï¼Œåˆ†åˆ«è®¡ç®—å®ƒä»¬å½“å‰æ­£åœ¨éå†çš„ä¿®è®¢å·çš„æ•°å€¼ï¼ˆé‡`'.'`åœæ­¢ï¼‰ï¼Œè‹¥è¿™ä¿©æ•°å€¼ä¸ç­‰ï¼Œåˆ™ç›´æ¥returnï¼Œå¦åˆ™è¿˜éœ€è¦ç»§ç»­éå†æ¯”è¾ƒ

```c++
int compareVersion(string version1, string version2) {
    int size1 = version1.size();
    int size2 = version2.size();
    int i = 0;
    int j = 0;
    while (i < size1 || j < size2) {
        /* ä¸€æ¬¡å¾ªç¯å¤„ç†çš„æ˜¯ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»¥æ•°å­—å¼€å¤´ï¼Œä»¥'.'ç»“å°¾ */
        // 1. åˆå§‹åŒ–ç‰ˆæœ¬å·çš„å€¼
        int num1 = 0;
        int num2 = 0;
        // 2. è®¡ç®—æ›´æ–°num1å’Œnum2
        while (i < size1 && isdigit(version1[i])) {
            num1 = num1 * 10 + (version1[i++] - '0');
        }
        while (j < size2 && isdigit(version2[j])) {
            num2 = num2 * 10 + (version2[j++] - '0');
        }
        // 3. ä¸¤ä¸ªå¾ªç¯éƒ½åœ¨é‡åˆ°'.'æ—¶åœä¸‹ï¼Œæ­¤æ—¶æ¯”è¾ƒè¿™ä¸¤ä¸ªnumçš„å¤§å°
        if (num1 != num2) {
            return num1 > num2 ? 1 : -1;
        }
        // 4. è·³è¿‡ç‚¹å·
        i++;
        j++;
    }
    return 0;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n + m)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [481. ç¥å¥‡å­—ç¬¦ä¸²](https://leetcode.cn/problems/magical-string/)

----

### é¢˜æ„

ç¥å¥‡å­—ç¬¦ä¸² `s` ä»…ç”± `'1'` å’Œ `'2'` ç»„æˆï¼Œå¹¶éœ€è¦éµå®ˆä¸‹é¢çš„è§„åˆ™ï¼š

- ç¥å¥‡å­—ç¬¦ä¸² s çš„ç¥å¥‡ä¹‹å¤„åœ¨äºï¼Œä¸²è”å­—ç¬¦ä¸²ä¸­ `'1'` å’Œ `'2'` çš„è¿ç»­å‡ºç°æ¬¡æ•°å¯ä»¥ç”Ÿæˆè¯¥å­—ç¬¦ä¸²ã€‚

`s` çš„å‰å‡ ä¸ªå…ƒç´ æ˜¯ `s = "1221121221221121122â€¦â€¦"` ã€‚å¦‚æœå°† `s` ä¸­è¿ç»­çš„è‹¥å¹² `1` å’Œ `2` è¿›è¡Œåˆ†ç»„ï¼Œå¯ä»¥å¾—åˆ° `"1 22 11 2 1 22 1 22 11 2 11 22 ......"` ã€‚æ¯ç»„ä¸­ `1` æˆ–è€… `2` çš„å‡ºç°æ¬¡æ•°åˆ†åˆ«æ˜¯ `"1 2 2 1 1 2 1 2 2 1 2 2 ......"` ã€‚ä¸Šé¢çš„å‡ºç°æ¬¡æ•°æ­£æ˜¯ `s` è‡ªèº«ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å›åœ¨ç¥å¥‡å­—ç¬¦ä¸² `s` çš„å‰ `n` ä¸ªæ•°å­—ä¸­ `1` çš„æ•°ç›®ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn = 6
è¾“å‡ºï¼š3
è§£é‡Šï¼šç¥å¥‡å­—ç¬¦ä¸² s çš„å‰ 6 ä¸ªå…ƒç´ æ˜¯ â€œ122112â€ï¼Œå®ƒåŒ…å«ä¸‰ä¸ª 1ï¼Œå› æ­¤è¿”å› 3 ã€‚ 
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn = 1
è¾“å‡ºï¼š1
```

**æç¤ºï¼š**

- `1 <= n <= 105`

### å‚è€ƒé¢˜è§£

1. [çµèŒ¶å±±è‰¾åºœçš„åŠ¨å›¾ï¼Œçœ‹å®Œè‡ªå·±å†™å†™ç”»ç”»å°±èƒ½æ˜ç™½é¢˜æ„äº†](https://leetcode.cn/problems/magical-string/solutions/1938214/by-endlesscheng-z8o1)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åŒæŒ‡é’ˆ   **:star:==

å…³é”®åœ¨äºç†è§£æ¸…æ¥šé¢˜æ„

**:key:  keyï¼š**

- sä¸­æ¯ä¸ªå­—ç¬¦å°±ä»£è¡¨äº†ä¹‹åè¦å°¾åŠ çš„'1'æˆ–'2'çš„ä¸ªæ•°ï¼Œä¸”ä»ç¬¬å››ä¸ªå…ƒç´ å¼€å§‹ï¼Œä¹‹åæ¯æ¬¡è¦å°¾åŠ çš„å…ƒç´ éƒ½å’Œ  å°¾åŠ å‰çš„æœ«å°¾å…ƒç´ ä¸ä¸€æ ·ï¼ˆå³å¦‚æœå°¾åŠ å‰çš„æœ«å°¾å…ƒç´ æ˜¯'1'ï¼Œåˆ™è¦å°¾åŠ çš„å…ƒç´ å°±æ˜¯'2'ï¼‰ï¼Œå› æ­¤å¯ä»¥ç”±å‰é¢çš„å­—ç¬¦(ç¡®å®šcnt)ä»¥åŠæœ«å°¾å…ƒç´ (ç¡®å®šch)æ¥ç¡®å®šè¦å°¾åŠ å¤šå°‘ä¸ªch
- æ³¨æ„å¦‚æœså½“å‰é•¿åº¦+cntè¶…è¿‡äº†nï¼Œåˆ™è¶…è¿‡nä¹‹åçš„'1'å°±ä¸èƒ½ç®—è¿›ç»“æœäº†

### ä»£ç 

#### ç¬¬ä¸€ç§å†™æ³•ï¼ˆmineï¼‰

æ¯æ¬¡åœ¨åŸå­—ç¬¦ä¸²çš„åŸºç¡€ä¸Šå°¾åŠ string

```c++
int magicalString(int n) {
    if (n <= 3) return 1;
    string s("122");
    int i = 2, j = 3;//å¿«æ…¢æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ï¼šjè¦æ‹“å±•çš„å­—ç¬¦çš„ä¸ªæ•°ã€è¦æ‹“å±•çš„å­—ç¬¦(ä¹Ÿå³sæœ«å°¾å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®)
    int cnt = 0, res = 1;
    while (j < n) {
        cnt = s[i] - '0';
        char ch = s[j - 1] == '1' ? '2' : '1';
        s += string(cnt, ch);
        //æ³¨æ„ç‰¹åˆ¤ å½“è¦æ·»åŠ çš„å­—ç¬¦æ•°ç®—ä¸Šå‰é¢çš„é•¿åº¦è¶…è¿‡äº†næ—¶ï¼Œè¶…è¿‡éƒ¨åˆ†çš„å­—ç¬¦ä¸ªæ•°ä¸èƒ½ç®—å…¥
        if (ch == '1') res += (j + cnt > n) ? n - j : cnt;
        //æ›´æ–°
        ++i;//æ…¢æŒ‡é’ˆåç§»ä¸€ä½
        j += cnt;//å¿«æŒ‡é’ˆåç§»
    }
    return res;
}
```

#### ç¬¬äºŒç§å†™æ³•

ä¸€å¼€å§‹å°±å¼€è¾Ÿå¥½å¤§å°ä¸ºnçš„ç©ºé—´

```c++
int magicalString(int n) {
    if (n <= 3) return 1;
    string s(n, '0');
    s[0] = '1', s[1] = '2', s[2] = '2';
    int i = 2, j = 3;
    int cnt = 0, res = 1;
    while (j < n) {
        cnt = s[i] - '0';
        char ch = s[j - 1] == '1' ? '2' : '1';
        if (ch == '1') res += (j + cnt > n) ? n - j : cnt;
        while (cnt-- > 0 && j < n) s[j++] = ch;
        ++i;//æ›´æ–°æ…¢æŒ‡é’ˆåç§»ä¸€ä½
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯O(n)


## [482. å¯†é’¥æ ¼å¼åŒ–](https://leetcode.cn/problems/license-key-formatting/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªè®¸å¯å¯†é’¥å­—ç¬¦ä¸² `s`ï¼Œä»…ç”±å­—æ¯ã€æ•°å­—å­—ç¬¦å’Œç ´æŠ˜å·ç»„æˆã€‚å­—ç¬¦ä¸²ç”± `n` ä¸ªç ´æŠ˜å·åˆ†æˆ `n + 1` ç»„ã€‚ä½ ä¹Ÿä¼šå¾—åˆ°ä¸€ä¸ªæ•´æ•° `k` ã€‚

æˆ‘ä»¬æƒ³è¦é‡æ–°æ ¼å¼åŒ–å­—ç¬¦ä¸² `s`ï¼Œä½¿æ¯ä¸€ç»„åŒ…å« `k` ä¸ªå­—ç¬¦ï¼Œé™¤äº†ç¬¬ä¸€ç»„ï¼Œå®ƒå¯ä»¥æ¯” `k` çŸ­ï¼Œä½†ä»ç„¶å¿…é¡»åŒ…å«è‡³å°‘ä¸€ä¸ªå­—ç¬¦ã€‚æ­¤å¤–ï¼Œä¸¤ç»„ä¹‹é—´å¿…é¡»æ’å…¥ç ´æŠ˜å·ï¼Œå¹¶ä¸”åº”è¯¥å°†æ‰€æœ‰å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚

è¿”å› *é‡æ–°æ ¼å¼åŒ–çš„è®¸å¯å¯†é’¥* ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šS = "5F3Z-2e-9-w", k = 4
è¾“å‡ºï¼š"5F3Z-2E9W"
è§£é‡Šï¼šå­—ç¬¦ä¸² S è¢«åˆ†æˆäº†ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¯éƒ¨åˆ† 4 ä¸ªå­—ç¬¦ï¼›
     æ³¨æ„ï¼Œä¸¤ä¸ªé¢å¤–çš„ç ´æŠ˜å·éœ€è¦åˆ æ‰ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šS = "2-5g-3-J", k = 2
è¾“å‡ºï¼š"2-5G-3J"
è§£é‡Šï¼šå­—ç¬¦ä¸² S è¢«åˆ†æˆäº† 3 ä¸ªéƒ¨åˆ†ï¼ŒæŒ‰ç…§å‰é¢çš„è§„åˆ™æè¿°ï¼Œç¬¬ä¸€éƒ¨åˆ†çš„å­—ç¬¦å¯ä»¥å°‘äºç»™å®šçš„æ•°é‡ï¼Œå…¶ä½™éƒ¨åˆ†çš†ä¸º 2 ä¸ªå­—ç¬¦ã€‚
```

**æç¤º:**

- `1 <= s.length <= 105`
- `s` åªåŒ…å«å­—æ¯ã€æ•°å­—å’Œç ´æŠ˜å· `'-'`.
- `1 <= k <= 104`

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/license-key-formatting/solutions/1029860/mi-yao-ge-shi-hua-by-leetcode-solution-xnae)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å€’åºéå†å–å‡ºç¬¦åˆçš„å­—ç¬¦å°¾åŠ åˆ°res + reverse   **:star:==

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆä¸èƒ½ç”¨å¿«æ…¢åŒæŒ‡é’ˆå€’åºéå†ï¼ŒåŸåœ°ä¿®æ”¹å­—ç¬¦ä¸²ï¼Ÿ

    åæ­£å¾ˆå¤æ‚ï¼Œè¦è€ƒè™‘å¾ˆå¤šï¼Œç»™æˆ‘å†™å´©æºƒäº†è€é“ã€‚

**:small_red_triangle_down: steps: **

1.  æˆ‘ä»¬å¯ä»¥ä»å­—ç¬¦ä¸² s çš„æœ«å°¾å¼€å§‹å¾€å‰å–å‡ºå­—ç¬¦æ„å»ºæ–°çš„å­—ç¬¦ä¸² ansã€‚æ¯æ¬¡å–å‡ºå­—ç¬¦æ—¶é¦–å…ˆåˆ¤æ–­è¯¥å­—ç¬¦æ˜¯å¦ä¸ºç ´æŠ˜å·ï¼Œ
    - å¦‚æœä¸ºç ´æŠ˜å·åˆ™è·³è¿‡ï¼›
    - å¦åˆ™å°†å½“å‰çš„å­—ç¬¦è®¡æ•° cnt åŠ  1 ï¼ŒåŒæ—¶æ£€æŸ¥å¦‚æœå½“å‰å­—ç¬¦ä¸ºå°å†™å­—æ¯åˆ™å°†å…¶è½¬åŒ–ä¸ºå¤§å†™å­—æ¯ï¼Œå°†å½“å‰å­—ç¬¦åŠ å…¥åˆ°å­—ç¬¦ä¸² ans çš„æœ«å°¾ã€‚å¯¹å­—ç¬¦è¿›è¡Œè®¡æ•°æ—¶ï¼Œæ¯éš” k ä¸ªå­—ç¬¦å°±åœ¨å­—ç¬¦ä¸² ans ä¸­æ·»åŠ ä¸€ä¸ªç ´æŠ˜å·ã€‚
2.  å¤„ç†ç‰¹æ®Šæƒ…å†µï¼Œå­—ç¬¦ä¸² ans çš„æœ€åä¸€ä¸ªå­—ç¬¦ä¸ºç ´æŠ˜å·åˆ™å°†å…¶å»æ‰ã€‚
3.  åè½¬ ans å³ä¸ºè¿”å›ç»“æœã€‚

### ä»£ç 

```c++
string licenseKeyFormatting(string s, int k) {
    int n = s.size(), cnt = 0;
    string res;
    for (int i = n - 1; i >= 0; --i) {
        if (s[i] == '-') continue;
        res += toupper(s[i]);//å¦‚æœæ˜¯å°å†™å­—æ¯åˆ™ä¼šè½¬æ¢ä¸ºå¤§å†™
        cnt++;
        if (cnt % k == 0) res += '-';
    }
    if (res.size() > 0 && res[res.size() - 1] == '-') res.pop_back();
    //åˆ¤æ–­æœ«å°¾å­—ç¬¦æ˜¯å¦ä¸º'-'ä¹Ÿå¯ä»¥ç›´æ¥ç”¨res.back()å–åˆ°æœ«å°¾å­—ç¬¦ã€‚res.size() > 0 ä¹Ÿå¯ä»¥å†™æˆ!result.empty()
    reverse(res.begin(), res.end());
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)

    éå†å–så­—ç¬¦æ˜¯O(n)ï¼Œæœ€åreverseä¹Ÿæ˜¯O(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

## [6. Z å­—å½¢å˜æ¢](https://leetcode.cn/problems/zigzag-conversion/)

### é¢˜æ„

å°†ä¸€ä¸ªç»™å®šå­—ç¬¦ä¸² `s` æ ¹æ®ç»™å®šçš„è¡Œæ•° `numRows` ï¼Œä»¥ä»ä¸Šå¾€ä¸‹ã€ä»å·¦åˆ°å³è¿›è¡Œ Z å­—å½¢æ’åˆ—ã€‚

æ¯”å¦‚è¾“å…¥å­—ç¬¦ä¸²ä¸º `"PAYPALISHIRING"` è¡Œæ•°ä¸º `3` æ—¶ï¼Œæ’åˆ—å¦‚ä¸‹ï¼š

```
P   A   H   N
A P L S I I G
Y   I   R
```

ä¹‹åï¼Œä½ çš„è¾“å‡ºéœ€è¦ä»å·¦å¾€å³é€è¡Œè¯»å–ï¼Œäº§ç”Ÿå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ï¼š`"PAHNAPLSIIGYIR"`ã€‚

è¯·ä½ å®ç°è¿™ä¸ªå°†å­—ç¬¦ä¸²è¿›è¡ŒæŒ‡å®šè¡Œæ•°å˜æ¢çš„å‡½æ•°ï¼š

```
string convert(string s, int numRows);
```

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "PAYPALISHIRING", numRows = 3
è¾“å‡ºï¼š"PAHNAPLSIIGYIR"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "PAYPALISHIRING", numRows = 4
è¾“å‡ºï¼š"PINALSIGYAHRPI"
è§£é‡Šï¼š
P     I    N
A   L S  I G
Y A   H R
P     I
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "A", numRows = 1
è¾“å‡ºï¼š"A"
```

**æç¤ºï¼š**

- `1 <= s.length <= 1000`
- `s` ç”±è‹±æ–‡å­—æ¯ï¼ˆå°å†™å’Œå¤§å†™ï¼‰ã€`','` å’Œ `'.'` ç»„æˆ
- `1 <= numRows <= 1000`

### å‚è€ƒé¢˜è§£

1. [Kç¥](https://leetcode.cn/problems/zigzag-conversion/solutions/21610/zzi-xing-bian-huan-by-jyd)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šflag + å–å   **:star:==

æƒ³åˆ°äº†å°±å¾ˆç®€å•ï¼Œæƒ³ä¸åˆ°å°±emmmm....ç¡¬æƒ³

**:key:  keyï¼š**

- æ³¨æ„åˆ°s[i]åœ¨Nå­—å½¢ä¸­å¯¹åº”æ‰€å¤„çš„è¡Œå·æ˜¯é€’å¢é€’å‡äº¤æ›¿çš„ï¼Œæ¯å½“åˆ°Zå­—çš„æ‹ç‚¹æ—¶å°±ä»é€’å¢å˜ä¸ºé€’å‡æˆ–é€’å‡å˜ä¸ºé€’å¢ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªflagæ¥è¡¨ç¤ºéå†sæ—¶è¡Œå·æ˜¯é€’å¢è¿˜æ˜¯é€’å‡ï¼Œå¹¶é€‚æ—¶åœ°å¯¹å…¶å–å

**:small_red_triangle_down: steps: **

1.  åˆå§‹åŒ–è¦æŠŠsä¸­å­—ç¬¦è£…è¿›Zå­—çš„vectorï¼Œæ¯ä¸ªvectoræ˜¯Zä¸­çš„ä¸€è¡Œ
2.  é¡ºåºéå†s
    1.  å°†chå¡«å…¥å¯¹åº”è¡Œrows[i]ä¸­
    2.  å¦‚æœå½“å‰å¤„äºZçš„æ‹ç‚¹åˆ™è®©flagå–å
    3.  æ›´æ–°å½“å‰å­—ç¬¦å¯¹åº”çš„è¡Œç´¢å¼• `row += flag;`


### ä»£ç 

```c++
string convert(string s, int numRows) {
    if (numRows <= 1) return s;
    int n = s.size();
    vector<string> rows(numRows);
    int row = 0, flag = -1;
    for (auto ch : s) {
        rows[row] += ch;
        if (row == 0 || row == numRows - 1) flag = -flag;
        row += flag;
    }
    string ans;
    for (const string &str : rows) ans += str;
    return ans;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

## **[68. æ–‡æœ¬å·¦å³å¯¹é½](https://leetcode.cn/problems/text-justification/)**

### é¢˜æ„

ç»™å®šä¸€ä¸ªå•è¯æ•°ç»„ `words` å’Œä¸€ä¸ªé•¿åº¦ `maxWidth` ï¼Œé‡æ–°æ’ç‰ˆå•è¯ï¼Œä½¿å…¶æˆä¸ºæ¯è¡Œæ°å¥½æœ‰ `maxWidth` ä¸ªå­—ç¬¦ï¼Œä¸”å·¦å³ä¸¤ç«¯å¯¹é½çš„æ–‡æœ¬ã€‚

ä½ åº”è¯¥ä½¿ç”¨ â€œ**è´ªå¿ƒç®—æ³•**â€ æ¥æ”¾ç½®ç»™å®šçš„å•è¯ï¼›ä¹Ÿå°±æ˜¯è¯´ï¼Œå°½å¯èƒ½å¤šåœ°å¾€æ¯è¡Œä¸­æ”¾ç½®å•è¯ã€‚å¿…è¦æ—¶å¯ç”¨ç©ºæ ¼ `' '` å¡«å……ï¼Œä½¿å¾—æ¯è¡Œæ°å¥½æœ‰ *maxWidth* ä¸ªå­—ç¬¦ã€‚

è¦æ±‚å°½å¯èƒ½å‡åŒ€åˆ†é…å•è¯é—´çš„ç©ºæ ¼æ•°é‡ã€‚å¦‚æœæŸä¸€è¡Œå•è¯é—´çš„ç©ºæ ¼ä¸èƒ½å‡åŒ€åˆ†é…ï¼Œåˆ™å·¦ä¾§æ”¾ç½®çš„ç©ºæ ¼æ•°è¦å¤šäºå³ä¾§çš„ç©ºæ ¼æ•°ã€‚

æ–‡æœ¬çš„æœ€åä¸€è¡Œåº”ä¸ºå·¦å¯¹é½ï¼Œä¸”å•è¯ä¹‹é—´ä¸æ’å…¥**é¢å¤–çš„** ç©ºæ ¼ã€‚

**æ³¨æ„:**

- å•è¯æ˜¯æŒ‡ç”±éç©ºæ ¼å­—ç¬¦ç»„æˆçš„å­—ç¬¦åºåˆ—ã€‚
- æ¯ä¸ªå•è¯çš„é•¿åº¦å¤§äº 0ï¼Œå°äºç­‰äº *maxWidth*ã€‚
- è¾“å…¥å•è¯æ•°ç»„ `words` è‡³å°‘åŒ…å«ä¸€ä¸ªå•è¯ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: words = ["This", "is", "an", "example", "of", "text", "justification."], maxWidth = 16
è¾“å‡º:
[
   "This    is    an",
   "example  of text",
   "justification.  "
]
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥:words = ["What","must","be","acknowledgment","shall","be"], maxWidth = 16
è¾“å‡º:
[
  "What   must   be",
  "acknowledgment  ",
  "shall be        "
]
è§£é‡Š: æ³¨æ„æœ€åä¸€è¡Œçš„æ ¼å¼åº”ä¸º "shall be    " è€Œä¸æ˜¯ "shall     be",
     å› ä¸ºæœ€åä¸€è¡Œåº”ä¸ºå·¦å¯¹é½ï¼Œè€Œä¸æ˜¯å·¦å³ä¸¤ç«¯å¯¹é½ã€‚       
     ç¬¬äºŒè¡ŒåŒæ ·ä¸ºå·¦å¯¹é½ï¼Œè¿™æ˜¯å› ä¸ºè¿™è¡ŒåªåŒ…å«ä¸€ä¸ªå•è¯ã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥:words = ["Science","is","what","we","understand","well","enough","to","explain","to","a","computer.","Art","is","everything","else","we","do"]ï¼ŒmaxWidth = 20
è¾“å‡º:
[
  "Science  is  what we",
  "understand      well",
  "enough to explain to",
  "a  computer.  Art is",
  "everything  else  we",
  "do                  "
]
```

**æç¤º:**

- `1 <= words.length <= 300`
- `1 <= words[i].length <= 20`
- `words[i]` ç”±å°å†™è‹±æ–‡å­—æ¯å’Œç¬¦å·ç»„æˆ
- `1 <= maxWidth <= 100`
- `words[i].length <= maxWidth`

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/text-justification/solutions/986756/wen-ben-zuo-you-dui-qi-by-leetcode-solut-dyeg)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å¿«æ…¢æŒ‡é’ˆï¼Œå‰©ä¸‹çš„å°±æ˜¯æƒ³æ¸…æ¥šå¤„ç†é€»è¾‘äº†   **:star:==

**:key:  keyï¼š**

- åˆ†æé¢˜æ„çŸ¥ï¼Œæ¯ä¸€è¡Œå¯èƒ½çš„æƒ…å†µæœ‰ä¸¤ç§ï¼š

    1. è‹¥ä¸ºæœ€åä¸€è¡Œæˆ–è€…è¯¥è¡Œåªèƒ½æ”¾ä¸‹ä¸€ä¸ªå•è¯ï¼Œåˆ™å·¦å¯¹é½ï¼Œå¤šä½™ç©ºæ ¼å¡«åœ¨æœ«å°¾ã€‚

    2. å…¶ä½™ä¸ºä¸€èˆ¬æƒ…å†µï¼Œå°±ä¸æ˜¯å·¦å¯¹é½è€Œæ˜¯ä¸¤ç«¯å¯¹é½äº†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰ç©ºæ ¼å‡åŒ€åˆ†é…åœ¨å•è¯ä¹‹é—´ï¼Œæœ«å°¾ä¸èƒ½æœ‰ç©ºæ ¼ã€‚
        - å› æ­¤éœ€è¦è®¡ç®—ï¼šè¯¥è¡Œçš„å•è¯ä¸ªæ•°`wordCnt`ã€æ€»ç©ºæ ¼æ•°`spaceCnt`ã€å•è¯é—´å¹³å‡ç©ºæ ¼æ•° `avgSpace`ã€å¹³å‡ä¹‹åå¤šå‡ºæ¥çš„ç©ºæ ¼æ•°`extraSpace`
        - ç”±äº`spaceCnt = (wordCnt- 1) * avg + extra` ï¼Œå³æ€»ç©ºæ ¼æ•° =ï¼ˆå•è¯é—´éš”æ•° * å•è¯é—´å¹³å‡ç©ºæ ¼æ•°ï¼‰+ å¹³å‡åå¤šå‡ºæ¥çš„ç©ºæ ¼æ•°ã€‚å› æ­¤ï¼Œ`avg = spaceCnt / (wordCnt - 1)`ï¼Œ`extra = spaceCnt % (wordCnt  - 1)`
        - è€Œå¹³å‡ä¹‹åå¤šå‡ºæ¥çš„ç©ºæ ¼æ•°`extraSpace`è¦åˆ†åˆ«æ‹¿ä¸€ä¸ªæ·»åˆ°å‰extraSpaceä¸ªå•è¯ä¹‹é—´ã€‚å› æ­¤å‰extraSpaceä¸ªå•è¯ä¹‹é—´è¦å¡«å…… avg+1 ä¸ªç©ºæ ¼ï¼Œä¹‹åçš„å•è¯ä¹‹é—´è¦å¡«å…… avg ä¸ªç©ºæ ¼

**:small_red_triangle_down: steps: **

å¾ªç¯éå†wordsï¼Œä¸€æ¬¡å¾ªç¯å¤„ç†ä¸€è¡Œã€‚æ…¢æŒ‡é’ˆ i å§‹ç»ˆæŒ‡å‘å½“å‰è¡Œçš„è¡Œé¦–ï¼Œå¿«æŒ‡é’ˆ j ç”¨æ¥å¯»æ‰¾è¦è£…å…¥è¿™ä¸€è¡Œçš„å•è¯

1.  åˆå§‹åŒ–ï¼šç”¨å¿«æŒ‡é’ˆ j ç»™æ…¢æŒ‡é’ˆ i åˆå§‹åŒ–ï¼Œåˆå§‹åŒ–å½“å‰è¡Œçš„å•è¯æ€»å­—ç¬¦æ•° len
2.  j ä¸æ–­å‘åéå†ï¼Œå¯»æ‰¾è¦è£…å…¥è¿™ä¸€è¡Œçš„å•è¯ã€‚é€€å‡ºå¾ªç¯æ—¶ j æŒ‡å‘ä¸‹ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œä¹Ÿæ˜¯è¿™ä¸€è¡Œçš„æœ€åä¸€ä¸ªå•è¯çš„åä¸€ä¸ªä½ç½®
3.  å¦‚æœæ­¤æ—¶ j æŒ‡å‘words.size()ï¼Œè¯´æ˜ i åˆ° j - 1çš„è¿™ä¸€è¡Œå°±æ˜¯æœ€åä¸€è¡Œï¼Œæœ€åä¸€è¡Œçš„å¤„ç†åŸåˆ™æ˜¯ï¼šå·¦å¯¹é½ï¼Œå¤šä½™ç©ºæ ¼å¡«åˆ°æœ«å°¾
    1.  ç”¨å•ç©ºæ ¼æ‹¼æ¥ä» i åˆ° j - 1çš„å•è¯
    2.  å°¾æ’å¤šä½™ç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²
    3.  å°†è¯¥è¡Œå­—ç¬¦ä¸²å°¾æ’åˆ°ç»“æœï¼Œå¹¶return

4.  è®¡ç®—è¯¥è¡Œçš„å•è¯æ•°`wordCnt`å’Œç©ºæ ¼æ•°`spaceCnt`ï¼Œä»¥å¤„ç†ã€è¯¥è¡Œåªæœ‰ä¸€ä¸ªå•è¯ã€‘ å’Œ ã€è¯¥è¡Œä¸ä¸ºæœ€åä¸€è¡Œä¸”æœ‰å¤šä¸ªå•è¯ã€‘çš„è¿™ä¸¤ç§æƒ…å†µ
5.  å¦‚æœè¿™ä¸€è¡Œåªæœ‰ä¸€ä¸ªå•è¯ï¼Œåˆ™è¯¥è¡Œçš„å¤„ç†åŸåˆ™æ˜¯ï¼šå·¦å¯¹é½ï¼Œå¤šä½™ç©ºæ ¼å¡«åˆ°æœ«å°¾
    1.  æ‹¼æ¥è¯¥å•è¯å’Œå…¶ä½™ç©ºæ ¼
    2.  å°†è¯¥è¡Œå­—ç¬¦ä¸²å°¾æ’åˆ°ç»“æœ

6.  åˆ°è¿™é‡Œå°±åªå‰©ä¸‹ä¸€ç§æƒ…å†µï¼šå½“å‰è¡Œä¸ä¸ºæœ€åä¸€è¡Œä¸”æœ‰å¤šä¸ªå•è¯ï¼Œåˆ™è¯¥è¡Œçš„å¤„ç†åŸåˆ™æ˜¯ï¼šæ‰€æœ‰ç©ºæ ¼å‡åŒ€åˆ†é…åœ¨å•è¯ä¹‹é—´ï¼Œæœ«å°¾ä¸èƒ½æœ‰ç©ºæ ¼
    1.  è®¡ç®—ï¼šå•è¯é—´å¹³å‡ç©ºæ ¼æ•° `avgSpace`ã€å¹³å‡ä¹‹åå¤šå‡ºæ¥çš„ç©ºæ ¼æ•°`extraSpace`
    2.  ç”¨avgSpace+1ä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥å‰extraSpaceä¸ªå•è¯ï¼Œå¾—åˆ°s1
    3.  ç”¨avgSpaceä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥ä¹‹åçš„å•è¯ï¼Œå¾—åˆ°s2
    4.  å°†è¯¥è¡Œå­—ç¬¦ä¸²` s = s1 + avgSpace + s2`å°¾æ’åˆ°ç»“æœ


### ä»£ç 

#### å¸¦æ³¨é‡Šçš„ç‰ˆæœ¬

```c++
class Solution {
    string blank(int n) {// è¿”å›ç”±nä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²
        return string(n, ' ');
    }
    // ç”¨sep(ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²)æ‹¼æ¥words[i,j)ä¹‹é—´çš„å•è¯ï¼Œå¹¶è¿”å›ç»“æœå­—ç¬¦ä¸²
    string join(vector<string> &words, int i, int j, string sep) {
        string s = words[i++];//åœ¨words[i]çš„åŸºç¡€ä¸Šè¿›è¡Œæ‹¼æ¥
        while (i < j) s += sep + words[i++];
        return s;
    }

public:
    vector<string> fullJustify(vector<string> &words, int maxWidth) {
        vector<string> ans;
        int j = 0, n = words.size();
        while (true) {
            // i,jåˆ†åˆ«æ˜¯æ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆï¼Œiå§‹ç»ˆæŒ‡å‘å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œjç”¨æ¥å¯»æ‰¾è¯¥è¡Œèƒ½æ”¾å“ªäº›å•è¯
            // ç»™å½“å‰è¡Œçš„ç›¸å…³å˜é‡è¿›è¡Œåˆå§‹åŒ–(æŒ‡å‘è¡Œé¦–å•è¯çš„ i ä»¥åŠè¯¥è¡Œå•è¯çš„æ€»å­—ç¬¦æ•° len )
            int i = j; //ä¸Šä¸€æ¬¡å¾ªç¯ç»“æŸå j æŒ‡å‘ä¸‹ä¸€è¡Œä¹Ÿå°±æ˜¯å½“å‰è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œå› æ­¤åœ¨è¿™ä¸€æ¬¡å¾ªç¯ä¸€å¼€å§‹å°±ç»™ i åˆå§‹åŒ–
            int len = 0; //è¿™ä¸€è¡Œã€å•è¯ã€‘çš„æ€»å­—ç¬¦æ•°

            // å¾ªç¯ç¡®å®šå½“å‰è¡Œå¯ä»¥è£…å…¥å¤šå°‘å•è¯ï¼Œæ³¨æ„å•è¯ä¹‹é—´åº”è‡³å°‘æœ‰ä¸€ä¸ªç©ºæ ¼
            while (j < n && len + words[j].size() + j - i <= maxWidth) len += words[j++].size();
            // len + words[j].size() + j - i ï¼šç›®å‰è¯¥è¡Œæ‰€æœ‰å·²è£…å…¥å•è¯çš„å­—ç¬¦æ•° + j å½“å‰æŒ‡å‘å•è¯çš„å­—ç¬¦æ•° + å•è¯é—´è‡³å°‘éœ€è¦çš„ç©ºæ ¼æ•°
            // j - i : ä»iåˆ°jæœ‰ j-i+1ä¸ªå•è¯ï¼Œå•è¯ä¹‹é—´çš„é—´éš”æ•°ä¸º j-i ï¼Œç”±äºå•è¯é—´è‡³å°‘è¦æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œå› æ­¤j-i+1ä¸ªå•è¯ä¹‹é—´è‡³å°‘éœ€è¦ j-iä¸ªç©ºæ ¼
            // å¾ªç¯é€€å‡ºå j æŒ‡å‘å½“å‰è¡Œæœ€åä¸€ä¸ªå•è¯çš„åä¸€ä¸ªä½ç½®ï¼ˆä¹Ÿå³ä¸‹ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯ï¼‰
            // è¯¥è¡Œå•è¯åœ¨wordsä¸­çš„ç´¢å¼•èŒƒå›´æ˜¯[i,j)

            // å½“å‰è¡Œæ˜¯æœ€åä¸€è¡Œï¼Œåˆ™: å•è¯å·¦å¯¹é½ï¼Œä¸”å•è¯ä¹‹é—´åº”åªæœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œåœ¨è¡Œæœ«å¡«å……å‰©ä½™ç©ºæ ¼
            if (j == n) {
                string s = join(words, i, n, " ");//ç”¨å•ç©ºæ ¼æ‹¼æ¥words[i,j)ä¹‹é—´çš„å•è¯
                ans.emplace_back(s + blank(maxWidth - s.size()));//åœ¨æœ«å°¾æ‹¼æ¥å‰©ä½™ç©ºæ ¼åï¼Œå°†è¯¥è¡Œå­—ç¬¦ä¸²å°¾æ’è¿›ç»“æœ
                return ans;
            }
            
            //è®¡ç®—è¯¥è¡Œçš„å•è¯æ•°å’Œç©ºæ ¼æ•°
            int wordCnt = j - i;//åœ¨ä¸‹æ ‡[i,j)ä¸­æœ‰j-1-i+1 = j-iä¸ªå•è¯
            int spaceCnt = maxWidth - len;//è¯¥è¡Œçš„æ€»ç©ºæ ¼æ•°

            // è‹¥å½“å‰è¡Œåªæœ‰ä¸€ä¸ªå•è¯ï¼Œåˆ™: è¯¥å•è¯å·¦å¯¹é½ï¼Œåœ¨è¡Œæœ«å¡«å……å‰©ä½™ç©ºæ ¼
            if (wordCnt == 1) {
                ans.emplace_back(words[i] + blank(spaceCnt));
                continue;
            }

            // è‹¥å½“å‰è¡Œä¸åªä¸€ä¸ªå•è¯ï¼Œè®¡ç®—
            int avgSpace = spaceCnt / (wordCnt - 1);//å•è¯é—´å¹³å‡ç©ºæ ¼æ•°
            int extraSpace = spaceCnt % (wordCnt - 1);//å¹³å‡ä¹‹åå¤šå‡ºæ¥çš„ç©ºæ ¼ï¼ˆè¦å¹³å‡å¡«åœ¨å‰extraSpacesä¸ªå•è¯ä¹‹é—´ï¼Œå³ä»ä¸‹æ ‡ i åˆ° i+extraSpace çš„å•è¯ï¼ˆé—´éš”æ•°ä¸ºextraSpaceï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´å‰extraSpacesä¸ªå•è¯éœ€è¦æ¯”å¹³å‡çš„avgè¿˜å¤šå¡«ä¸€ä¸ªï¼‰
            string s1 = join(words, i, i + extraSpace + 1, blank(avgSpace + 1)); //å‰extraSpaceä¸ªå•è¯ä¹‹é—´å¡«çš„ç©ºæ ¼æ•°è¦æ¯”å¹³å‡çš„avgè¿˜é¢å¤–å¤šä¸€ä¸ªç©ºæ ¼
            //ç”¨avgSpace+1ä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥words[i, i + extraSpace + 1)ä¹‹é—´çš„å•è¯
            string s2 = join(words, i + extraSpace + 1, j, blank(avgSpace)); // æ‹¼æ¥å…¶ä½™å•è¯
            //ç”¨avgSpaceä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥words[i + extraSpace + 1, j)ä¹‹é—´çš„å•è¯
            ans.emplace_back(s1 + blank(avgSpace) + s2);
        }
    }
};
```

#### ä¸å¸¦æ³¨é‡Šçš„ç‰ˆæœ¬

```c++
class Solution {
    // è¿”å›ç”±nä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²
    string blank(int n) {
        return string(n, ' ');
    }
    // ç”¨sep(ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ç»„æˆçš„å­—ç¬¦ä¸²)æ‹¼æ¥words[i,j)ä¹‹é—´çš„å•è¯ï¼Œå¹¶è¿”å›ç»“æœå­—ç¬¦ä¸²
    string join(vector<string> &words, int i, int j, string sep) {
        string s = words[i++]; 
        while (i < j) s += sep + words[i++];
        return s;
    }

public:
    vector<string> fullJustify(vector<string> &words, int maxWidth) {
        vector<string> ans;
        int j = 0, n = words.size();
        while (true) {
            int i = j;  
            int len = 0;  

            while (j < n && len + words[j].size() + j - i <= maxWidth) len += words[j++].size();

            if (j == n) {
                string s = join(words, i, n, " "); 
                ans.emplace_back(s + blank(maxWidth - s.size())); 
                return ans;
            }
            
            int wordCnt = j - i; 
            int spaceCnt = maxWidth - len; 

            if (wordCnt == 1) {
                ans.emplace_back(words[i] + blank(spaceCnt));
                continue;
            }

            int avgSpace = spaceCnt / (wordCnt - 1); 
            int extraSpace = spaceCnt % (wordCnt - 1);
            string s1 = join(words, i, i + extraSpace + 1, blank(avgSpace + 1));  
            string s2 = join(words, i + extraSpace + 1, j, blank(avgSpace));
            ans.emplace_back(s1 + blank(avgSpace) + s2);
        }
    }
};
```

