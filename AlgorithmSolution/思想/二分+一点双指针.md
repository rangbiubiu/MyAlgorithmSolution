

# ç›®å½•

[TOC]



## c++äºŒåˆ†æŸ¥æ‰¾API

> äºŒåˆ†æŸ¥æ‰¾çš„å‡½æ•°æœ‰3ä¸ªï¼š
>
> int lower_bound(èµ·å§‹åœ°å€ï¼Œç»“æŸåœ°å€ï¼Œè¦æŸ¥æ‰¾çš„æ•°å€¼) è¿”å›çš„æ˜¯æ•°å€¼ ç¬¬ä¸€ä¸ª**å¤§äºç­‰äº**æŸå…ƒç´  çš„ä½ç½®ã€‚
>
> int upper_bound(èµ·å§‹åœ°å€ï¼Œç»“æŸåœ°å€ï¼Œè¦æŸ¥æ‰¾çš„æ•°å€¼) è¿”å›çš„æ˜¯æ•°å€¼ ç¬¬ä¸€ä¸ª**å¤§äº**æŸä¸ªå…ƒç´  çš„ä½ç½®ã€‚
>
> bool binary_search(èµ·å§‹åœ°å€ï¼Œç»“æŸåœ°å€ï¼Œè¦æŸ¥æ‰¾çš„æ•°å€¼) è¿”å›çš„æ˜¯ æ˜¯å¦å­˜åœ¨ è¿™ä¹ˆä¸€ä¸ªæ•°ï¼Œæ˜¯ä¸€ä¸ªboolå€¼ã€‚

- **å‡½æ•°lower_bound()** 

    åŠŸèƒ½ï¼šå‡½æ•°lower_bound()åœ¨firstå’Œlastä¸­çš„**å‰é—­åå¼€**åŒºé—´è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œè¿”å›**å¤§äºæˆ–ç­‰äºval**çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ã€‚

    å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½å°äºvalï¼Œåˆ™è¿”å›lastçš„ä½ç½®ï¼Œå› ä¸ºæ˜¯å‰é—­åå¼€å› æ­¤è¿™ä¸ªæ—¶å€™çš„lastä¼šè¶Šç•Œï¼Œè¦æ³¨æ„ã€‚

- **å‡½æ•°upper_bound()**

    åŠŸèƒ½ï¼šå‡½æ•°upper_bound()è¿”å›çš„åœ¨**å‰é—­åå¼€**åŒºé—´æŸ¥æ‰¾çš„å…³é”®å­—çš„ä¸Šç•Œï¼Œè¿”å›**å¤§äºval**çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ã€‚

    åŒæ ·ï¼Œå¦‚æœvalå¤§äºæ•°ç»„ä¸­å…¨éƒ¨å…ƒç´ ï¼Œè¿”å›çš„æ˜¯lastã€‚(æ³¨æ„ï¼šæ•°ç»„ä¸‹æ ‡è¶Šç•Œ)

- **å‡½æ•°binary_search()**

    åŠŸèƒ½ï¼š åœ¨æ•°ç»„ä¸­ä»¥äºŒåˆ†æ³•æ£€ç´¢çš„æ–¹å¼æŸ¥æ‰¾ï¼Œè‹¥åœ¨æ•°ç»„(è¦æ±‚æ•°ç»„å…ƒç´ éé€’å‡)ä¸­æŸ¥æ‰¾åˆ°indxå…ƒç´ åˆ™çœŸï¼Œè‹¥æŸ¥æ‰¾ä¸åˆ°åˆ™è¿”å›å€¼ä¸ºå‡ã€‚



## æ€»ç»“

**æ»‘åŠ¨ä¸²å£å’Œå‰ç¼€å’Œ**éƒ½é€‚åˆåœ¨é¢˜ç›®è¦æ±‚**è¿ç»­**çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚

é‡åˆ°**å­ä¸²ï¼ˆè¿ç»­ï¼‰**ï¼Œä¸€èˆ¬å¦‚æœä¸æ˜¯ç®€å•çš„åŒæŒ‡é’ˆèƒ½è§£å†³çš„è¯ï¼Œå°±è¦è€ƒè™‘ã€æ»‘åŠ¨çª—å£ã€‘å’Œã€åŠ¨æ€è§„åˆ’ã€‘ã€‚

è€Œ**å­ä¸²ç›¸å…³çš„åŠ¨æ€è§„åˆ’**ï¼Œä¸€èˆ¬çŠ¶æ€çš„å®šä¹‰éƒ½æ˜¯ã€Œ**ä»¥ä½ç½® i ä½œä¸ºç»“å°¾çš„**ã€ç¬¦åˆè¦æ±‚çš„å­ä¸²é•¿åº¦ã€ã€‚

è¿™æ ·å®šä¹‰ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç®€åŒ–ï¼Œå› ä¸ºçŸ¥é“äº† dp[i] ä»¥åï¼Œå¾ˆå®¹æ˜“å°±èƒ½å¾—åˆ° dp[i+1] ã€‚

è¿™ç§é¢˜ç›®æœ‰ï¼š

### ğŸ’›æ€»ç»“é¢˜å‹

> å¾…å®Œå–„ã€‚ã€‚ã€‚

1. äºŒåˆ†ï¼š

    - ã€Œã€:lc374, lc35, lc278, lc441, lc34, lc69,lc540,lc275,lc436,lc162,lc4,lc300 --12`

    - ã€Œæœç´¢æ—‹è½¬æ’åºæ•°ç»„ã€ï¼šlc153, lc154, lc33ï¼Œlc81  --4`
    
    - ã€Œæœç´¢äºŒç»´çŸ©é˜µã€ï¼šlc74,lc240,lc378,lc668  --4`
    
    - ã€Œæœ€å¤§å€¼æœ€å°åŒ–ã€ï¼šlc410 --1`

2. åŒæŒ‡é’ˆ ç§»é™¤å…ƒç´ ï¼š27,26,283,844,15

> æ¨¡æ‹Ÿå»é‡/ç§»åŠ¨æ•°ç»„å…ƒç´ æ—¶è¿˜æ˜¯ä¸ç†Ÿç»ƒ

3. æ»‘åŠ¨çª—å£ï¼š [æœ€å°æ»‘çª—æœ€å¤§æ»‘çª—æ€»ç»“](https://leetcode.cn/problems/fruit-into-baskets/solutions/2115731/dai-ma-sui-xiang-lu-904shui-guo-cheng-la-h7kx/)

- æœ€å°æ»‘çª—ï¼š209,76 

- æœ€å¤§æ»‘çª—ï¼š904 

> å¦‚ä½•åˆ¤æ–­æ»‘åŠ¨çª—å£å†…æ˜¯å¦æ»¡è¶³é¢˜è®¾æ¡ä»¶ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼š
>     (1) è¦ä¹ˆä½ éå†è¿™ä¸ªæ»‘çª—ï¼Œé€šè¿‡éå†æ¥æ–­æ»‘çª—æ˜¯å¦æ»¡è¶³éœ€è¦O(N), é‚£ä¹ˆæ€»çš„æ—¶é—´å°±é€€åŒ–ä¸ºO(N^2)
>     (2) è¦ä¹ˆä½ é€‰æ‹©å­—å…¸ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œé‚£ä¹ˆåˆ¤æ–­åˆ’çª—æ˜¯å¦æ»¡è¶³æ¡ä»¶åˆ™éœ€è¦ O(1)ï¼Œæ€»æ—¶é—´ä¸ºO(N).

4. èºæ—‹çŸ©é˜µï¼š59,54

5. å‰ç¼€å’Œï¼š209

    > æ»‘åŠ¨ä¸²å£å’Œå‰ç¼€å’Œéƒ½é€‚åˆå†é¢˜ç›®è¦æ±‚è¿ç»­çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚



## [:fire: 4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°](https://leetcode.cn/problems/median-of-two-sorted-arrays/)

### é¢˜æ„

:  ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º `m` å’Œ `n` çš„å‡åºæ•°ç»„ `n1` å’Œ `n2`ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ **ä¸­ä½æ•°** ã€‚

ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥ä¸º `O(log (m+n))` ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šn1 = [1,3], n2 = [2]
è¾“å‡ºï¼š2.00000
è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šn1 = [1,2], n2 = [3,4]
è¾“å‡ºï¼š2.50000
è§£é‡Šï¼šåˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5
```

### å‚è€ƒé¢˜è§£

1. [liweiweiå¤§ä½¬](https://leetcode.cn/problems/median-of-two-sorted-arrays/solutions/258842/xun-zhao-liang-ge-you-xu-shu-zu-de-zhong-wei-s-114/) ä»¥åŠå¤§ä½¬å½•åˆ¶çš„å®˜æ–¹è§†é¢‘é¢˜è§£

###  æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ†æŸ¥æ‰¾   **:star:==

:key:  **key**ï¼š

- ç”¨ä¸€æ¡åˆ†å‰²çº¿åˆ†å‰²ä¸¤æ•°ç»„ï¼Œä½¿åˆ†å‰²çº¿å·¦å³ä¸¤åŠå…ƒç´ æ•°é‡å·®ä¸å¤šã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¦èƒ½æ ¹æ®åˆ†å‰²çº¿ç¡®å®šä¸­ä½æ•°ï¼Œå°±è¦è®©åˆ†å‰²çº¿å·¦è¾¹æ‰€æœ‰å…ƒç´  <= åˆ†å‰²çº¿ å³è¾¹æ‰€æœ‰å…ƒç´ ã€‚è¿™æ ·ï¼Œä¸­ä½æ•°å°±ç”±åˆ†å‰²çº¿å·¦å³ä¸¤ä¾§çš„å…ƒç´ å†³å®š

- åˆ†å‰²çº¿è¦èƒ½å†³å®šä¸­ä½æ•°ï¼Œé‚£å°±è¦æ»¡è¶³ä¸¤ä¸ªæ€§è´¨ï¼š

    1. **å·¦å³ä¸¤è¾¹å…ƒç´ æ•°é‡ç›¸ç­‰æˆ–å·®ä¸€**ï¼ˆç›¸ç­‰è¿˜æ˜¯å·®ä¸€ä¸ä¸¤ä¸ªæ•°ç»„é•¿åº¦å’Œçš„å¥‡å¶æ€§æœ‰å…³ï¼‰ã€‚å·®1æ—¶æˆ‘ä»¬è®©åˆ†å‰²çº¿å·¦è¾¹çš„å…ƒç´ æ¯”å³è¾¹å¤šä¸€ä¸ªã€‚

    2. **åˆ†å‰²çº¿ å·¦è¾¹æ‰€æœ‰å…ƒç´  <= åˆ†å‰²çº¿ å³è¾¹æ‰€æœ‰å…ƒç´ **ã€‚
        - è®¾åˆ†å‰²çº¿å·¦å³ä¸¤ä¾§çš„å››ä¸ªæ•°ä»å·¦å¾€å³ä»ä¸Šå¾€ä¸‹åˆ†åˆ«ä¸ºa1, a2; b1,b2ï¼Œ
        - ç”±äºåŒä¸€æ•°ç»„ä¸­å·¦è¾¹å…ƒç´ è‚¯å®š<=å³è¾¹å…ƒç´ ï¼Œå› æ­¤è‚¯å®šæœ‰a1<=a2,b1<=b2ã€‚
        - é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬éœ€è¦è®© a1<=b2, b1<=a2ã€‚
        - å› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ»¡è¶³a1<=b2, b1<=a2 çš„åˆ†å‰²çº¿çš„ä½ç½®

- æ€ä¹ˆæ‰¾ï¼Ÿ

    - åˆ©ç”¨äºŒæ®µæ€§ã€‚æ¯”å¦‚è‹¥ä¸æ»¡è¶³a1<=b2ï¼ˆn1[i-1]<=n2[j]ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´n1[i-1]>n2[j]ï¼Œåˆ™åˆ†å‰²çº¿å°±ä¸€å®šä¸åœ¨iåŠiä¹‹åçš„ä½ç½®ï¼Œå¯ä»¥æ’é™¤ä¸€æ®µèŒƒå›´ã€‚å› æ­¤å°±å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚ä¸æ–­æ’é™¤ä¸å¯èƒ½çš„èŒƒå›´ï¼Œç¼©å°æŸ¥æ‰¾åŒºé—´ï¼Œæœ€ç»ˆæ‰¾åˆ°è§£ã€‚


**:question:   problems:** 

1. æ€ä¹ˆæƒ³åˆ°åˆ†å‰²çº¿çš„ï¼Ÿ
2. :star:==ä¸ºä»€ä¹ˆè¦é€‰æ‹©ä¸¤ä¸ªæ•°ç»„ä¸­é•¿åº¦æ›´å°çš„é‚£ä¸ªæ¥ç¡®å®šåˆ†å‰²çº¿çš„ä½ç½®?==ï¼ˆä¸”è¿™ä¸ªé€‰æ‹©æ˜¯å¿…è¦çš„ï¼‰
3. è¯¥é¢˜çš„äºŒæ®µæ€§æ˜¯ï¼Ÿ
4. rightæ˜¯åˆå§‹åŒ–ä¸ºlen1è¿˜æ˜¯len1-1ï¼Ÿ
5. æœ€åæ±‚å¾—åˆ†å‰²çº¿åœ¨n1å’Œn2ä¸­çš„ä½ç½®ä¹‹åï¼Œæ€ä¹ˆæ±‚ä¸­ä½æ•°ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å› ä¸ºé¢˜ç›®è¦æ±‚æ˜¯è¦log (m+n)çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¦‚æœä¸åˆ†å‰²ï¼Œé‚£å°±åªèƒ½çº¿æ€§å»æ‰¾ã€‚

2. ==æœ€é‡è¦çš„åŸå› æ˜¯ä¸ºäº†é˜²æ­¢æ•°ç»„ä¸‹æ ‡è¶Šç•Œ==ï¼›å…¶æ¬¡ï¼Œåœ¨çŸ­æ•°ç»„ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦æ›´ä¼˜ï¼Œä¸ºO(log min(len1, len2))

    > ä¸ºä»€ä¹ˆé€‰æ‹©çŸ­æ•°ç»„å°±èƒ½é˜²æ­¢ä¸‹æ ‡è¶Šç•Œï¼Ÿé€‰æ‹©é•¿æ•°ç»„ä½œä¸ºè¦äºŒåˆ†æŸ¥æ‰¾çš„n1éš¾é“ä¼šå¯¼è‡´ä¸‹æ ‡è¶Šç•Œå—ï¼Ÿ
    >
    > â€”â€”æ˜¯çš„ã€‚è‹¥é€‰æ‹©é•¿æ•°ç»„ä½œä¸ºn1ï¼Œå¦‚ä¸‹
    >
    > ![image-20240206094708051](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202402060947095.png)

3. ã€ä¸å¯èƒ½ï¼Œå¯èƒ½ã€‘ã€‚

    - ä¸å¯èƒ½ï¼šåªè¦åˆ†å‰²çº¿å·¦å³æ•°å€¼ä¸æ»¡è¶³`n1[i-1]<=n2[j] && n2[j-1]<=n1[i]`ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œé‚£å°±å¯ä»¥æ’é™¤ä¸€è¾¹ã€‚

    - è€Œæ»¡è¶³äº¤å‰å…³ç³»ä¹Ÿä¸ä¸€å®šå°±æ˜¯åˆ†å‰²çº¿çš„ä½ç½®ã€‚

4. è¦ä¸è¦-1å°±çœ‹ä¸‹æ ‡len1æœ‰æ²¡æœ‰æœ‰æ²¡æœ‰å¯èƒ½æ˜¯ç­”æ¡ˆã€‚è€Œåˆ†å‰²çº¿çš„ä½ç½®å¯èƒ½æ˜¯len1ï¼Œå› æ­¤åˆå§‹åŒ–ä¸ºlen1

5. ä¸¤æ•°ç»„å…ƒç´ æ€»æ•°

    - ä¸ºå¥‡ï¼Œåˆ™ä¸­ä½æ•°å°±æ˜¯åˆ†å‰²çº¿å·¦è¾¹çš„æœ€å¤§å€¼

    - ä¸ºå¶ï¼Œåˆ™ä¸­ä½æ•°=(åˆ†å‰²çº¿å·¦è¾¹çš„æœ€å¤§å€¼ + ä¸åˆ†å‰²çº¿å³è¾¹çš„æœ€å°å€¼) / 2 

        ![image-20231210171147715](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312101711888.png) 


**:small_red_triangle_down: steps: **

1.  è®©n1ä»£è¡¨çŸ­æ•°ç»„
2.  è®¡ç®—åˆ†å‰²çº¿ä¸€è¾¹çš„å…ƒç´ ä¸ªæ•°ï¼ˆæˆ‘ä»¬é€‰æ‹©å·¦è¾¹ï¼‰
3.  åœ¨çŸ­æ•°ç»„ä¸­äºŒåˆ†æŸ¥æ‰¾åˆ†å‰²çº¿çš„ä½ç½®
    1.  æ ¹æ®åˆ†å‰²çº¿åœ¨çŸ­æ•°ç»„(n1)ä¸­çš„ä½ç½®ï¼Œæ±‚å¾—åˆ†å‰²çº¿åœ¨é•¿æ•°ç»„(n2)ä¸­çš„ä½ç½®
    2.  æ ¹æ®`å·¦å³ä¸¤è¾¹æ•°å€¼ã€ä¸æ»¡è¶³ä»»ä¸€äº¤å‰å°äºç­‰äºæ¡ä»¶ã€‘çš„åˆ†å‰²çº¿ä½ç½®ã€ä¸€å®šä¸æ˜¯ã€‘ç»“æœä½ç½®ï¼Œã€æ»¡è¶³äº¤å‰å°äºç­‰äºæ¡ä»¶ã€‘çš„åˆ†å‰²çº¿ä½ç½®ã€å¯èƒ½ã€‘æ˜¯ç»“æœä½ç½®`è¿™æ ·çš„äºŒæ®µæ€§ï¼Œå†™if-elseåˆ†æ”¯

4.  æ‰¾åˆ°äº†åˆ†å‰²çº¿åœ¨n1å’Œn2ä¸­çš„ä½ç½®åï¼Œå…ˆè¦å¤„ç†ä¸‹æ ‡è¶Šç•Œçš„æƒ…å†µ

5.  æœ€åå†å–ä¸­ä½æ•°

:smiley: **æ”¶è·ï¼š ** 

1. ä¸ä»…ä»…åªæœ‰æ»¡è¶³ 01 ç‰¹æ€§ï¼ˆæ»¡è¶³/ä¸æ»¡è¶³ï¼‰çš„ã€ŒäºŒæ®µæ€§ã€å¯ä»¥ä½¿ç”¨äºŒåˆ†ï¼Œæ»¡è¶³ 1? ç‰¹æ€§ï¼ˆä¸€å®šæ»¡è¶³/ä¸ä¸€å®šæ»¡è¶³ï¼‰æˆ–è€…æ»¡è¶³ 0? ç‰¹æ€§ï¼ˆä¸€å®šä¸æ»¡è¶³/å¯èƒ½æ»¡è¶³ï¼‰ ä¹Ÿå¯ä»¥äºŒåˆ†ã€‚
2. ã€xä¸ºå¥‡æ•°æ—¶ï¼Œ`(x + 1) / 2`çš„ç»“æœã€‘ = ã€xä¸ºå¶æ•°æ—¶ï¼Œ`x / 2` çš„ç»“æœã€‘=ã€xä¸ºå¶æ•°æ—¶ï¼Œ`(x + 1) / 2` çš„ç»“æœã€‘ã€‚å› æ­¤åœ¨åˆ†å¥‡å¶è®¡ç®—ä¸€ä¸ªå€¼/2æ—¶ï¼Œå¯ä»¥åˆå¹¶å¥‡å¶ä¸¤ç§æƒ…å†µçš„è®¡ç®—å¼ä¸ºä¸€ç§ï¼š`(x+1)/2`
3. è¦å°†è®¡ç®—ç»“æœä»intè½¬æ¢ä¸ºdoubleï¼Œå¯ä»¥ç›´æ¥å°†å¼å­ä¸­çš„æ•°å€¼ç”¨å°æ•°è¡¨ç¤ºï¼ˆæ¯”å¦‚æœ€åè®¡ç®—å¼å­ä¸­çš„2.0ï¼‰ï¼Œè¿™æ ·å°±ä¸ç”¨æ˜¾å¼å¼ºè½¬äº†

> äºŒåˆ·å¡ä½çš„ç‚¹ï¼š
>
> 1. çŸ¥é“è¦åˆ†å‰²ä½†ä¸çŸ¥é“æ€ä¹ˆåˆ†å‰² â€”â€”>å°±æ˜¯è¦ç¡®å®šåˆ†å‰²çº¿çš„ä½ç½®
>
>     1. ç”±äºæ˜¯æ±‚ä¸­ä½æ•°ï¼Œå› æ­¤åˆ†å‰²çº¿è¦å°†ä¸¤æ•°ç»„æ€»å…ƒç´ æ•°ä¸€åˆ†ä¸ºäºŒï¼Œå› æ­¤åˆ†å‰²çº¿ä¸¤è¾¹çš„å…ƒç´ æ•°å°±èƒ½æ±‚å¾—ã€‚å› æ­¤åªè¦çŸ¥é“äº†åˆ†å‰²çº¿åœ¨ä¸€ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ï¼ˆä¹Ÿå°±çŸ¥é“äº†è¯¥æ•°ç»„åœ¨åˆ†å‰²çº¿å·¦è¾¹çš„å…ƒç´ æ•°ï¼‰ï¼Œå°±èƒ½æ ¹æ®æ€§è´¨1çŸ¥é“åˆ†å‰²çº¿åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦æ±‚åˆ†å‰²çº¿åœ¨ä¸€ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ã€‚
>     2. è®¾åˆ†å‰²çº¿åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ä¸ºi,jï¼Œå°±èƒ½æ ¹æ®æ€§è´¨2åœ¨ä¸€ä¸ªæ•°ç»„ä¸­äºŒåˆ†æŸ¥æ‰¾åˆ†å‰²çº¿çš„ä½ç½®ï¼Œæ±‚å®Œåå¦ä¸€ä¸ªæ•°ç»„ä¸­åˆ†å‰²çº¿çš„ä½ç½®å°±ä¹Ÿèƒ½çŸ¥é“äº†ã€‚
>
> 2. ä¸çŸ¥é“elseçš„é€»è¾‘æ€ä¹ˆå†™
>
>     1. å¯ä»¥ç›´æ¥æ ¹æ®ifçš„åé¢å†™å‡ºæ¥
>
>     2. è‹¥è¦è§£é‡Šçš„è¯ï¼Œå°±æ˜¯ï¼š
>
>         ![image-20240206000645104](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202402060006353.png)

### ä»£ç 

```c++
double findMedianSortedArrays(vector<int>& nums1, vector<int>& nums2) {
/*
    å¦‚æœç”¨ä¸€ä¸ªåˆ†å‰²çº¿åˆ†å‰²è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„ï¼Œ
    åˆ†å‰²çº¿å·¦å³ä¸¤è¾¹çš„å…ƒç´ æ»¡è¶³: å·¦è¾¹çš„éƒ½<=å³è¾¹çš„ & å·¦å³ä¸¤è¾¹å…ƒç´ æ•°é‡ç›¸ç­‰æˆ–å·®1
    è¿™æ ·ä¸­ä½æ•°å°±ç”±åˆ†å‰²çº¿å·¦å³ä¾§ç´§æŒ¨ç€çš„å…ƒç´ å†³å®šã€‚
    å› æ­¤ï¼Œé—®é¢˜å°±è½¬åŒ–ä¸ºäº†ï¼šæ‰¾è¿™æ ·ä¸€æ¡åˆ†å‰²çº¿åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ã€‚
    æ€ä¹ˆæ‰¾ï¼Ÿåªéœ€æ‰¾åˆ°åˆ†å‰²çº¿åœ¨å…¶ä¸­ä¸€ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ï¼Œé‚£ä¹ˆå®ƒåœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­çš„ä½ç½®ä¹Ÿå°±çŸ¥é“äº†
    è®¾åˆ†å‰²çº¿åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­çš„ä½ç½®åˆ†åˆ«æ˜¯iå’Œj, é‚£ä¹ˆåˆ†å‰²çº¿å·¦å³ä¸¤ä¾§éœ€æ»¡è¶³
    (1) nums1[i - 1] <= nums2[j] && nums1[i] >= nums[j - 1]
    (2) i + j = (len1 - i) + (len2 - j)
        0~i-1 | i ~ len1-1
        0~j-1 | j ~ len2-1
    æ ¹æ®è¿™ä¸¤ä¸ªæ€§è´¨æ¥ç§»åŠ¨åˆ†å‰²çº¿åœ¨å…¶ä¸­ä¸€ä¸ªæ•°ç»„ä¸­çš„ä½ç½®
*/

    // è®©n1ä½œä¸ºçŸ­æ•°ç»„
    // ä¸ºä»€ä¹ˆå¿…é¡»è®©n1ä½œä¸ºçŸ­æ•°ç»„ï¼Ÿä¸ç„¶å°±æŠ¥é”™ï¼Ÿâ€”â€” ä¸ºäº†é˜²æ­¢æ•°ç»„ä¸‹æ ‡è¶Šç•Œï¼
    // å› ä¸ºæ¯”å¦‚n1={1,3}, n2={2}æ—¶, leftCnt=2, left=0, right=len1=2 => i=1, j=leftCnt-i=1ï¼Œè¶Šç•Œï¼ï¼ï¼
    if (nums1.size() > nums2.size()) {
        return findMedianSortedArrays(nums2, nums1);
    }
    int len1 = nums1.size();
    int len2 = nums2.size();
    int leftCnt = (len1 + len2 + 1) / 2; //åˆ†å‰²çº¿å·¦ä¾§çš„å…ƒç´ æ•°é‡
    //å¦‚æœæ˜¯å¶æ•°åˆ™leftCntå°±æ˜¯ä¸¤æ•°ç»„å…ƒç´ æ•°é‡çš„ä¸€åŠï¼Œå¦‚æœæ˜¯å¥‡æ•°åˆ™leftCntå°±æ˜¯Â·Â·è¿˜å¤šä¸€
    int left = 0;
    int right = len1; //å› ä¸ºåˆ†å‰²çº¿å¯èƒ½åœ¨len1å¤„
    while (left < right) {
        int i = (left + right + 1) / 2; //åˆ†å‰²çº¿åœ¨nums1ä¸­çš„ä½ç½®
        int j = leftCnt - i;        //åˆ†å‰²çº¿åœ¨nums2ä¸­çš„ä½ç½®
        if (nums1[i - 1] > nums2[j]) { //åˆ†å‰²çº¿è¦å¾€å·¦ç§»
            right = i - 1;
        } else {
            left = i;
        }
    }
    // é€€å‡ºå¾ªç¯æ—¶å·²æ‰¾åˆ°åˆ†å‰²çº¿åœ¨nums1ä¸­çš„ä½ç½®ï¼Œè¿›è€Œå…¶åœ¨nums2ä¸­çš„ä½ç½®ä¹Ÿå¯ä»¥æ‰¾åˆ°
    int divLine1 = left;
    int divLine2 = leftCnt - divLine1;
    // ä¸­ä½æ•°ç”±åˆ†å‰²çº¿å·¦å³ä¾§ç´§æŒ¨ç€çš„å…ƒç´ å†³å®šï¼Œç”±äºåˆ†å‰²çº¿å¯èƒ½åœ¨æ•°ç»„è¾¹ç•Œï¼Œæ‰€ä»¥è¦å¤„ç†ç‰¹æ®Šæƒ…å†µï¼š
    // è®¾åˆ†å‰²çº¿å·¦å³ä¾§ç´§æŒ¨ç€çš„å…ƒç´ åˆ†åˆ«ä¸ºï¼šLeftN1, LeftN2 | RightN1, RightN2
    // å¦‚æœåˆ†å‰²çº¿åœ¨nums1ä¸­çš„ä½ç½®æ˜¯0ï¼Œé‚£ä¹ˆç”±äºä¸­ä½æ•°è¦å–å·¦è¾¹çš„æœ€å¤§å€¼ï¼Œå› æ­¤LeftN1è¦ä¸ºINT_MIN
    // å¦‚æœåˆ†å‰²çº¿åœ¨nums1ä¸­çš„ä½ç½®æ˜¯len1ï¼Œé‚£ä¹ˆç”±äºä¸­ä½æ•°è¦å–å³è¾¹çš„æœ€å°å€¼ï¼Œå› æ­¤RightN1è¦ä¸ºINT_MAX
    // åœ¨nums2ä¸­çš„è¿™ä¸¤ç§æƒ…å†µä¹ŸåŒç†
    int LeftN1 = divLine1 == 0 ? INT_MIN : nums1[divLine1 - 1];
    int LeftN2 = divLine2 == 0 ? INT_MIN : nums2[divLine2 - 1];
    int RightN1 = divLine1 == len1 ? INT_MAX : nums1[divLine1];
    int RightN2 = divLine2 == len2 ? INT_MAX : nums2[divLine2];
    // æ¥ä¸‹æ¥è®¡ç®—ä¸­ä½æ•°
    int leftMax = max(LeftN1, LeftN2);
    int rightMin = min(RightN1, RightN2);
    return (len1 + len2) % 2 ? leftMax : (leftMax + rightMin) / 2.0;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(log min(len1+len2) )  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :fire:[153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array/)

### é¢˜æ„

å·²çŸ¥ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ï¼Œé¢„å…ˆæŒ‰ç…§å‡åºæ’åˆ—ï¼Œç»ç”± `1` åˆ° `n` æ¬¡ **æ—‹è½¬** åï¼Œå¾—åˆ°è¾“å…¥æ•°ç»„ã€‚

æ•°ç»„ `[a[0], a[1], a[2], ..., a[n-1]]` **æ—‹è½¬ä¸€æ¬¡** çš„ç»“æœä¸ºæ•°ç»„ `[a[n-1], a[0], a[1], a[2], ..., a[n-2]]` ã€‚ä¾‹å¦‚ï¼ŒåŸæ•°ç»„ `nums = [0,1,2,4,5,6,7]` ï¼š

- æ—‹è½¬ `4` æ¬¡å¾—åˆ° `[4,5,6,7,0,1,2]`
- æ—‹è½¬ `7` æ¬¡å¾—åˆ° `[0,1,2,4,5,6,7]`

ç»™ä½ ä¸€ä¸ªå…ƒç´ å€¼ **äº’ä¸ç›¸åŒ** çš„æ•°ç»„ `nums` ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œåè¿›è¡Œäº†å¤šæ¬¡æ—‹è½¬ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ•°ç»„ä¸­çš„ **æœ€å°å…ƒç´ ** ã€‚

ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šnums = [3,4,5,1,2]
è¾“å‡ºï¼š1
è§£é‡Šï¼šåŸæ•°ç»„ä¸º [1,2,3,4,5] ï¼Œæ—‹è½¬ 3 æ¬¡å¾—åˆ°è¾“å…¥æ•°ç»„ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```cpp
è¾“å…¥ï¼šnums = [11,13,15,17]
è¾“å‡ºï¼š11
è§£é‡Šï¼šåŸæ•°ç»„ä¸º [11,13,15,17] ï¼Œæ—‹è½¬ 4 æ¬¡å¾—åˆ°è¾“å…¥æ•°ç»„ã€‚
```

### åˆ†æè¿‡ç¨‹ï¼š

æ•°ç»„ç»æ—‹è½¬åä¸€åˆ†ä¸º2ï¼Œä¸€éƒ¨åˆ†æ˜¯æ¥è‡ªæ•°ç»„åé¢éƒ¨åˆ†çš„é‚£ä¸€å¨ï¼ˆæ—‹è½¬ååˆ°äº†å‰é¢ï¼Œæ—‹è½¬äº†å‡ æ¬¡è¿™ä¸€å¨å°±æœ‰å‡ ä¸ªå…ƒç´ ï¼‰ï¼Œä¸€éƒ¨åˆ†æ˜¯ä¹‹å‰åœ¨æ•°ç»„å‰é¢éƒ¨åˆ†çš„é‚£ä¸€å¨ï¼ˆæ—‹è½¬ååˆ°äº†åé¢ï¼‰ã€‚

æ ¹æ®ï¼š**å¦‚æœä¸¤ç‚¹æ˜¯ã€Œä¸Šå‡ã€çš„ï¼Œé‚£ä¹ˆä¸¤ç‚¹ä¹‹é—´ä¸€å®šæ˜¯ã€Œä¸Šå‡ã€çš„ã€‚**æˆ‘ä»¬å¯ä»¥å°†æƒ…å†µåˆ†ä¸º4ç§ï¼š

- è‹¥`n[mid] < n[right]` ï¼Œåˆ™[mid,right]ä¸€å®šæ˜¯ä¸Šå‡çš„ï¼Œå¾€[left,mid]ç»§ç»­æŸ¥æ‰¾æœ€å°å€¼ï¼ˆmidå¯èƒ½æ˜¯æœ€å°å€¼ï¼‰ï¼›
- è‹¥`n[mid] > [right]` ï¼Œåˆ™æœ€å°å€¼ä¸€å®šåœ¨[mid + 1,right]åŒºé—´;
- è‹¥`n[left] > n[mid]` ï¼Œåˆ™æœ€å°å€¼ä¸€å®šåœ¨[left,mid]åŒºé—´ï¼›
- è‹¥`n[left] < n[mid] ` ï¼Œåˆ™[left,mid]ä¸€å®šæ˜¯ä¸Šå‡çš„

é‚£æˆ‘ä»¬æ˜¯é€‰æ‹©æ ¹æ®midå’Œrightçš„æ¯”è¾ƒäºŒåˆ†è¿˜æ˜¯æ ¹æ®leftå’Œmidçš„æ¯”è¾ƒäºŒåˆ†å‘¢ï¼Ÿ

å¦‚æœæ ¹æ®midå’Œrightçš„æ¯”è¾ƒäºŒåˆ†ï¼Œif-elseé€»è¾‘ï¼š

- `if (n[mid] < n[right]) right = mid;`//è¯´æ˜[mid,right]ä¸€å®šæ˜¯ä¸Šå‡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´[mid,right]ä¸€å®šæ˜¯æ—‹è½¬åçš„æ•°ç»„æœ€åé¢çš„é‚£ä¸€å¨ï¼ˆä¸€ç›´åˆ°æœ«å°¾ï¼‰ï¼Œé‚£ä¹ˆæœ€å°å€¼è‚¯å®šä¸ä¼šåœ¨(mid,right]ã€‚æˆ‘ä»¬å¾€[left,mid]ç»§ç»­æŸ¥æ‰¾æœ€å°å€¼ï¼ˆmidå¯èƒ½æ˜¯æœ€å°å€¼ï¼‰
- `else left = mid + 1;`//å¦åˆ™æœ€å°å€¼ä¸€å®šåœ¨[mid + 1,right]åŒºé—´

å¦‚æœæ ¹æ®midå’Œleftçš„æ¯”è¾ƒäºŒåˆ†ï¼Œif-elseé€»è¾‘ï¼š

- `if (n[left] > n[mid]) right = mid;`//è¯´æ˜æœ€å°å€¼ä¸€å®šåœ¨[left,mid]åŒºé—´
- `else left = mid + 1;`//è¯´æ˜[left,mid]ä¸€å®šæ˜¯ä¸Šå‡çš„ï¼Œ:no_good_man::x: ~~å¾€[mid+1,right]ç»§ç»­æŸ¥æ‰¾æœ€å°å€¼~~:x::no_good_man: ä¸èƒ½ç›´æ¥å°±è®¤ä¸º[left,mid]ä¸€å®šå°±ä¸å­˜åœ¨æœ€å°å€¼ã€‚å› ä¸ºleftå¯èƒ½å°±æ˜¯æœ€å°å€¼ï¼Œæ­¤æ—¶çš„æŸ¥æ‰¾åŒºé—´[left,right]æ˜¯å•è°ƒé€’å¢çš„ã€‚å› æ­¤å…ˆè¦åšç‰¹æ®Šåˆ¤æ–­å¤„ç†è¿™ç§æƒ…å†µã€‚

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š äºŒåˆ†   **:star:==

**:question:   problems:** 

1. é€‰æ‹©æ ¹æ®midå’Œright è¿˜æ˜¯leftå’Œmidçš„æ¯”è¾ƒäºŒåˆ†?

:heavy_check_mark:  **answer:** 

1. éƒ½å¯ä»¥ï¼Œåªä¸è¿‡é€‰æ‹©æ ¹æ®leftå’ŒmidäºŒåˆ†è¦æƒ³æ¸…æ¥šç‰¹æ®Šæƒ…å†µã€‚

    æ¯”å¦‚è¿™ä¸¤ä¸ªä¾‹å­ï¼Œnums[left]éƒ½<nums[mid]ï¼Œä½†æ˜¯æœ€å°å€¼å¯èƒ½åœ¨midå·¦è¾¹ï¼ˆå³leftå°±æ˜¯æœ€å°å€¼ï¼Œ[left,right]é€’å¢ï¼‰ä¹Ÿå¯èƒ½åœ¨midå³è¾¹ã€‚å› æ­¤è¦ç‰¹åˆ¤ã€‚

    - ä¾‹ 1ï¼š`[1, 2, 3, 4, 5]`ï¼›
    - ä¾‹ 2ï¼š`[2, 3, 4, 5, 1]`ã€‚

### ä»£ç 

#### (1) æ ¹æ®mid,rightçš„æ¯”è¾ƒäºŒåˆ† :raised_hands:

```c++
int findMin(vector<int>& nums) {
    int left = 0, right = nums.size() - 1;
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < nums[right]) right = mid;//æœ€å°å€¼è‚¯å®šä¸ä¼šåœ¨(mid,right]
        else left = mid + 1;//æœ€å°å€¼ä¸€å®šåœ¨[mid + 1,right]
    }
    return nums[left];
}
```

#### (2) æ ¹æ®mid,leftçš„æ¯”è¾ƒäºŒåˆ†

```c++
int findMin(vector<int>& nums) {
/*
    äºŒåˆ†ï¼šè¿™é‡Œçš„äºŒæ®µæ€§æ˜¯ä¸€æ®µæœ‰åº(1)ï¼Œä¸€æ®µä¸ç¡®å®šæ˜¯å¦æœ‰åº(0),
    ç›®æ ‡å€¼ä¸€å®šåœ¨0è¿™æ®µï¼ˆæˆ–è€…åœ¨1é‚£æ®µçš„ç¬¬ä¸€ä¸ªå…ƒç´ --å½“å³åŒºé—´æœ‰åºæ—¶ï¼‰
    å¯ä»¥æ ¹æ®æœ‰åºåŒºé—´çš„ç‰¹æ€§ï¼Œåˆ¤æ–­å“ªæ®µæ˜¯æœ‰åºçš„(1)ï¼Œé‚£å¦ä¸€æ®µå°±æ˜¯ä¸ç¡®å®šæ˜¯å¦æœ‰åºçš„(0)ï¼Œæ¥ç¼©å°æŸ¥æ‰¾èŒƒå›´
*/ 
    int left = 0;
    int right = nums.size() - 1;
    while (left < right) {
        // å¦‚æœæœç´¢åŒºé—´å®Œå…¨æœ‰åºï¼Œåˆ™åŒºé—´å·¦ç«¯ç‚¹ä¸€å®šå°±æ˜¯æœ€å°å€¼ã€‚
        // å¦‚æœè¿™é‡Œä¸ä½œç‰¹åˆ¤çš„è¯ï¼Œå› ä¸ºnums[left]<nums[mid]ï¼Œèµ°æ‰§è¡Œé€»è¾‘left=mid+1ä¼šä½¿æœ¬æ¥ä½äºleftä½ç½®çš„æœ€å°å€¼æ‰å‡ºæœç´¢åŒºé—´
        if (nums[left] < nums[right]) return nums[left];
        // å¦åˆ™ï¼Œæœç´¢åŒºé—´æ˜¯ä¸€æ®µæœ‰åºä¸€æ®µæ— åºçš„ï¼Œæ­¤æ—¶æœ€å°å€¼ä¸€å®šåœ¨æ— åºçš„é‚£æ®µï¼ˆæˆ–è€…åœ¨æœ‰åºçš„é‚£æ®µçš„ç¬¬ä¸€ä¸ªå…ƒç´ --å½“å³åŒºé—´æœ‰åºæ—¶ï¼‰
        int mid = (left + right) / 2;
        // å·¦åŒºé—´æœ‰åºï¼Œç›®æ ‡å€¼åœ¨å³åŒºé—´
        if (nums[left] <= nums[mid]) { //æ³¨æ„ç­‰å·ï¼
            left = mid + 1;//æœ€å°å€¼ä¸€å®šåœ¨[mid + 1,right]
        } else {
        // å³åŒºé—´æœ‰åºï¼Œç›®æ ‡å€¼åœ¨å·¦åŒºé—´ï¼ˆå³åŒºé—´çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿå¯èƒ½æ˜¯ç›®æ ‡å€¼ï¼‰
            right = mid;//æœ€å°å€¼è‚¯å®šä¸ä¼šåœ¨(mid,right]
        }
    }
    return nums[left];
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(logn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [lc154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/)

### é¢˜æ„

:  å·²çŸ¥ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•°ç»„ï¼Œé¢„å…ˆæŒ‰ç…§å‡åºæ’åˆ—ï¼Œç»ç”± `1` åˆ° `n` æ¬¡ **æ—‹è½¬** åï¼Œå¾—åˆ°è¾“å…¥æ•°ç»„ã€‚

æ•°ç»„ `[a[0], a[1], a[2], ..., a[n-1]]` **æ—‹è½¬ä¸€æ¬¡** çš„ç»“æœä¸ºæ•°ç»„ `[a[n-1], a[0], a[1], a[2], ..., a[n-2]]` ã€‚ä¾‹å¦‚ï¼ŒåŸæ•°ç»„ `nums = [0,1,4,4,5,6,7]` ï¼š

- æ—‹è½¬ `4` æ¬¡å¾—åˆ° `[4,5,6,7,0,1,4]`
- æ—‹è½¬ `7` æ¬¡å¾—åˆ° `[0,1,4,4,5,6,7]`

ç»™ä½ ä¸€ä¸ªå¯èƒ½å­˜åœ¨ **é‡å¤** å…ƒç´ å€¼çš„æ•°ç»„ `nums` ï¼Œå®ƒåŸæ¥æ˜¯ä¸€ä¸ªå‡åºæ’åˆ—çš„æ•°ç»„ï¼Œåè¿›è¡Œäº†å¤šæ¬¡æ—‹è½¬ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›æ•°ç»„ä¸­çš„ **æœ€å°å…ƒç´ ** ã€‚

ä½ å¿…é¡»å°½å¯èƒ½å‡å°‘æ•´ä¸ªè¿‡ç¨‹çš„æ“ä½œæ­¥éª¤ã€‚

**è¿›é˜¶ï¼š**è¿™é“é¢˜ä¸ [å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/description/) ç±»ä¼¼ï¼Œä½† `nums` å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚å…è®¸é‡å¤ä¼šå½±å“ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šå¦‚ä½•å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

### å‚è€ƒé¢˜è§£

1. [liweiweiå¤§ä½¬](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/solutions/8217/er-fen-fa-fen-zhi-fa-python-dai-ma-by-liweiwei1419/)
2. [ä¸‰å¶å¤§ä½¬](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/solutions/710212/gong-shui-san-xie-xiang-jie-wei-he-yuan-7xbty/) ä¸€å¼ å›¾å°±è¯´æ˜ç™½äº†:thumbsup:

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ† ï¼ŒäºŒæ®µæ€§ä¸¢å¤±æ—¶æ”¹ç”¨çº¿æ€§æŸ¥æ‰¾   **:star:==

**:question:   problems:** 

1. è¿™é“é¢˜ä¸ [å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/description/) ç±»ä¼¼ï¼Œä½† `nums` å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚å…è®¸é‡å¤ä¼šå½±å“ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šå¦‚ä½•å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

:heavy_check_mark:  **answer:** 

1. ä¼šï¼Œå½“midå€¼å’Œè¾¹ç•Œå€¼ç›¸ç­‰æ—¶ï¼ŒäºŒæ®µæ€§ä¸¢å¤±ï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®šæœ€å°å€¼åœ¨midå·¦è¾¹è¿˜æ˜¯midå³è¾¹ã€‚å› æ­¤è¿™ç§æƒ…å†µè¦æ”¹ç”¨çº¿æ€§æœç´¢ï¼Œ--ræˆ–++léå†æ’é™¤ä¸midå€¼ç›¸ç­‰çš„è¾¹ç•Œã€‚

### ä»£ç 

#### (1) æ ¹æ®mid,rightçš„æ¯”è¾ƒäºŒåˆ† :raised_hands:

```c++
int findMin(vector<int>& nums) {
    int left = 0, right = nums.size() - 1;
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < nums[right]) right = mid;//è¯´æ˜[mid,right]ä¸€å®šæ˜¯ä¸Šå‡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´[mid,right]ä¸€å®šæ˜¯æ—‹è½¬åçš„æ•°ç»„æœ€åé¢çš„é‚£ä¸€å¨ï¼ˆä¸€ç›´åˆ°æœ«å°¾ï¼‰ï¼Œé‚£ä¹ˆæœ€å°å€¼è‚¯å®šä¸ä¼šåœ¨(mid,right]ã€‚æˆ‘ä»¬å¾€[left,mid]ç»§ç»­æŸ¥æ‰¾æœ€å°å€¼ï¼ˆmidå¯èƒ½æ˜¯æœ€å°å€¼ï¼‰
        else if (nums[mid] == nums[right]) --right;//rightä¸€å®šä¸æ˜¯æœ€å°å€¼
        //æ¯”å¦‚å½“[3 x 3 x 3]å…¶ä¸­xå¯èƒ½ä¸º1ä¹Ÿå¯èƒ½ä¸º3,å¦‚æœmidå€¼å’Œrightå€¼ç›¸ç­‰äº†, å°±æ— æ³•ç¡®å®šæœ€å°å€¼æ˜¯åœ¨midå·¦è¾¹è¿˜æ˜¯åœ¨midå³è¾¹ï¼Œå¼ƒç”¨äºŒåˆ†æ³•æ”¹ç”¨çº¿æ€§æœç´¢,r--æŠŠå³è¾¹ç•Œæ’é™¤æ‰å°±å¥½äº†
        else left = mid + 1;//å¦åˆ™æœ€å°å€¼ä¸€å®šåœ¨[mid + 1,right]åŒºé—´
    }
    return nums[left];
}
```

#### (2) æ ¹æ®mid,leftçš„æ¯”è¾ƒäºŒåˆ†

```c++
int findMin(vector<int>& nums) {
        int left = 0, right = nums.size() - 1;
        while (left < right) {
            //å½“æœç´¢åŒºé—´ï¼ˆç­”æ¡ˆä¸€å®šåœ¨å…¶ä¸­ï¼‰å•è°ƒé€’å¢æ—¶ï¼ŒåŒºé—´å·¦ç«¯ç‚¹ä¸€å®šå°±æ˜¯æœ€å°å€¼ã€‚
            if (nums[left] < nums[right]) return nums[left];
            //å¦‚æœæœç´¢åŒºé—´å·²ç»å•è°ƒé€’å¢äº†ï¼Œä¸ä½œç‰¹åˆ¤ç»§ç»­å¾€ä¸‹æ‰§è¡Œçš„è¯ï¼Œå› ä¸ºnums[left]<nums[mid],èµ°æ‰§è¡Œé€»è¾‘left=mid+1ç¼©å°æŸ¥æ‰¾åŒºé—´åï¼Œå°±ä½¿å¾—æœ¬æ¥ä½äºleftä½ç½®çš„æœ€å°å€¼æ‰å‡ºæŸ¥æ‰¾åŒºé—´
            int mid = left + (right - left) / 2;
            if (nums[left] > nums[mid]) right = mid;//è¯´æ˜æœ€å°å€¼ä¸€å®šåœ¨[left,mid]åŒºé—´
            else if (nums[left] == nums[mid]) ++left;//leftä¸€å®šä¸æ˜¯æœ€å°å€¼
             //æ¯”å¦‚å½“[3 x 3 x 3]å…¶ä¸­xå¯èƒ½ä¸º1ä¹Ÿå¯èƒ½ä¸º3,å¦‚æœmidå€¼å’Œleftå€¼ç›¸ç­‰äº†, å°±æ— æ³•ç¡®å®šæœ€å°å€¼æ˜¯åœ¨midå·¦è¾¹è¿˜æ˜¯åœ¨midå³è¾¹ï¼Œå¼ƒç”¨äºŒåˆ†æ³•æ”¹ç”¨çº¿æ€§æœç´¢,++læŠŠå·¦è¾¹ç•Œæ’é™¤æ‰å°±å¥½äº†
            else left = mid + 1;//è¯´æ˜[left,mid]ä¸€å®šæ˜¯ä¸Šå‡çš„
        }
        return nums[left];
    }
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼š 

    å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(logâ¡n)ï¼Œå¦‚æœæ•°ç»„æ˜¯éšæœºç”Ÿæˆçš„ï¼Œé‚£ä¹ˆæ•°ç»„ä¸­åŒ…å«ç›¸åŒå…ƒç´ çš„æ¦‚ç‡å¾ˆä½ï¼Œåœ¨äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½ä¼šå¿½ç•¥ä¸€åŠçš„åŒºé—´ã€‚

    è€Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œå¦‚æœæ•°ç»„ä¸­çš„å…ƒç´ å®Œå…¨ç›¸åŒï¼Œæ¯æ¬¡æ‰§è¡Œ `right = right - 1;` æ—¶é—´å¤æ‚åº¦æ˜¯ `O(N)` ã€‚  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)



## [:fire:33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode.cn/problems/search-in-rotated-sorted-array/)

### é¢˜æ„

æ•´æ•°æ•°ç»„ `nums` æŒ‰å‡åºæ’åˆ—ï¼Œæ•°ç»„ä¸­çš„å€¼ **äº’ä¸ç›¸åŒ** ã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ`nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ `k`ï¼ˆ`0 <= k < nums.length`ï¼‰ä¸Šè¿›è¡Œäº† **æ—‹è½¬**ï¼Œä½¿æ•°ç»„å˜ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`

ç»™ä½  **æ—‹è½¬å** çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ï¼Œå¦‚æœ `nums` ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼ `target` ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› `-1` ã€‚

è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•ã€‚

**ç¤ºä¾‹ 1ï¼š**

```C++
è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 0
è¾“å‡ºï¼š4
```

**ç¤ºä¾‹ 2ï¼š**

```c++
è¾“å…¥ï¼šnums = [4,5,6,7,0,1,2], target = 3
è¾“å‡ºï¼š-1
```

### å‚è€ƒé¢˜è§£

1. [liweiwei]

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ†  **:star:==

**:key:  keyï¼š**

- æ—‹è½¬æ•°ç»„å¯ä»¥ç”¨midä¸€åˆ†ä¸ºäºŒ, **å…¶ä¸­ä¸€ä¸ªåŒºé—´ä¸€å®šæœ‰åº, ä¸€ä¸ªåŒºé—´å¯èƒ½æœ‰åº, ä¹Ÿå¯èƒ½æ— åº**ã€‚

- æˆ‘ä»¬å¯ä»¥æ ¹æ®æœ‰åºçš„é‚£ä¸ªåŒºé—´æ¥ç¡®å®šå¦‚ä½•ç¼©å°æŸ¥æ‰¾åŒºé—´ã€‚

    - å¦‚æœtargetåœ¨æœ‰åºåŒºé—´, åˆ™ç»§ç»­åœ¨æœ‰åºåŒºé—´ä¸­ç¼©å°æŸ¥æ‰¾åŒºé—´;
    - å¦‚æœä¸åœ¨, è¯´æ˜targetåœ¨å¦å¤–ä¸€ä¸ªåŒºé—´, æ­¤æ—¶è°ƒæ•´leftæˆ–è€…right, å¾€å¦å¤–é‚£ä¸ªåŒºé—´æ‰¾

- åˆ¤æ–­åŒºé—´æœ‰åºè¿˜æ˜¯æ— åºï¼šåªè¦ `nums[åŒºé—´å·¦ç«¯ç‚¹] < nums[åŒºé—´å·¦ç«¯ç‚¹]`å°±è¯´æ˜æœ‰åº

**:question:   problems:** 

1. è¿™ä¸€é¢˜çš„ã€ä¸¤æ®µæ€§ã€‘æ˜¯ä»€ä¹ˆï¼Ÿ

:heavy_check_mark:  **answer:** 

1. ä¸€æ®µä¸€å®šæœ‰åºï¼Œä¸€æ®µä¸ä¸€å®šæœ‰åº

:smiley: **æ”¶è·ï¼š ** 

- ###### å½“æ‰§è¡Œé€»è¾‘å†²çªæ—¶ï¼ˆå³whileä¸­åŒæ—¶å‡ºç°äº†left=midå’Œright=midï¼‰ï¼Œæ­¤æ—¶æ— è®ºæ˜¯ä¸Šå–æ•´å–midè¿˜æ˜¯ä¸‹å–æ•´å–midï¼Œéƒ½ä¼šå‡ºç°æ­»å¾ªç¯ã€‚æˆ‘ä»¬å°±è¦è°ƒæ•´åˆ¤æ–­é€»è¾‘è®©midçš„å–æ³•èƒ½åˆå¹¶ã€‚

### ä»£ç 

#### ç‰ˆæœ¬1ï¼ˆwhileä¸­ä¸ºif-elseåˆ†æ”¯ï¼‰

```cpp
class Solution {
public:
    int search(vector<int>& nums, int target) {
/*
    è¦æ±‚O(logn)çš„æ—¶é—´å¤æ‚åº¦ï¼Œå› æ­¤æƒ³åˆ°æ˜¯å¦èƒ½ç”¨äºŒåˆ†è§£å†³ï¼Ÿ
    è§‚å¯Ÿnumsæ˜¯å¦æœ‰äºŒæ®µæ€§ï¼š
        æ—‹è½¬åçš„æ•°ç»„[4,5,6,7,0,1,2]ï¼Œéšæ„å–ä¸€ä¸ªä¸‹æ ‡iï¼Œ
        iå°†æ•°ç»„åˆ†å‰²ä¸ºä¸¤ä¸ªåŒºé—´ï¼šä¸€ä¸ªä¸€å®šæœ‰åºï¼Œä¸€ä¸ªä¸ä¸€å®šæœ‰åºã€‚å› æ­¤æ•°ç»„çš„èŒƒå›´æœ‰äºŒæ®µæ€§ï¼Œå¯ä»¥ç”¨äºŒåˆ†ã€‚
    æ€ä¹ˆäºŒåˆ†ï¼Ÿæˆ‘ä»¬å¯ä»¥æ ¹æ®æœ‰åºåŒºé—´çš„ç‰¹æ€§æ¥äºŒåˆ†ï¼Œç¼©å°æŸ¥æ‰¾èŒƒå›´ã€‚
*/ 
        int left = 0, right = nums.size() - 1;
        while (left < right) {
            int mid = (left + right) / 2;
            if (nums[left] < nums[mid]) { //å¦‚æœmidå·¦è¾¹æ˜¯æœ‰åºåŒºé—´
                // å¯ä»¥æ¯”è¾ƒtargetå’Œnums[left]ã€nums[mid]çš„å¤§å°ï¼Œåˆ¤æ–­targetåœ¨1è¿˜æ˜¯0åŒºé—´
                if (nums[left] <= target && target <= nums[mid]) {
                    right = mid;
                } else {
                    left = mid + 1;
                }
            } else { //å¦‚æœmidå³è¾¹æ˜¯æœ‰åºåŒºé—´
                // å¯ä»¥æ¯”è¾ƒtargetå’Œnums[mid]ã€nums[right]çš„å¤§å°ï¼Œåˆ¤æ–­targetåœ¨1è¿˜æ˜¯0åŒºé—´
                if (nums[mid + 1] <= target && target <= nums[right]) {
                    left = mid + 1; 
                    //ä¸midå‘ä¸‹å–æ•´å†²çªäº†ï¼Œä¼šæ­»å¾ªç¯ï¼Œå› æ­¤éœ€è¦åšè°ƒæ•´è®©å…¶å˜ä¸ºleft = mid + 1;
                    // è¿™æ„å‘³ç€midä¸ä¼šæ˜¯target, å°†æ¡ä»¶ä¸­nums[mid] <= targetæ”¹ä¸ºnums[mid + 1] <= targetå³å¯ï¼Œ
                    // æˆ–è€…å°†nums[mid] <= targetæ”¹ä¸ºnums[mid] < targetä¹Ÿå¯ä»¥ã€‚
                } else {
                    right = mid; 
                }
            }
        }
        return nums[left] == target ? left : -1;
    }
};
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(logn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II](https://leetcode.cn/problems/search-in-rotated-sorted-array-ii/)

### é¢˜æ„

å·²çŸ¥ä¸€ä¸ªéé™åºçš„æ•´æ•°æ•°ç»„ `nums` ï¼Œæ•°ç»„ä¸­çš„å€¼å¯èƒ½ç›¸åŒã€‚

åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ`nums` åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡ `k`ï¼ˆ`0 <= k < nums.length`ï¼‰ä¸Šè¿›è¡Œäº† **æ—‹è½¬** ï¼Œä½¿æ•°ç»„å˜ä¸º `[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]`ï¼ˆä¸‹æ ‡ **ä» 0 å¼€å§‹** è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ `[0,1,2,4,4,4,5,6,6,7]` åœ¨`ä¸‹æ ‡ 5` å¤„ç»æ—‹è½¬åå˜ä¸º `[4,5,6,6,7,0,1,2,4,4]` ã€‚

ç»™ä½  **æ—‹è½¬å** çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `target` ã€‚å¦‚æœ `nums` ä¸­å­˜åœ¨ `target` åˆ™è¿”å› `true` ï¼Œå¦åˆ™è¿”å› `false` ã€‚

ä½ å¿…é¡»å°½å¯èƒ½å‡å°‘æ•´ä¸ªæ“ä½œæ­¥éª¤ã€‚

**ç¤ºä¾‹ 1ï¼š**

```CPP
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 0
è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹ 2ï¼š**

```cpp
è¾“å…¥ï¼šnums = [2,5,6,0,0,1,2], target = 3
è¾“å‡ºï¼šfalse
```

**è¿›é˜¶ï¼š**

- è¿™æ˜¯ [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode.cn/problems/search-in-rotated-sorted-array/) çš„å»¶ä¼¸é¢˜ç›®ï¼Œæœ¬é¢˜ä¸­çš„ `nums` å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚è¿™ä¼šå½±å“åˆ°ç¨‹åºçš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šæœ‰æ€æ ·çš„å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š äºŒåˆ† ï¼ŒäºŒæ®µæ€§ä¸¢å¤±æ—¶æ”¹ç”¨çº¿æ€§æŸ¥æ‰¾     **:star:==

**:key:  keyï¼š**

- å’Œ[lc33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode.cn/problems/search-in-rotated-sorted-array/)ä¸åŒçš„æ˜¯ï¼Œnumsä¸­çš„å€¼æœ‰å¯èƒ½é‡å¤ï¼Œå› æ­¤å°±ä¸æ˜¯å•çº¯çš„äºŒåˆ†ã€æ­£é¢+åé¢ã€‘äº†ï¼Œæ­¤æ—¶è¦è½¬ä¸ºçº¿æ€§æœç´¢ã€‚

    å¯¹é‡å¤å€¼çš„å¤„ç†ã€å½“midå€¼å’Œè¾¹ç•Œå€¼ç›¸ç­‰æ—¶ï¼ŒäºŒæ®µæ€§ä¸¢å¤±ï¼Œæˆ‘ä»¬æ— æ³•ç¡®å®štargetåœ¨midå·¦è¾¹è¿˜æ˜¯midå³è¾¹ã€‚å› æ­¤è¿™ç§æƒ…å†µè¦æ”¹ç”¨çº¿æ€§æœç´¢ã€‘å’Œ [lc154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/) ä¸€æ ·ã€‚

### ä»£ç 

```c++
bool search(vector<int>& nums, int target) {
    if (nums.size() == 0) return -1;
    int left = 0, right = nums.size() - 1;
    while (left < right) {
        int mid = left + (right - left + 1) / 2;
        // æƒ…å†µ1: [mid,right]æ˜¯æœ‰åºçš„, åˆ™[left..mid-1]æ˜¯ä¸ç¡®å®šæœ‰åºè¿˜æ˜¯æ— åºçš„
        if (nums[mid] < nums[right]) {  
            if (nums[mid] <= target && target <= nums[right]) left = mid;//targetåœ¨æœ‰åºåŒºé—´
            else right = mid - 1;//å¦åˆ™åœ¨å¦ä¸€ä¸ªåŒºé—´
        }  
        // æƒ…å†µ2:  [left,mid-1]æœ‰åº
        else if (nums[mid] > nums[right]) {
            if (nums[left] <= target && target <= nums[mid - 1]) right = mid - 1;//targetåœ¨æœ‰åºåŒºé—´
            // è¿™é‡Œæ˜¯ç»è¿‡è°ƒæ•´çš„, åŸå› åŒ33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„
            else left = mid;
        }
        else { 
            /*
            * nums[mid] == nums[right]ã€‚
            * æ¯”å¦‚10111 å’Œ 11101ï¼Œæ­¤æ—¶æ— æ³•ç¡®å®šåˆ°åº•æ˜¯midå·¦è¾¹åŒºé—´æœ‰åºè¿˜æ˜¯midå³è¾¹åŒºé—´æœ‰åºï¼Œå› æ­¤ç›´æ¥--rightå³å¯ï¼Œç›¸å½“äºå»æ‰ä¸€ä¸ªé‡å¤çš„å¹²æ‰°é¡¹
            * æ¯”å¦‚å½“[3 x 3 x 3]å…¶ä¸­xå¯èƒ½ä¸º1ä¹Ÿå¯èƒ½ä¸º3,å¦‚æœmidå€¼å’Œrightå€¼ç›¸ç­‰äº†, å°±æ— æ³•ç¡®å®šæœ€å°å€¼æ˜¯åœ¨midå·¦è¾¹è¿˜æ˜¯åœ¨midå³è¾¹ï¼Œå¼ƒç”¨äºŒåˆ†æ³•æ”¹ç”¨çº¿æ€§æœç´¢,r--æŠŠå³è¾¹ç•Œæ’é™¤æ‰å°±å¥½äº†
            */
            if (nums[right] == target) return true;
            //ä¸åšè¿™æ­¥åˆ¤æ–­è¡Œä¸è¡Œå‘¢ï¼Ÿä¸è¡Œï¼å½“mid==right, å³æŸ¥æ‰¾åŒºé—´åªå‰©ä¸¤ä¸ªå…ƒç´ æ—¶ï¼Œæ­¤æ—¶nums[mid]æœ¬æ¥å°±æ˜¯nums[right]ï¼Œå› æ­¤å¦‚æœnums[mid](nums[right])å°±æ˜¯ç­”æ¡ˆï¼Œé‚£ä¹ˆç›´æ¥å°±right--å°±ä¼šè·³è¿‡ç­”æ¡ˆ
            //æ¯”å¦‚{1,3},target=3æ—¶ï¼Œä¸åšåˆ¤æ–­å°±ä¼šä½¿ç­”æ¡ˆè¢«è·³è¿‡
            --right;
        }
    }
    return nums[left] == target;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šï¼ˆåŒ [lc154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II](https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array-ii/)ï¼‰

    - å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º O(logâ¡n)ï¼Œå¦‚æœæ•°ç»„æ˜¯éšæœºç”Ÿæˆçš„ï¼Œé‚£ä¹ˆæ•°ç»„ä¸­åŒ…å«ç›¸åŒå…ƒç´ çš„æ¦‚ç‡å¾ˆä½ï¼Œåœ¨äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½ä¼šå¿½ç•¥ä¸€åŠçš„åŒºé—´ã€‚

        è€Œåœ¨æœ€åæƒ…å†µä¸‹ï¼Œå¦‚æœæ•°ç»„ä¸­çš„å…ƒç´ å®Œå…¨ç›¸åŒï¼Œæ¯æ¬¡æ‰§è¡Œ `right = right - 1;` æ—¶é—´å¤æ‚åº¦æ˜¯ `O(N)` ã€‚  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :crossed_swords:[å‰‘æŒ‡03. æ•°ç»„ä¸­é‡å¤çš„æ•°å­—](https://leetcode.cn/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/solutions/96623/mian-shi-ti-03-shu-zu-zhong-zhong-fu-de-shu-zi-yua/)

----

### é¢˜æ„

æ‰¾å‡ºæ•°ç»„ä¸­é‡å¤çš„æ•°å­—ã€‚

åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…ã€‚æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚

ç¤ºä¾‹ 1ï¼š

```c++
è¾“å…¥ï¼š
[2, 3, 1, 0, 2, 5, 3]
è¾“å‡ºï¼š2 æˆ– 3 
```

### å‚è€ƒé¢˜è§£

1. [å¸…åœ°ç©ç¼–ç¨‹](https://leetcode.cn/problems/linked-list-cycle/solutions/175734/yi-wen-gao-ding-chang-jian-de-lian-biao-wen-ti-h-2)

> è¿™é¢˜å’Œ[287. å¯»æ‰¾é‡å¤æ•°](https://leetcode.cn/problems/find-the-duplicate-number/)ä¸ä¸€æ ·çš„ä¸¤ä¸ªç‚¹ï¼š
>
> - [287. å¯»æ‰¾é‡å¤æ•°](https://leetcode.cn/problems/find-the-duplicate-number/) 
>
>     1. **ä¸èƒ½ä¿®æ”¹** æ•°ç»„ `nums`ï¼Œå› æ­¤ä¸èƒ½ç”¨åŸåœ°äº¤æ¢çš„æ–¹å¼ã€‚
>
>     1. `nums` ä¸­ **åªæœ‰ä¸€ä¸ªæ•´æ•°** å‡ºç° **ä¸¤æ¬¡æˆ–å¤šæ¬¡** ï¼Œå…¶ä½™æ•´æ•°å‡åªå‡ºç° **ä¸€æ¬¡**
>
> è€Œè¿™ä¸€é¢˜ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—é‡å¤äº†ï¼Œä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤äº†å‡ æ¬¡ï¼Œå› æ­¤äºŒåˆ†æŸ¥æ‰¾å’Œå¿«æ…¢æŒ‡é’ˆæ³•éƒ½ä¸è¡Œ

### æ€è·¯

1. æ³•ä¸€ï¼šæ’åºæ³•
2. æ³•äºŒï¼šå“ˆå¸Œæ³•![SmartSelect_20240129_071810_Samsung Notes](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202402121958656.jpg)

3. æ³•ä¸‰ï¼š==:star: **æ ¸å¿ƒæ€è·¯ï¼š ä¸‹æ ‡æ³• + åŸåœ°äº¤æ¢   **:star:==

**:key:  keyï¼š**

- å…³é”®æ˜¯ç”¨åˆ°é¢˜ç›®æ¡ä»¶ï¼š `åœ¨ä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•°ç»„ nums é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨ 0ï½n-1 çš„èŒƒå›´å†…` 
- ![SmartSelect_20240129_071917_Samsung Notes](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202402121958703.jpeg)

**:small_red_triangle_down:  steps: **

éå†æ•°ç»„ï¼Œ

1.  å¦‚æœå½“å‰å…ƒç´ ä¸å…¶ä¸‹æ ‡ä¸ç­‰ï¼Œåˆ™å°†è¯¥å…ƒç´ nums[i]æ¢åˆ°å®ƒåº”è¯¥åœ¨çš„ä½ç½®(ä¸‹æ ‡nums[i]å¤„)
    - å¦‚æœå‘ç°å®ƒåº”è¯¥åœ¨çš„ä½ç½®nums[i]ï¼Œä¸è¯¥ä½ç½®çš„å€¼nums[nums[i]]ç›¸ç­‰ï¼ˆnums[i]==nums[nums[i]]ï¼‰ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°äº†é‡å¤å€¼ï¼Œç›´æ¥return
2.  å½“å‰å…ƒç´ ä¸å…¶ä¸‹æ ‡ç›¸ç­‰ï¼Œç›´æ¥++iè·³è¿‡

### ä»£ç 

```c++
int findRepeatDocument(vector<int>& nums) {
// int findRepeatNumber(vector<int>& nums) {
    for (int i = 0; i < nums.size(); ) {
        // å¦‚æœå½“å‰å…ƒç´ ä¸å…¶ä¸‹æ ‡ä¸ç­‰ï¼Œåˆ™å°†è¯¥å…ƒç´ nums[i]æ¢åˆ°å®ƒåº”è¯¥åœ¨çš„ä½ç½®(ä¸‹æ ‡nums[i]å¤„)
        // å¦‚æœå‘ç°å®ƒåº”è¯¥åœ¨çš„ä½ç½®nums[i]ï¼Œä¸è¯¥ä½ç½®çš„å€¼nums[nums[i]]ç›¸ç­‰ï¼ˆnums[i]==nums[nums[i]]ï¼‰ï¼Œåˆ™è¯´æ˜æ‰¾åˆ°äº†é‡å¤å€¼ï¼Œç›´æ¥return
        if (nums[i] != i) {
            if (nums[nums[i]] == nums[i]) return nums[i];
            swap(nums[i], nums[nums[i]]);
            //å°†nums[i]äº¤æ¢åˆ°å®ƒåº”è¯¥åœ¨çš„ä½ç½®-->ä¸‹æ ‡nums[i]å¤„
        }
        else ++i;
    }
    return -1;
}
```

æˆ–ç”¨whileå†™ä¹Ÿæ˜¯ä¸€æ ·ï¼š

```c++
int findaRepeatDocument(vector<int>& nums) {
// int findRepeatNumber(vector<int>& nums) {
    for (int i = 0; i < nums.size(); ++i) {
        while (nums[i] != i) {
            if (nums[nums[i]] == nums[i]) return nums[i];
            swap(nums[i], nums[nums[i]]);
            //å°†nums[i]äº¤æ¢åˆ°å®ƒåº”è¯¥åœ¨çš„ä½ç½®-->ä¸‹æ ‡nums[i]å¤„
        }
    }
    return -1;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  æœ€å¤šéå†ä¸€éæ•°ç»„

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [:fire: lc287. å¯»æ‰¾é‡å¤æ•°](https://leetcode.cn/problems/find-the-duplicate-number/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªåŒ…å« `n + 1` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œå…¶æ•°å­—éƒ½åœ¨ `[1, n]` èŒƒå›´å†…ï¼ˆåŒ…æ‹¬ `1` å’Œ `n`ï¼‰ï¼Œå¯çŸ¥è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•´æ•°ã€‚

å‡è®¾ `nums` åªæœ‰ **ä¸€ä¸ªé‡å¤çš„æ•´æ•°** ï¼Œè¿”å› **è¿™ä¸ªé‡å¤çš„æ•°** ã€‚

ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡» **ä¸ä¿®æ”¹** æ•°ç»„ `nums` ä¸”åªç”¨å¸¸é‡çº§ `O(1)` çš„é¢å¤–ç©ºé—´ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,3,4,2,2]
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [3,1,3,4,2]
è¾“å‡ºï¼š3
```

**æç¤ºï¼š**

- `1 <= n <= 105`
- `nums.length == n + 1`
- `1 <= nums[i] <= n`
- `nums` ä¸­ **åªæœ‰ä¸€ä¸ªæ•´æ•°** å‡ºç° **ä¸¤æ¬¡æˆ–å¤šæ¬¡** ï¼Œå…¶ä½™æ•´æ•°å‡åªå‡ºç° **ä¸€æ¬¡**

**è¿›é˜¶ï¼š**

- å¦‚ä½•è¯æ˜ `nums` ä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªé‡å¤çš„æ•°å­—?
- ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªçº¿æ€§çº§æ—¶é—´å¤æ‚åº¦ `O(n)` çš„è§£å†³æ–¹æ¡ˆå—ï¼Ÿ

### å‚è€ƒé¢˜è§£

1. [æ³•ä¸€ã€weiç¥](https://leetcode.cn/problems/find-the-duplicate-number/solutions/7038/er-fen-fa-si-lu-ji-dai-ma-python-by-liweiwei1419)

### æ³•ä¸€

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åœ¨ä¸€ä¸ªç¡®å®šçš„èŒƒå›´å†…æŸ¥æ‰¾ä¸€ä¸ªæ•´æ•°  :point_right:  äºŒåˆ†æŸ¥æ‰¾   **:star:==

**:key:  keyï¼š**

- è¿™ä¸ªé—®é¢˜ä½¿ç”¨æ˜¯åœ¨æ•°ç»„ `[1, 2,.., n]` ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•´æ•°ï¼Œè€Œ **å¹¶éåœ¨è¾“å…¥æ•°ç»„æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªæ•´æ•°**ã€‚
- æŠ½å±‰åŸç†ï¼šmä¸ªæŠ½å±‰è£…äº†æ•°é‡>mçš„è‹¹æœé‚£ä¹ˆä¸€å®šæœ‰å¤šä¸ªè‹¹æœè¢«è£…åˆ°åŒä¸€æŠ½å±‰

2. ![image-20240207223844919](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202402072238983.png)

#### ä»£ç 

```c++
int findDuplicate(vector<int>& nums) {
    int left = 1, right = nums.size() - 1;//æ•°ç»„é•¿åº¦ä¸ºn+1,å› æ­¤nums.size()-1å°±æ˜¯n
    while (left < right) { //åœ¨å€¼1~nä¸­æŸ¥æ‰¾numsä¸­é‡å¤çš„å…ƒç´ 
        int mid = (left + right) / 2;//å¯¹äºå€¼mid
        int cnt = 0;//ç»Ÿè®¡<=midçš„å€¼çš„ä¸ªæ•°
        for (int num : nums) {
            if (num <= mid) cnt++;
        }
        //æŠ½å±‰åŸç†
        //å¯¹äºå€¼mid, å¦‚æœ<=midçš„å€¼ä¸­æ²¡æœ‰é‡å¤å€¼, é‚£ä¹ˆæœ€å¤š1~midå…±midä¸ª <=midçš„å€¼
        //å¦‚æœè¶…è¿‡äº†, å°±è¯´æ˜<=midçš„å€¼ä¸­æœ‰é‡å¤å€¼ï¼Œå› æ­¤å°±å¯ä»¥ç¼©å°é‡å¤å€¼çš„æŸ¥æ‰¾èŒƒå›´è‡³left~mid 
        if (cnt > mid) right = mid;//é‡å¤å€¼åœ¨left~midçš„èŒƒå›´å†…
        else left = mid + 1;//è¯´æ˜é‡å¤å€¼ä¸åœ¨left~midçš„èŒƒå›´å†…ï¼Œè€Œåœ¨mid+1~rightä¸­
    } 
    return left;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


### æ³•äºŒ

==:star: **æ ¸å¿ƒæ€è·¯ï¼šå¿«æ…¢åŒæŒ‡é’ˆ   **:star:==

**:key:  keyï¼š**

- ![image-20240208103927090](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202402081039296.png)

- æ‰¾ç¯å…¥å£å°±è·Ÿ [141. ç¯å½¢é“¾è¡¨](https://leetcode-cn.com/problems/linked-list-cycle/)ï¼Œ[142. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/solution/huan-xing-lian-biao-ii-by-leetcode/) ä¸€æ ·å•¦

    > ã€ŒFloyd åˆ¤åœˆç®—æ³•ã€ï¼ˆé¾Ÿå…”èµ›è·‘ç®—æ³•ï¼‰ï¼Œç”¨äºç¯å…¥å£

#### ä»£ç 

```c++
int findDuplicate(vector<int>& nums) {
    int slow = 0, fast = 0;
    // å¦‚æœç›´æ¥ç”¨while (slow != fast)é‚£ä¹ˆä¸€å¼€å§‹slowå°±=fastå°±ä¸ä¼šè¿›å…¥å¾ªç¯
    do{
        slow = nums[slow];
        fast = nums[nums[fast]]; 
    }while (slow != fast);
    slow = 0;
    while (slow != fast) {
        slow = nums[slow];
        fast = nums[fast]; 
    }
    return slow;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :fire:[704. äºŒåˆ†æŸ¥æ‰¾](https://leetcode.cn/problems/binary-search/)

### é¢˜æ„

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [-1,0,3,5,9,12], target = 9
è¾“å‡º: 4
è§£é‡Š: 9 å‡ºç°åœ¨ nums ä¸­å¹¶ä¸”ä¸‹æ ‡ä¸º 4
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [-1,0,3,5,9,12], target = 2
è¾“å‡º: -1
è§£é‡Š: 2 ä¸å­˜åœ¨ nums ä¸­å› æ­¤è¿”å› -1
```

**æç¤ºï¼š**

1. ä½ å¯ä»¥å‡è®¾ `nums` ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚
2. `n` å°†åœ¨ `[1, 10000]`ä¹‹é—´ã€‚
3. `nums` çš„æ¯ä¸ªå…ƒç´ éƒ½å°†åœ¨ `[-9999, 9999]`ä¹‹é—´ã€‚

### ä»£ç 

```cpp
int search(vector<int>& nums, int target) {
    int left = 0;
    int right = nums.size() - 1;
    while (left < right) {
        int mid = (left + right) / 2;
        if (nums[mid] < target) {
            left = mid + 1;
        } else if (nums[mid] > target) {
            right = mid;
        } else {
            return mid;
        }
    }
    return nums[left] == target ? left : -1;
}
```

## [lc374. çŒœæ•°å­—å¤§å°](https://leetcode.cn/problems/guess-number-higher-or-lower/)

### é¢˜æ„

:  å¯¹æ–¹ä»1åˆ°né€‰ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘å¯ä»¥é€šè¿‡è°ƒç”¨guess API: `int guess(int num)`æ¥åˆ¤æ–­æˆ‘çŒœçš„æ•°numæ¯”å¯¹æ–¹é€‰çš„æ•°å¤§ï¼ˆè¿”å›-1ï¼‰è¿˜æ˜¯å°ï¼ˆè¿”å›1ï¼‰è¿˜æ˜¯ç›¸ç­‰ï¼ˆè¿”å›0ï¼‰ï¼Œè¦æ±‚è¿”å›å¯¹æ–¹é€‰å‡ºçš„æ•°å­—ã€‚

```c++
è¾“å…¥ï¼šn = 10, pick = 6
è¾“å‡ºï¼š6
```

### ä»£ç 

```c++
 int guessNumber(int n) {
    int left = 0, right = n;//é€‰çš„æ•°å­—åœ¨1~nä¹‹é—´
    while (left < right) {  
        int mid = left + (right - left) / 2;
        int x = guess(mid);//xæ˜¯çŒœæµ‹ç»“æœ
        //å¦‚æœguess(n)è¿”å›0ï¼Œåˆ™ç›´æ¥è¿”å›n
        if (x == 0) return mid;
        //å¦‚æœè¿”å›-1ï¼Œè¯´æ˜å®é™…é€‰çš„æ•°å­—æ¯”æˆ‘çŒœçš„å°ï¼Œæ‰€ä»¥æˆ‘è¦å¾€å°äº†çŒœ
        else if (x == -1) right = mid;
        //å¦‚æœè¿”å›1ï¼Œè¯´æ˜å®é™…é€‰çš„æ•°å­—æ¯”æˆ‘çŒœçš„å¤§ï¼Œæ‰€ä»¥æˆ‘è¦å¾€å¤§äº†çŒœ
        else if (x == 1) left = mid + 1;
    }
    return left;
 }
```

##  [lc35. æœç´¢æ’å…¥ä½ç½®](https://leetcode.cn/problems/search-insert-position/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªå‡åºæ•°ç»„å’Œç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

```cpp
//ç¤ºä¾‹1ï¼š
è¾“å…¥: nums = [1,3,5,6], target = 2
è¾“å‡º: 1
//ç¤ºä¾‹ 2ï¼š
è¾“å…¥: nums = [1,3,5,6], target = 7
è¾“å‡º: 4
```

### ä»£ç 

```cpp
int searchInsert(vector<int>& nums, int target) {
    int left = 0, right = nums.size();
    /* ã€å…³äºrightçš„åˆå§‹åŒ–ã€‘
    å› ä¸ºè¯¥é¢˜nums.size()æ˜¯æœ‰å¯èƒ½æˆä¸ºç­”æ¡ˆçš„ï¼Œæ‰€ä»¥å¯ä»¥åˆå§‹åŒ–ä¸ºnums.size()ï¼Œç›¸æ¯”åˆå§‹åŒ–ä¸ºnums.size()-1ä¼šå°‘ä¸€æ¬¡åˆ¤æ–­ã€‚åªæœ‰åœ¨nums.size()ä¸å¯èƒ½æ˜¯ç­”æ¡ˆçš„æƒ…å†µä¸‹ï¼Œæ‰å¿…é¡»åˆå§‹åŒ–ä¸ºnums.size()-1ã€‚rightçš„åˆå§‹åŒ–å’Œã€Œå·¦é—­å³å¼€ã€è¿˜æ˜¯ã€Œå·¦é—­å³é—­ã€æ¯«æ— å…³ç³»ã€‚

    ä¹Ÿå°±æ˜¯è¯´ï¼šè®¾ç½®çš„åˆå§‹æœç´¢åŒºé—´[left,right]æ˜¯ä»€ä¹ˆï¼Œè¦çœ‹é¢˜ç›®æ€ä¹ˆè¯´ã€‚

    ä¹Ÿå¯ä»¥å°†rightåˆå§‹åŒ–ä¸ºnums.size()-1ï¼Œé‚£æ¥ä¸‹æ¥æŸ¥æ‰¾çš„èŒƒå›´å°±æ˜¯0~nums.size()-1ï¼Œå› æ­¤å¯¹äºæ•°ç»„æ‰€æœ‰å…ƒç´ éƒ½å°äºtargetçš„æƒ…å†µï¼Œç”±äºtargetè¦æ’åˆ°nums.size()ï¼Œnums.size()ä¸åœ¨åˆå§‹è®¾å®šçš„æŸ¥æ‰¾èŒƒå›´[0,nums.size()-1]ä¸­ï¼Œå› æ­¤åšä¸ªç‰¹åˆ¤å°±å¥½äº†ï¼Œå¦‚ä¸‹ï¼š
    int left = 0, right = nums.size() - 1;
    if (nums[num.size() - 1] < target) return nums.size();*/
    
    while (left < right) {  
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) left = mid + 1;
        //æ¯”midå°çš„å…ƒç´ åŠå…¶å·¦è¾¹çš„å…ƒç´ éƒ½ä¸å¯èƒ½æ˜¯æ’å…¥ä½ç½®
        else right = mid;
    }
    return left;

    // æ³•äºŒã€æŠŠå¯èƒ½çš„ç­”æ¡ˆç”¨ansä¿å­˜èµ·æ¥ï¼Œå› æ­¤åˆå§‹åº”è¯¥ä¸ºnums.size()ã€‚
    //è¿™ç§è§£æ³•ç±»ä¼¼lc34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® å…¶ä¸­çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œç”±äºæœ‰äº† ans å˜é‡ï¼Œå¹¶ä¸”åœ¨ if å’Œ else è¯­å¥ä¸­ left ä¸€å®šæ˜¯ mid + 1ï¼Œright ä¸€å®šæ˜¯ mid - 1ï¼Œè¿™ç§æƒ…å†µä¸ä¼šå‡ºç°æ­»å¾ªç¯ï¼Œæ‰€ä»¥ while é‡Œé¢å¯ä»¥å†™ left <= rightã€‚
    
    // int left = 0, right = nums.size() - 1, ans = nums.size();
    // while (left <= right) {
    //     int mid = left + (right - left) / 2;
    //     if (target <= nums[mid]) {
    //         ans = mid;//ä¿å­˜å¯èƒ½çš„ç­”æ¡ˆ
    //         right = mid - 1;
    //     } else left = mid + 1;
    // }
    // return ans;
}
```

## [lc278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬](https://leetcode.cn/problems/first-bad-version/)

### é¢˜æ„

æœ‰ `n` ä¸ªç‰ˆæœ¬ `[1...n]`ï¼Œé”™è¯¯çš„ç‰ˆæœ¬ä¹‹åçš„æ‰€æœ‰ç‰ˆæœ¬éƒ½æ˜¯é”™çš„ï¼Œè¯·å®ç°ä¸€ä¸ªå‡½æ•°æ‰¾å‡ºç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚

ä½ å¯ä»¥é€šè¿‡è°ƒç”¨ `bool isBadVersion(version)` æ¥å£æ¥åˆ¤æ–­ç‰ˆæœ¬å· `version` æ˜¯å¦åœ¨å•å…ƒæµ‹è¯•ä¸­å‡ºé”™ã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šn = 5, bad = 4
è¾“å‡ºï¼š4
è§£é‡Šï¼š
è°ƒç”¨ isBadVersion(3) -> false 
è°ƒç”¨ isBadVersion(5) -> true 
è°ƒç”¨ isBadVersion(4) -> true
æ‰€ä»¥ï¼Œ4 æ˜¯ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ã€‚
```

### ä»£ç 

```c++
int firstBadVersion(int n) {
    int left = 1, right = n;
    // ç‰ˆæœ¬1ã€
    while (left <= right) {
        int mid = left + (right - left) / 2;
        bool isBad = isBadVersion(mid);
        if (isBad) right = mid - 1;//å³è¾¹ç•Œå¾€å·¦æ”¶ç¼©
        //å³ä½¿ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬å·å°±æ˜¯mid,åright=mid-1ä¼šå°†ç»“æœmidå¼„å‡ºåŒºé—´ï¼Œä¹Ÿæ²¡å…³ç³»
        //å› ä¸ºå¾ªç¯æ¡ä»¶æ˜¯left==right,å› æ­¤left=rightæ—¶è¿˜ä¼šè¿›å…¥å¾ªç¯ï¼Œæ­¤æ—¶åŒºé—´åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œ
        //è‹¥è¿™ä¸ªå…ƒç´ isBad=trueåˆ™è¿™ä¸ªå…ƒç´ å°±æ˜¯ç»“æœï¼Œå¦åˆ™left=mid+1,ä¸åœ¨å½“å‰åŒºé—´çš„mid+1å°±æ˜¯ç»“æœ
        else left = mid + 1;//å·¦è¾¹ç•Œå¾€å³æ”¶ç¼©
    }
    return left;//é€€å‡ºå¾ªç¯æ—¶left==right,åŒºé—´ç¼©ä¸ºä¸€ä¸ªç‚¹

    // ç‰ˆæœ¬2ã€
    while (left < right) { //å¾ªç¯ç›´è‡³åŒºé—´å·¦å³ç«¯ç‚¹ç›¸åŒ
        //å¦‚æœå–=,ç”±äºisBad=trueæ—¶ä¼šright=mid,å› æ­¤ä¼šæ­»å¾ªç¯
        int mid = left + (right - left) / 2;
        bool isBad = isBadVersion(mid);
        if (isBad) right = mid;//å³è¾¹ç•Œå¾€å·¦æ”¶ç¼©
        else left = mid + 1;//å·¦è¾¹ç•Œå¾€å³æ”¶ç¼©
    }
    return left;//é€€å‡ºå¾ªç¯æ—¶left==right,åŒºé—´ç¼©ä¸ºä¸€ä¸ªç‚¹
}
```

## [lc441. æ’åˆ—ç¡¬å¸](https://leetcode.cn/problems/arranging-coins/)

### é¢˜æ„

ä½ æ€»å…±æœ‰ `n` æšç¡¬å¸ï¼Œå¹¶è®¡åˆ’å°†å®ƒä»¬æŒ‰é˜¶æ¢¯çŠ¶æ’åˆ—ã€‚å¯¹äºä¸€ä¸ªç”± `k` è¡Œç»„æˆçš„é˜¶æ¢¯ï¼Œå…¶ç¬¬ `i` è¡Œå¿…é¡»æ­£å¥½æœ‰ `i` æšç¡¬å¸ã€‚é˜¶æ¢¯çš„æœ€åä¸€è¡Œ **å¯èƒ½** æ˜¯ä¸å®Œæ•´çš„ã€‚

ç»™ä½ ä¸€ä¸ªæ•°å­— `n` ï¼Œè®¡ç®—å¹¶è¿”å›å¯å½¢æˆ **å®Œæ•´é˜¶æ¢¯è¡Œ** çš„æ€»è¡Œæ•°ã€‚

```c++
è¾“å…¥ï¼šn = 5
è¾“å‡ºï¼š2
è§£é‡Šï¼šå› ä¸ºç¬¬ä¸‰è¡Œä¸å®Œæ•´ï¼Œæ‰€ä»¥è¿”å› 2 ã€‚
    
è¾“å…¥ï¼šn = 8
è¾“å‡ºï¼š3
è§£é‡Šï¼šå› ä¸ºç¬¬å››è¡Œä¸å®Œæ•´ï¼Œæ‰€ä»¥è¿”å› 3 ã€‚
```

### ä»£ç 

```c++
int arrangeCoins(int n) {
    // å‰kä¸ªå®Œæ•´é˜¶æ¢¯æ‰€éœ€ç¡¬å¸æ•°é‡ä¸ºï¼šk(k+1)/2 <= n

    // æ³•ä¸€ã€æ•°å­¦
    // k(k+1)/2 <= n ç§»é¡¹åå˜ä¸º(k+1/2)^2<=1/4+2n,è§£å¾—k<=(sqrt(8n+1)-1)/2,å› æ­¤å¯ä»¥å®Œæ•´æ’åˆ—çš„è¡Œæ•°ä¸ºâŒŠ (sqrt(8n+1)-1)/2 âŒ‹, å‘ä¸‹å–æ•´
    return (int) ((sqrt((long long) 8 * n + 1) - 1) / 2);

    // æ³•äºŒã€äºŒåˆ†
    // å› ä¸ºéšç€è¡Œæ•°çš„å¢åŠ æ‰€éœ€è¦çš„ç¡¬å¸æ•°ä¹Ÿæ˜¯å•è°ƒé€’å¢çš„
    // æ±‚æ’midè¡Œç”¨çš„ç¡¬å¸æ•°ä¸è¶…è¿‡nçš„æœ€å¤§midè§£
    int left = 0, right = n;
    while (left <= right) {
        long mid = left + (right - left) / 2;
        long coins = ((mid + 1) * mid) / 2;
        if (coins == n) return mid;
        else if (coins < n) left = (int)mid + 1;
        //å¦‚æœå†™æˆleft=midå°±ä¼šå˜æˆæ­»å¾ªç¯ï¼Œå› ä¸ºè¿™æ ·ä¹‹åmidå°±ä¸€ç›´éƒ½æŒ‡å‘leftï¼Œmidå’Œleftéƒ½æ›´æ–°ä¸äº†
        else right = (int)mid - 1;
    } 
    return right;//æœ€årightä¼š<left
}
```



## [:fire: lc34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)

### é¢˜æ„

æœ‰éé€’å‡é¡ºåºçš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ `target`ï¼Œè¿”å› `[-1, -1]`ã€‚

```c++
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šnums = [5,7,7,8,8,10], target = 8
è¾“å‡ºï¼š[3,4]

ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šnums = [2,2], target = 2
è¾“å‡ºï¼š[0,1]
```

==:star: **æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ†æŸ¥æ‰¾ **:star:==

### æ³•ä¸€

åˆ†å¼€ä¸¤æ¬¡æ‰¾ç¬¬ä¸€ä¸ªtargetçš„ä½ç½®å’Œæœ€åä¸€ä¸ªtargetçš„ä½ç½®ã€‚

```c++
int binarySearchStart(vector<int>& nums, int target) {
    int left = 0, right = nums.size() - 1;
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (nums[mid] < target) left = mid + 1;
        else right = mid;
    }
    return nums[left] == target ? left : -1;
}
int binarySearchEnd(vector<int>& nums, int target, int left) {
    int right = nums.size() - 1;
    while (left < right) {
        int mid = left + (right - left + 1) / 2;
        if (nums[mid] > target) right = mid - 1;
        else left = mid;
    }
    return nums[left] == target ? left : -1;
}
vector<int> searchRange(vector<int>& nums, int target) {
    if (nums.size() == 0) return {-1,-1};
    int start = binarySearchStart(nums, target);//æ‰¾ç¬¬ä¸€ä¸ªtargetçš„ä½ç½®
    if (start == -1) return {-1, -1};
    int end = binarySearchEnd(nums, target, start);//æ‰¾æœ€åä¸€ä¸ªtargetçš„ä½ç½®
    return {start, end};
}
```

### æ³•äºŒ

å…ˆæ‰¾>=targetçš„ç¬¬ä¸€ä¸ªï¼Œå†æ‰¾>targetçš„ç¬¬ä¸€ä¸ªã€‚

```c++
vector<int> searchRange(vector<int>& nums, int target) {
    int len = nums.size(), left = 0, right = len - 1; 
    int start = binary_search(nums, target);//æ‰¾>=targetçš„ç¬¬ä¸€ä¸ª
    int end = binary_search(nums, target + 1) - 1;// æ‰¾>targetç¬¬ä¸€ä¸ªå…ƒç´ ä¸‹æ ‡åå‡1
    if (start <= end) return vector<int>{start, end};
    return vector<int>{-1, -1};
}
int binary_search(vector<int>& nums, int tar) {
    int left = 0, right = nums.size() - 1;
    while (left <= right) {
        int mid = (left + right) / 2;
        if (nums[mid] >= tar) right = mid - 1;
        else left = mid + 1;
    }
    return left;
}
```

## :fire:[69. x çš„å¹³æ–¹æ ¹ ](https://leetcode.cn/problems/sqrtx/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° `x` ï¼Œè®¡ç®—å¹¶è¿”å› `x` çš„ **ç®—æœ¯å¹³æ–¹æ ¹** ã€‚

ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ **æ•´æ•°éƒ¨åˆ†** ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« **èˆå»** 

**æ³¨æ„ï¼š**ä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚ `pow(x, 0.5)` æˆ–è€… `x ** 0.5` ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šx = 4
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šx = 8
è¾“å‡ºï¼š2
è§£é‡Šï¼š8 çš„ç®—æœ¯å¹³æ–¹æ ¹æ˜¯ 2.82842..., ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚
```

**æç¤ºï¼š**

- `0 <= x <= 231 - 1`

### ä»£ç 

æ³¨æ„æç¤ºè¯´`0 <= x <= 231 - 1`ï¼Œå› æ­¤è¦æ³¨æ„è¶Šç•Œçš„é—®é¢˜ã€‚

```c++
int mySqrt(int x) {
    /* äºŒåˆ† */
    if (x == 0) return 0;
    int left = 1; 
    int right = x / 2; 
    while (left < right) {
        int i = left + (right - left + 1) / 2;
        long long sqare = (long long) i * i;
        if (sqare < x) {
            left = i;
        } else if (sqare == x) {
            return i;
        } else {
            right = i - 1;
        }
    }
    return left;
}
```

## [540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ ](https://leetcode.cn/problems/single-element-in-a-sorted-array/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªä»…ç”±æ•´æ•°ç»„æˆçš„æœ‰åºæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ã€‚

è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›åªå‡ºç°ä¸€æ¬¡çš„é‚£ä¸ªæ•°ã€‚

ä½ è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»æ»¡è¶³ `O(log n)` æ—¶é—´å¤æ‚åº¦å’Œ `O(1)` ç©ºé—´å¤æ‚åº¦ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [1,1,2,3,3,4,4,8,8]
è¾“å‡º: 2
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums =  [3,3,7,7,10,11,11]
è¾“å‡º: 10
```

**æç¤º:**

- `1 <= nums.length <= 105`
- `0 <= nums[i] <= 105`

### æ€è·¯

> å¦‚æœä¸ç®¡é¢˜ç›®è¦æ±‚"`O(log n)` æ—¶é—´å¤æ‚åº¦å’Œ `O(1)` ç©ºé—´å¤æ‚åº¦"çš„è¯ï¼Œå¯ä»¥ç”¨:fire:[136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode.cn/problems/single-number/)ä¸€æ ·çš„æ€è·¯åšã€‚

==:star: æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ† :star:==

è¯¥é¢˜çš„äºŒæ®µæ€§ä¸º01ï¼Œå³é€šè¿‡midä¸å‰ä¸€ä½ï¼ˆmidä¸ºå¥‡æ•°ï¼‰æˆ–åä¸€ä½ï¼ˆmidä¸ºå¶æ•°ï¼‰çš„æ¯”è¾ƒï¼Œèƒ½ç¡®å®šå•ä¸€å…ƒç´ ä¸€å®šå‡ºç°åœ¨å“ªä¸ªåŒºé—´ï¼ˆ1ï¼‰ï¼Œä¸€å®šä¸ä¼šå‡ºç°åœ¨å…¶å®ƒåŒºé—´ï¼ˆ0ï¼‰.

### ä»£ç 

åŸå§‹ç‰ˆæœ¬

```c++
int singleNonDuplicate(vector<int>& nums) { 
    if (nums.size() == 1) {
        return nums[0];
    }
    int left = 0;
    int right = nums.size() - 1;
    while (left < right) {
        int mid = (left + right) / 2;
        if (mid % 2 == 0) {
            if (nums[mid] != nums[mid + 1]) {
                right = mid;
            } else {
                left = mid + 2;
            }
        } else {
            if (nums[mid] != nums[mid - 1]) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }
    }
    return nums[left];
}
```

æˆ‘ä»¬å‘ç°åŸå§‹ç‰ˆæœ¬ä¸­ä»£ç é‡åˆåº¦å¾ˆé«˜ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿä¸€æ‰§è¡Œé€»è¾‘ä¸º`right = mid;`å’Œ`left = mid + 1;`ï¼Œç„¶åå†å°†åˆ†æ”¯åˆå¹¶ã€‚

æ€ä¹ˆå°†`if (nums[mid] == nums[mid + 1])`å’Œ`if (nums[mid] == nums[mid - 1])`åˆå¹¶å‘¢ï¼Ÿ

â€”â€” ä½¿ç”¨`^`å¼‚æˆ–ï¼

- å¯¹äºå¶æ•°midï¼Œå…¶ä¸1å¼‚æˆ–ä¹‹åç›¸å½“äºåŠ 1ï¼Œå³mid^1=mid+1 (midä¸ºå¶)

    > å¶æ•°çš„æœ€ä½ä½ä¸º0ï¼Œä¸1ï¼ˆ0Â·Â·01ï¼‰å¼‚æˆ–ä¹‹åï¼Œå…¶å®ƒä½ä¸å˜ï¼Œæœ€ä½ä½å˜æˆ1

- å¯¹äºå¥‡æ•°midï¼Œå…¶ä¸1å¼‚æˆ–ä¹‹åç›¸å½“äºå‡1ï¼Œå³mid^1=mid-1 (midä¸ºå¥‡)

    > å¥‡æ•°æ•°çš„æœ€ä½ä½ä¸º1ï¼Œä¸1ï¼ˆ0Â·Â·01ï¼‰å¼‚æˆ–ä¹‹åï¼Œå…¶å®ƒä½ä¸å˜ï¼Œæœ€ä½ä½å˜æˆ0

æœ€ç»ˆç‰ˆæœ¬ï¼š

```c++
int singleNonDuplicate(vector<int>& nums) {
    int left = 0, right = nums.size() - 1;
    while (left < right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] == nums[mid ^ 1]) left = mid + 1; 
            else right = mid;  
    } 
    return nums[left];
}
```

## [lc275. H æŒ‡æ•° II](https://leetcode.cn/problems/h-index-ii/)

### é¢˜æ„

ç»™ä¸€ä¸ªå‡åºæ•´æ•°æ•°ç»„ `citations` ï¼Œ `citations[i]` è¡¨ç¤ºç ”ç©¶è€…çš„ç¬¬ `i` ç¯‡è®ºæ–‡è¢«å¼•ç”¨çš„æ¬¡æ•° ã€‚è®¡ç®—å¹¶è¿”å›è¯¥ç ”ç©¶è€…çš„ h æŒ‡æ•°ã€‚

[h æŒ‡æ•°çš„å®šä¹‰](https://baike.baidu.com/item/h-index/3991452?fr=aladdin)ï¼š æŒ‡çš„æ˜¯ç ”ç©¶è€…çš„ ï¼ˆ`n` ç¯‡è®ºæ–‡ä¸­ï¼‰**è‡³å°‘** æœ‰ `h` ç¯‡è®ºæ–‡éƒ½è¢«å¼•ç”¨äº†**è‡³å°‘** `h` æ¬¡ã€‚

æç¤ºï¼š`0 <= citations[i] <= 1000`

```c++
è¾“å…¥ï¼šcitations = [0,1,3,5,6]
è¾“å‡ºï¼š3
è§£é‡Šï¼šç»™å®šæ•°ç»„è¡¨ç¤ºç ”ç©¶è€…æ€»å…±æœ‰ 5 ç¯‡è®ºæ–‡ï¼Œæ¯ç¯‡è®ºæ–‡ç›¸åº”çš„è¢«å¼•ç”¨äº† 0, 1, 3, 5, 6 æ¬¡ã€‚
     ç”±äºç ”ç©¶è€…æœ‰3ç¯‡è®ºæ–‡æ¯ç¯‡ è‡³å°‘ è¢«å¼•ç”¨äº† 3 æ¬¡ï¼Œå…¶ä½™ä¸¤ç¯‡è®ºæ–‡æ¯ç¯‡è¢«å¼•ç”¨ ä¸å¤šäº 3 æ¬¡ï¼Œæ‰€ä»¥å¥¹çš„ h æŒ‡æ•°æ˜¯ 3 ã€‚
```

æ­¤é¢˜å…³é”®åœ¨äºç†è§£é¢˜æ„ï¼ï¼ï¼

**åˆ†æé¢˜æ„ï¼š**

æ³¨æ„ï¼ï¼ï¼h æŒ‡æ•°æ˜¯ è®ºæ–‡æ•°é‡ï¼Œä¸æ˜¯å¼•ç”¨æ¬¡æ•°ï¼ï¼ï¼

The h-index is defined as ã€the maximum value of hã€‘ such that the given researcher has published at least h papers that have each been cited at least h times.ï¼ˆthe true least cited times may > h, so we should return æ»¡è¶³è¦æ±‚çš„åŒºé—´é•¿åº¦ï¼Œè€Œä¸æ˜¯è‡³å°‘è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼‰

æ€»ä¹‹å°±æ˜¯ï¼Œæˆ‘ä»¬è¦è¿”å›é€‰å–çš„åŒºé—´çš„é•¿åº¦ï¼Œè€Œæˆ‘ä»¬é€‰å–çš„åŒºé—´è¦æ»¡è¶³ï¼šåŒºé—´ä¸­çš„æ•°>=åŒºé—´çš„é•¿åº¦ã€‚

æ ¸å¿ƒæ˜¯æˆ‘ä»¬è¦è¿”å›é€‰å–çš„åŒºé—´çš„é•¿åº¦ï¼Œè€Œæˆ‘ä»¬é€‰å–çš„åŒºé—´è¦æ»¡è¶³ï¼šåŒºé—´ä¸­çš„æ•°>=åŒºé—´çš„é•¿åº¦ã€‚

å¯ä»¥å°†hæŒ‡æ•°çš„å®šä¹‰è°ƒæ•´ä¸ºè¿™æ ·ç†è§£ï¼šå­˜åœ¨ä¸€ä¸ªæ•°é‡hï¼Œä½¿å¾—è¿™hç¯‡è®ºçš„å¼•ç”¨æ¬¡æ•°å‡å¤§äºç­‰äºhã€‚è¿™æ ·çš„æ•°å€¼ç§°ä¸ºhæŒ‡æ•°ã€‚

![image-20231207215800290](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312072158336.png)

### ä»£ç 

```c++
int hIndex(vector<int>& citations) {
    int n = citations.size();
    if (citations[n - 1] == 0) return 0;//å¦‚æœå…¨éƒ¨æ–‡ç« çš„å¼•ç”¨æ¬¡æ•°éƒ½ä¸º 0ï¼Œåˆ™ h æŒ‡æ•°ä¸º 0
    int left = 0, right = n - 1;
    while (left < right) {
        int mid = left + (right - left) / 2;
        // citations[mid] è¡¨ç¤ºåˆ†å‰²çº¿å³è¾¹çš„æ–‡ç« çš„æœ€å°‘å¼•ç”¨çš„æ¬¡æ•°
        // å¦‚æœ åŒºé—´ä¸­çš„æ•°(çœ‹å·¦è¾¹ç•Œå€¼å°±å¥½) < åŒºé—´çš„é•¿åº¦,æ¯”å¦‚[0,| 1, 3, 5, 6], è¯´æ˜åˆ†å‰²çº¿å¤ªé å·¦äº†ï¼Œä¸‹ä¸€è½®åº”è¯¥å¾€å³è¾¹æ‰¾
        if (citations[mid] < n - mid) left = mid + 1;
        //å¦åˆ™è¯´æ˜ åŒºé—´ä¸­çš„æ•° > åŒºé—´çš„é•¿åº¦,æ­¤æ—¶çš„åŒºé—´é•¿åº¦å¯èƒ½æ˜¯ç»“æœï¼Œæˆ‘ä»¬è¦ç»§ç»­å¾€å·¦æ‰¾çœ‹æ˜¯å¦æœ‰æ›´é•¿çš„ç»“æœ
        else right = mid;
    }
    return n - left;//è¿”å›åŒºé—´é•¿åº¦
}
```

## [lc436. å¯»æ‰¾å³åŒºé—´](https://leetcode.cn/problems/find-right-interval/)

### é¢˜æ„

:  åŒºé—´æ•°ç»„ `intervals` ä¸­ intervals[i] = [start ~i~ , end ~i~] ï¼Œä¸”**æ¯ä¸ª start ~i~ éƒ½ä¸åŒ** ã€‚å¯¹äºæ¯ä¸ªåŒºé—´intervals[i]ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶ç´¢å¼•`i`è¡¨ç¤ºã€‚

 `i` çš„ **å³ä¾§åŒºé—´** å¯ä»¥è®°ä½œåŒºé—´ `j` ï¼Œå¹¶æ»¡è¶³ start ~j~ >= end ~i~ ï¼Œä¸” **start ~j~ æœ€å°åŒ–** ã€‚æ³¨æ„ `i` å¯èƒ½ç­‰äº `j` ã€‚

è¿”å›ä¸€ä¸ªç”±æ¯ä¸ªåŒºé—´ `i` çš„ **å³ä¾§åŒºé—´** å¯¹åº”ä¸‹æ ‡ç»„æˆçš„æ•°ç»„ã€‚å¦‚æœæŸä¸ªåŒºé—´ `i` ä¸å­˜åœ¨å¯¹åº”çš„ **å³ä¾§åŒºé—´** ï¼Œåˆ™ç»“æœæ•°ç»„çš„ä¸‹æ ‡ `i` çš„å€¼ä¸º `-1` ã€‚

```cpp
ç¤ºä¾‹ 1ï¼š
è¾“å…¥ï¼šintervals = [[3,4],[2,3],[1,2]]
è¾“å‡ºï¼š[-1,0,1]
è§£é‡Šï¼šå¯¹äº [3,4] ï¼Œæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„â€œå³ä¾§â€åŒºé—´ã€‚
          å¯¹äº [2,3] ï¼ŒåŒºé—´[3,4]å…·æœ‰æœ€å°çš„â€œå³â€èµ·ç‚¹;
          å¯¹äº [1,2] ï¼ŒåŒºé—´[2,3]å…·æœ‰æœ€å°çš„â€œå³â€èµ·ç‚¹ã€‚
ç¤ºä¾‹ 2ï¼š
è¾“å…¥ï¼šintervals = [[1,4],[2,3],[3,4]]
è¾“å‡ºï¼š[-1,2,-1]
è§£é‡Šï¼šå¯¹äºåŒºé—´ [1,4] å’Œ [3,4] ï¼Œæ²¡æœ‰æ»¡è¶³æ¡ä»¶çš„â€œå³ä¾§â€åŒºé—´ã€‚
	  å¯¹äº [2,3] ï¼ŒåŒºé—´ [3,4] æœ‰æœ€å°çš„â€œå³â€èµ·ç‚¹ã€‚
```

æ€»ç»“é¢˜æ„ï¼šå¯¹äºæ¯ä¸€ä¸ªinterval[i], éƒ½è¦å¾€åçœ‹ï¼Œæ˜¯å¦å­˜åœ¨interval[j]ï¼Œä½¿å¾—`interval[j][0] `>= `interval[i][1] `(j > i)ï¼Œè‹¥å­˜åœ¨ï¼Œæ‰¾åˆ°`interval[j][0]`å€¼æœ€å°çš„é‚£ä¸ªjï¼Œå¹¶è¿”å›j,å¦åˆ™è¿”å›-1ã€‚æ³¨æ„åˆ°æç¤ºè¯´startä¸é‡å¤ï¼Œä¹Ÿå³`interval[j][0]`ä¸ä¼šé‡å¤ã€‚

### æ³•ä¸€

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å…ˆæ’åºï¼ŒåäºŒåˆ†   **:star:==

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆè¦æ’åºï¼Ÿä¸ºä»€ä¹ˆæƒ³åˆ°ç”¨äºŒåˆ†ï¼Ÿ
2. æ ¹æ®ä»€ä¹ˆæ’åºï¼Ÿ
3. é€‰æ‹©ä»€ä¹ˆæ•°æ®ç»“æ„?

:heavy_check_mark:  **answer:** 

1. å› ä¸ºå¯¹äºæ¯ä¸€ä¸ªinterval[i]ï¼Œè¦æ‰¾ä¸€ä¸ªstartï¼ˆå³`interval[j][0]`ï¼‰æœ€å°çš„`interval[j]`ï¼Œæ»¡è¶³`interval[j][0]` >= `interval[i][1]`ï¼Œè¿”å›å…¶ä¸‹æ ‡ jã€‚**çœ‹åˆ°å…³é”®å­—ã€Œå¤§äºç­‰äºã€ï¼Œæ˜¾ç„¶éœ€è¦ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ï¼Œè€ŒäºŒåˆ†æŸ¥æ‰¾æ˜¯è¦åœ¨æœ‰åºçš„æ¡ä»¶ä¸‹è¿›è¡Œï¼Œå› æ­¤éœ€è¦æ’åºã€‚**è€Œä¸”ä¸æ’åºçš„è¯é‚£ä¸å°±åªèƒ½æš´åŠ›éå†äº†å—ï¼Œæš´åŠ›éå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼Œè€Œæ’ä¸ªåºåªéœ€è¦O(logn)ï¼Œç®—ä¸Šä¹‹åéå†intervalsçš„æ—¶é—´ä¹Ÿå°±O(nlogn)

2. å› ä¸ºè¦äºŒåˆ†æŸ¥æ‰¾ >= `interval[i][1]`çš„æœ€å°çš„`interval[j][0]`ï¼Œ`interval[i][1]`å›ºå®šï¼Œæ‰¾`interval[j][0]`ï¼Œå› æ­¤`interval[j][0]`å°±ç›¸å½“äºè¦æŸ¥æ‰¾çš„key

3. é€‰æ‹©ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„å°±è¦æƒ³æ¸…æ¥šæˆ‘ä»¬è¦å­˜æ”¾å“ªäº›ä¸œè¥¿ã€‚ç”±ä¸Šä¸€é—®æˆ‘ä»¬èƒ½çŸ¥é“ï¼Œè‚¯å®šéœ€è¦å·¦ç«¯ç‚¹startï¼ˆå³`interval[ ][0]`ï¼‰ä½œä¸ºæŸ¥æ‰¾çš„keyï¼›å¦å¤–ï¼Œé¢˜ç›®è¦æ±‚è¿”å›çš„æ˜¯æ‰¾åˆ°çš„å³ä¾§åŒºé—´å¯¹åº”çš„ç´¢å¼•ï¼Œå› æ­¤è¿˜éœ€è¦å­˜æ”¾æ¯ä¸ªåŒºé—´`intervals[i]`çš„ç´¢å¼•`i`ã€‚

    è¦å­˜æ”¾ä¸¤ä¸ªintï¼Œå°±æƒ³åˆ°äº†ä¸¤ç§æ•°æ®ç»“æ„ï¼švector<pair<int, int>> å’Œ map<int, int> (å› ä¸ºé¢˜ç›®ä¸­è¯´æ¯ä¸ª start ~i~ éƒ½ä¸åŒï¼Œä¹Ÿå°±æ˜¯keyéƒ½ä¸ä¼šç›¸åŒï¼ˆå› æ­¤ä¸éœ€è¦ç”¨multimapï¼‰ï¼Œè€Œä¸”è¦æ˜¯æœ‰åºçš„ï¼ˆå› æ­¤ä¸è€ƒè™‘unordered_mapï¼‰)ã€‚è¿™ä¸¤ç§éƒ½å¯ä»¥åšï¼Œå…¶ä¸­

    - vector<pair<int, int>éœ€è¦å…ˆéå†intervalså°†å…ƒç´ å…¨å­˜åˆ°vectorä¸­ï¼Œéå†ç»“æŸå†è°ƒç”¨sort()æ’åºï¼Œsort()çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œä¹‹åéå†intervalsæ±‚ç»“æœæ•°ç»„ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ï¼›
    - map<int, int>åˆ™æ˜¯åœ¨éå†intervalså°†å…ƒç´ æ’åˆ°mapçš„åŒæ—¶å°±ä¼šè¿›è¡Œæ’åºï¼Œç”±äºmapæ˜¯ç”¨çº¢é»‘æ ‘å®ç°çš„ï¼Œæ’å…¥çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(logn)ï¼Œå› æ­¤æ’å…¥åŒæ—¶æ’åºçš„æ€»æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(nlogn)ã€‚
    - å› æ­¤è¿™ä¸¤ç§çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦éƒ½æ˜¯O(n)

#### ä»£ç 

##### å®ç°1

```c++
  vector<int> findRightInterval(vector<vector<int>>& intervals) {
    int n = intervals.size();
    vector<int> res(n, -1);
    vector<pair<int, int>> sortfirst;//pair.first = intervals[i][0] , pair.second = i
    for (int i = 0; i < n; ++i) sortfirst.emplace_back(intervals[i][0], i);
    //æˆ–è€…å†™æˆ 
    //for (int i = 0; i < n; ++i) sortfirst.push_back(make_pair(intervals[i][0], i));
    sort(sortfirst.begin(), sortfirst.end());
    // [å¯¹pairæ’åº] é»˜è®¤ä»¥firstå‡åºï¼Œå½“firstç›¸åŒæ—¶ä»¥secondå‡åº
    for (int i = 0; i < n; ++i) { //éå†intervals
        
        //ç¬¬ä¸€ç§ã€è‡ªå·±å®ç°æŸ¥æ‰¾é€»è¾‘ï¼š
        int target = intervals[i][1];//åœ¨sortfirstä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºtargetçš„pair.first
        int left = 0, right = n - 1;//leftä¸æ˜¯åˆå§‹åŒ–ä¸ºi+1ï¼å› ä¸ºsortfirstå·²ç»æ˜¯æ’è¿‡åº(æ‰“ä¹±äº†åŸæ¥é¡ºåºçš„)
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (sortfirst[mid].first >= target) right = mid;//è¯´æ˜midä¹‹åçš„pair.firstä¸€å®šä¸ä¼šæ˜¯å¤§äºtargetä¸­æœ€å°çš„ï¼Œå› æ­¤å¾€[left,mid]æ‰¾
            else left = mid + 1;//è¯´æ˜midä¹‹å‰çš„pair.firstä¸€å®šå°äºtargetï¼Œå› æ­¤å¾€[mid+1,right]æ‰¾
        }
        //é€€å‡ºå¾ªç¯çš„æ—¶å€™leftä¸righté‡åˆï¼Œåˆ¤æ–­æœ€åå‰©ä¸‹çš„è¿™ä¸ªå…ƒç´ æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œè¯´æ˜åŸæœ¬å°±ä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ»¡è¶³åˆ™ç›´æ¥è¿”å›ç­”æ¡ˆ
        res[i] = sortfirst[left].first >= target ? sortfirst[left].second : -1;
            
        ============================================================
        
        // ç¬¬äºŒç§ã€ç›´æ¥è°ƒç”¨åº“å‡½æ•°
        auto it = lower_bound(sortfirst.begin(), sortfirst.end(), intervals[i][1], [](const pair<int, int>& p, int val){return p.first < val;});
        /* å¯ä»¥ç”¨lambadaè¡¨è¾¾å¼è‡ªå®šä¹‰ã€æ¯”è¾ƒè§„åˆ™ã€‘æ¥æ¯”è¾ƒintervals[i][1]å’Œpair.firstã€‚
        return p.first < valè¡¨ç¤ºå¦‚æœå¦‚æœ p.first<valï¼Œé‚£ä¹ˆè¿”å› trueï¼Œè¡¨ç¤ºè¿­ä»£å™¨åº”è¯¥åç§»ï¼Œç»§ç»­æŸ¥æ‰¾ï¼›å¦‚æœ p.first>=valï¼Œé‚£ä¹ˆè¿”å›falseï¼Œè¡¨ç¤º p å·²ç»æ˜¯ç¬¬ä¸€ä¸ªä¸å°äº val çš„å…ƒç´ ï¼Œç»ˆæ­¢æŸ¥æ‰¾ã€‚ã€ä¹Ÿå°±æ˜¯è¯´è¿”å›trueè¡¨ç¤ºè¿˜éœ€è¦ç»§ç»­æŸ¥æ‰¾ï¼Œè¿”å›falseè¡¨ç¤ºç»ˆæ­¢æŸ¥æ‰¾ã€‘
        */
        
        // æˆ–è€…å†™æˆ ï¼ˆpairä¸pairæ¯”è¾ƒï¼‰
        // auto it = lower_bound(sortfirst.begin(), sortfirst.end(), make_pair(intervals[i][1], 0));
        /* 
        lower_bound(begin,end,num): ä»æ•°ç»„çš„beginä½ç½®åˆ°end-1ä½ç½®äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºæˆ–ç­‰äºnumçš„å…ƒç´ ï¼Œè¿”å›å…¶ä¸‹æ ‡å¯¹åº”çš„è¿­ä»£å™¨ã€‚
         ä¸ºä»€ä¹ˆå’Œintervals[i][1] make_pairçš„æ˜¯0ï¼Ÿpair.secondä¸æ˜¯ç´¢å¼•å—ï¼Ÿ
         ç¬¬äºŒä¸ªå…ƒç´ 0ï¼Œè¿™æ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚åœ¨è¿™ä¸ªæ¯”è¾ƒè¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Šæˆ‘ä»¬åªå…³å¿ƒ pair ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ä½†æ˜¯å¦‚æœå°†ç¬¬ä¸‰ä¸ªå‚æ•°æ¢æˆå…¶ä»–å¸¸æ•°ï¼Œç†è®ºä¸Šæ˜¯ä¸ä¼šå½±å“ç»“æœçš„ï¼Œä½†å®é™…ä¸Šlower_bound()åœ¨å¯»æ‰¾ç¬¦åˆæ¡ä»¶çš„pairæ—¶ï¼Œä¼šæ ¹æ®ç¬¬ä¸‰ä¸ªå‚æ•°çš„ä¸åŒå¯¼è‡´æ•´ä½“æ¯”è¾ƒçš„ç»“æœå‘ç”Ÿå˜åŒ–ã€‚æ‰€ä»¥å°±è®°ä½è¿™é‡Œå°±æ˜¯ç”¨0ä½œä¸€ä¸ªå ä½ç¬¦å°±å¥½äº† 
         */
        if (it != sortfirst.end()) res[i] = it->second;
    }
    return res;
}
```

##### å®ç°2

```c++
vector<int> findRightInterval(vector<vector<int>>& intervals) {
    int n = intervals.size();
    vector<int> res(n, -1);
    map<int, int> map;
    int index = 0;
    for (auto vec : intervals) map[vec[0]] = index++;//æ’å…¥åŒæ—¶å°±ä¼šè¿›è¡Œæ’åº
    //æ¥ä¸‹æ¥ç›´æ¥åœ¨mapä¸­æŸ¥æ‰¾
    index = 0;
    for (auto vec : intervals) {
        auto it = map.lower_bound(vec[1]);
        //ä¸èƒ½å†™æˆauto it = lower_bound(map.begin(), map.end(), vec[1]);
        //å› ä¸º<algorithm>ä¸­çš„lower_bound()æ˜¯ç”¨äºæœ‰åºåºåˆ—å¼å®¹å™¨çš„ï¼Œä¸èƒ½ç”¨äºæœ‰åºå…³è”å¼å®¹å™¨ï¼Œè¦ç”¨åªèƒ½ç”¨mapä¸­çš„lower_bound()æˆå‘˜å‡½æ•°
        if (it != map.end()) res[index] = (*it).second;
        //å› ä¸ºå‰é¢å·²ç»åˆå§‹åŒ–è¿‡resçš„å¤§å°äº†ï¼Œå› æ­¤ä¸èƒ½å†™æˆres.emplace_back((*it).second);
        ++index;
    }
    return res;
}
```

#### å¤æ‚åº¦åˆ†æ

åœ¨å‰é¢çš„:heavy_check_mark:  **answer:** ä¸­å°±å·²ç»åˆ†æäº†

- æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

  â€‹    

### æ³•äºŒ

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å…ˆæ’åºï¼ŒååŒæŒ‡é’ˆ   **:star:==

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)è€Œä¸æ˜¯O(n^2^) ?

:heavy_check_mark:  **answer:** 

1. å› ä¸ºæœ‰åºï¼Œå› æ­¤éå†æŸ¥æ‰¾çš„æ—¶å€™å°±å¯ä»¥è·³è¿‡ä¹‹å‰éå†è¿‡çš„å…ƒç´ ç›´æ¥æ¥ç€å‰é¢çš„éå†ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½è¦ä»0å¼€å§‹é‡æ–°éå†ã€‚
    å¦‚æœ j åœ¨æ¯æ¬¡å¤–éƒ¨å¾ªç¯è¿­ä»£ä¸­éƒ½ä»0å¼€å§‹ï¼Œé‚£ä¹ˆå°±æ˜¯O(n^2)ã€‚ä½†åœ¨è¿™ä¸ªç®—æ³•ä¸­ï¼Œj æ˜¯æŒç»­é€’å¢çš„ï¼Œå› æ­¤æ˜¯O(n)ã€‚
    é€šè¿‡åˆ†æä¹Ÿå¯ä»¥çŸ¥é“ï¼Œ**i å’Œ j å„è‡ªæœ€å¤šéå†æ•°ç»„ä¸€æ¬¡**

**:small_red_triangle_down: steps: **

1.  å°†start,indexå’Œend,indexéƒ½ä½œä¸ºpairï¼Œåˆ†åˆ«å­˜åˆ°æ•°ç»„startVå’ŒendVä¸­
2.  æ’åº sort(): O(nlogn)
3.  æŸ¥æ‰¾ O(n)

#### ä»£ç 

```c++
vector<int> findRightInterval(vector<vector<int>>& intervals) {
    int n = intervals.size();
    vector<int> res(n, -1);
    vector<pair<int, int>> startV(n), endV(n); //pair.firstæ˜¯æ¯ä¸ªåŒºé—´çš„start or end,  pair.secondéƒ½æ˜¯å¯¹åº”çš„ä¸‹æ ‡
    for (int i = 0; i < n; ++i) {
        startV[i] = make_pair(intervals[i][0], i);
        endV[i] = make_pair(intervals[i][1], i);
    }
    //æ’åºï¼Œä¸ºåé¢çš„æŸ¥æ‰¾åšå‡†å¤‡: O(nlogn)
    sort(startV.begin(), startV.end());
    sort(endV.begin(), endV.end());
    //æŸ¥æ‰¾: O(n) 
    for (int i = 0, j = 0; i < n && j < n; ++i) {  
        int target = endV[i].first;//æ ¹æ®targetè¿›è¡ŒæŸ¥æ‰¾ï¼Œæ‰¾ start j >= end i çš„ j
        while (j < n && startV[j].first < target) ++j;
        //å¦‚æœstart j < end i, é‚£ä¹ˆè¿™ä¸ªjè‚¯å®šä¸æ˜¯ç­”æ¡ˆï¼Œè·³è¿‡ï¼Œå¾€å³è¾¹æ‰¾startæ›´å¤§çš„ï¼Œé¡ºåºå¾€åæ‰¾è‚¯å®šèƒ½æ‰¾åˆ°
        if (j < n) res[endV[i].second] = startV[j].second;
        //æ­¤æ—¶åœä¸‹æ¥çš„è¿™ä¸ªä½ç½®è‚¯å®šå°±æ˜¯ç­”æ¡ˆï¼ˆé™¤éè¶…å‡ºæ•°ç»„ä¸‹æ ‡èŒƒå›´äº†ï¼‰
    }
    return res;
}
```

#### å¤æ‚åº¦åˆ†æ

åœ¨å‰é¢çš„:heavy_check_mark:  **answer:** ä¸­å°±å·²ç»åˆ†æäº†

- æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

## :fire:[162. å¯»æ‰¾å³°å€¼](https://leetcode.cn/problems/find-peak-element/)

### é¢˜æ„

å³°å€¼å…ƒç´ æ˜¯æŒ‡å…¶å€¼**ä¸¥æ ¼å¤§äºå·¦å³ç›¸é‚»å€¼**çš„å…ƒç´ ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæ‰¾åˆ°å³°å€¼å…ƒç´ å¹¶è¿”å›å…¶ç´¢å¼•ã€‚æ•°ç»„å¯èƒ½åŒ…å«å¤šä¸ªå³°å€¼ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¿”å› **ä»»ä½•ä¸€ä¸ªå³°å€¼** æ‰€åœ¨ä½ç½®å³å¯ã€‚

è®¾ `nums[-1] = nums[n] = -âˆ` , æ‰€æœ‰ `nums[i] != nums[i + 1]`ã€‚ä½ å¿…é¡»å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•.ã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šnums = [1,2,3,1]
è¾“å‡ºï¼š2
è§£é‡Šï¼š3 æ˜¯å³°å€¼å…ƒç´ ï¼Œä½ çš„å‡½æ•°åº”è¯¥è¿”å›å…¶ç´¢å¼• 2ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```cpp
è¾“å…¥ï¼šnums = [1,2,1,3,5,6,4]
è¾“å‡ºï¼š1 æˆ– 5 
è§£é‡Šï¼šä½ çš„å‡½æ•°å¯ä»¥è¿”å›ç´¢å¼• 1ï¼Œå…¶å³°å€¼å…ƒç´ ä¸º 2ï¼›
     æˆ–è€…è¿”å›ç´¢å¼• 5ï¼Œ å…¶å³°å€¼å…ƒç´ ä¸º 6ã€‚
```

### æ³•ä¸€

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å¯»æ‰¾æœ€å¤§å€¼   **:star:==ï¼ˆè™½ç„¶æ—¶é—´å¤æ‚åº¦æ˜¯O(n) ä½†æ˜¯å¯ä»¥å­¦ä¹ è¿™ç§æ€è·¯ï¼‰  

æœ€å¤§å€¼ä¸¤ä¾§çš„å…ƒç´ ä¸€å®šä¸¥æ ¼å°äºæœ€å¤§å€¼æœ¬èº«ã€‚å› æ­¤ï¼Œæœ€å¤§å€¼æ‰€åœ¨çš„ä½ç½®å°±æ˜¯ä¸€ä¸ªå¯è¡Œçš„å³°å€¼ä½ç½®ã€‚

æˆ‘ä»¬éå†ä¸€æ¬¡numsï¼Œæ‰¾åˆ°æœ€å¤§å€¼å¯¹åº”çš„ä½ç½®å³å¯ã€‚

#### ä»£ç 

```c++
int findPeakElement(vector<int>& nums) {
        return max_element(nums.begin(), nums.end()) - nums.begin();
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### æ³•äºŒ

#### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š äºŒåˆ†   **:star:==

:key:  **key**ï¼š

- å› ä¸ºé¢˜ç›®è¯´`nums[-1] = nums[n] = -âˆ`ï¼Œè¿™å°±ä»£è¡¨ç€ åªè¦æ•°ç»„ä¸­å­˜åœ¨ä¸€ä¸ªå…ƒç´ æ¯”å·¦è¾¹ç›¸é‚»å…ƒç´ å¤§ï¼Œé‚£ä¹ˆæ²¿ç€å®ƒã€ä¸€å®šå¯ä»¥æ‰¾åˆ°ã€‘ä¸€ä¸ªå³°å€¼ã€‚

- è”æƒ³çˆ¬å±±ï¼Œå¦‚æœä½ å¾€ä¸‹å¡æ–¹å‘èµ°ï¼Œä¹Ÿè®¸å¯èƒ½é‡åˆ°æ–°çš„å±±å³°ï¼Œä½†æ˜¯ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªä¸€ç›´ä¸‹é™çš„å¡ï¼Œæœ€ååˆ°è¾¹ç•Œ. è¿™ä¸ªç»“æœæ˜¯ä¸ç¡®å®šçš„ï¼ˆå³æˆ‘ä»¬æ— æ³•ç¡®å®šç»§ç»­èµ°æ˜¯å¦è¿˜èƒ½é‡åˆ°å±±é¡¶ï¼‰ã€‚

    ä½†æ˜¯å¦‚æœä½ å¾€ä¸Šå¡æ–¹å‘èµ°ï¼Œå°±ç®—æœ€åä¸€ç›´ä¸Šçš„è¾¹ç•Œï¼Œç”±äºæœ€è¾¹ç•Œæ˜¯è´Ÿæ— ç©·ï¼Œæ‰€ä»¥å°±ä¸€å®šèƒ½æ‰¾åˆ°å±±å³°ï¼Œ

    æ€»çš„ä¸€å¥è¯ï¼Œå¾€é€’å¢çš„æ–¹å‘ä¸Šæ‰¾ï¼Œä¸€å®šèƒ½æ‰¾åˆ°å³°é¡¶ï¼Œå¾€é€’å‡çš„æ–¹å‘æ‰¾å¯èƒ½æ‰¾åˆ°ï¼Œä¹Ÿå¯èƒ½æ‰¾ä¸åˆ°ã€‚

- æ„æ€å°±æ˜¯
    - å¦‚æœ`nums[mid]>nums[midâˆ’1]` ï¼Œmidçš„å³è¾¹ï¼ˆä¸åŒ…æ‹¬midï¼‰ä¸€å®šå­˜åœ¨å³°å€¼ï¼›
    - å¦‚æœ`nums[mid]>nums[mid+1]` ï¼Œmidçš„å·¦è¾¹ï¼ˆåŒ…æ‹¬midï¼‰ä¸€å®šå­˜åœ¨å³°å€¼ã€‚

- :star: ==å¯¹äºå¦‚ä½•ä½¿ç”¨midç¼©å°æŸ¥æ‰¾åŒºé—´ï¼Œæˆ‘ä»¬ç‰¢è®°ä¸€ä¸ª**åŸåˆ™ï¼šæ¯æ¬¡æ›´æ–°åŒºé—´åä¿è¯ç›®æ ‡åœ¨æœç´¢åŒºé—´[l,r]å†…**ï¼ˆå¦‚æœä¸èƒ½ä¿è¯å°±èˆå¼ƒåŒºé—´ï¼‰==:star:

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆæƒ³åˆ°ç”¨äºŒåˆ†?

:heavy_check_mark:  **answer:** 

1. æƒ³ä¸åˆ°ç”¨äºŒåˆ†çš„è¯ï¼Œä¸»è¦è¿˜æ˜¯å¯¹äºŒåˆ†æ€§ç†è§£ä¸é€å½»çš„é—®é¢˜ã€‚==**æˆ‘ä»¬åº”å½“ä»æ˜¯å¦å…·æœ‰ã€ŒäºŒæ®µæ€§ã€æ¥è€ƒè™‘æ˜¯å¦å¯ä»¥è¿›è¡Œã€ŒäºŒåˆ†ã€**==ã€‚

    è¿™é‡Œçš„**ã€ŒäºŒæ®µæ€§ã€**æ˜¯ä»ï¼šã€åœ¨ä»¥midä¸ºåˆ†å‰²ç‚¹çš„æ•°ç»„ä¸Šï¼Œæ ¹æ®nums[mid] ä¸ nums[midÂ±1] çš„å¤§å°å…³ç³»ï¼Œå¯ä»¥ç¡®å®šå…¶ä¸­ä¸€æ®µæ»¡è¶³ã€Œå¿…ç„¶æœ‰è§£ã€ï¼Œå¦å¤–ä¸€æ®µä¸æ»¡è¶³ã€Œå¿…ç„¶æœ‰è§£ã€ï¼ˆå¯èƒ½æœ‰è§£ï¼Œå¯èƒ½æ— è§£ï¼‰ã€‘çœ‹å‡ºçš„ã€‚

:smiley: **æ”¶è·ï¼š ** 

1. å­¦åˆ°äº† éæœ‰åºæ•°ç»„ä¹Ÿèƒ½ç”¨äºŒåˆ†ï¼è¿˜æ˜¯å¯¹äºŒåˆ†æ€§ç†è§£ä¸é€å½»

2. å¯¹":star: ==å¯¹äºå¦‚ä½•ä½¿ç”¨midç¼©å°æŸ¥æ‰¾åŒºé—´ï¼Œæˆ‘ä»¬ç‰¢è®°ä¸€ä¸ª**åŸåˆ™ï¼šæ¯æ¬¡æ›´æ–°åŒºé—´åä¿è¯ç›®æ ‡åœ¨æœç´¢åŒºé—´[l,r]å†…**ï¼ˆå¦‚æœä¸èƒ½ä¿è¯å°±èˆå¼ƒåŒºé—´ï¼‰==:star:"ç†è§£å¾—æ›´é€å½»äº†

3. "åœ¨ [lc33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode.cn/problems/search-in-rotated-sorted-array/) ä¸­ï¼Œæˆ‘ä»¬å¼ºè°ƒï¼Œ==äºŒåˆ†çš„æœ¬è´¨æ˜¯ã€ŒäºŒæ®µæ€§ã€è€Œéã€Œå•è°ƒæ€§ã€==ï¼Œè€Œç»è¿‡æœ¬é¢˜ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥å‘ç°ã€ŒäºŒæ®µæ€§ã€è¿˜èƒ½ç»§ç»­ç»†åˆ†ï¼Œ==ä¸ä»…ä»…åªæœ‰æ»¡è¶³ 01 ç‰¹æ€§ï¼ˆæ»¡è¶³/ä¸æ»¡è¶³ï¼‰çš„ã€ŒäºŒæ®µæ€§ã€å¯ä»¥ä½¿ç”¨äºŒåˆ†ï¼Œæ»¡è¶³ 1? ç‰¹æ€§ï¼ˆä¸€å®šæ»¡è¶³/ä¸ä¸€å®šæ»¡è¶³ï¼‰ä¹Ÿå¯ä»¥äºŒåˆ†ã€‚==" ä¸‰å¶å§å§æ€»ç»“çš„å¤ªå¥½äº†å‘€ï¼

    > [æ¥æº](https://leetcode.cn/problems/find-peak-element/solutions/998441/gong-shui-san-xie-noxiang-xin-ke-xue-xi-qva7v/) æˆ‘çˆ±ä¸‰å¶å§ï¼

#### ä»£ç 

```c++
int findPeakElement(vector<int>& nums) {
    int left = 0, right = nums.size() - 1;
    // è¿™é‡Œrightä¸èƒ½åˆå§‹åŒ–ä¸ºnums.size()ï¼Œå› ä¸ºå·²çŸ¥nums[-1] = nums[n] = -âˆï¼Œ
    // ä¸”nums.size() >= 1, æ‰€ä»¥åœ¨numsä¸­å¿…å­˜åœ¨ä¸€ä¸ªå³°å€¼ï¼Œè¿™ä¸ªå³°å€¼ä¸ä¼šåœ¨nums.size()å¤„
    while (left < right) {
        int mid = (left + right) / 2;
        if (nums[mid + 1] > nums[mid]) left = mid + 1;
        //mid+1æ¯”midå¤§ï¼Œé‚£ä¹ˆå¾€mid+1é‚£è¾¹(å¾€å³)èµ°ä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå³°å€¼ï¼Œä¸”midä¸€å®šä¸æ˜¯å³°å€¼
        else right = mid;
        //midæ¯”mid+1å¤§ï¼Œé‚£ä¹ˆå¾€midé‚£è¾¹(å¾€å·¦)èµ°ä¸€å®šå¯ä»¥æ‰¾åˆ°ä¸€ä¸ªå³°å€¼ï¼Œä¸”mid+1ä¸€å®šä¸æ˜¯å³°å€¼
    }
    return left;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(logn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :crossed_swords: [å‰‘æŒ‡Offer04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾](https://leetcode.cn/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/)

### é¢˜æ„

åœ¨ä¸€ä¸ª n * m çš„äºŒç»´æ•°ç»„ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æŒ‰ç…§ä»å·¦åˆ°å³é€’å¢çš„é¡ºåºæ’åºï¼Œæ¯ä¸€åˆ—éƒ½æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹é€’å¢çš„é¡ºåºæ’åºã€‚è¯·å®Œæˆä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥è¿™æ ·çš„ä¸€ä¸ªäºŒç»´æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°ï¼Œåˆ¤æ–­æ•°ç»„ä¸­æ˜¯å¦å«æœ‰è¯¥æ•´æ•°ã€‚

ç¤ºä¾‹:

```c++
ç°æœ‰çŸ©é˜µ matrix å¦‚ä¸‹ï¼š
[ [1,   4,  7, 11, 15],
  [2,   5,  8, 12, 19],
  [3,   6,  9, 16, 22],
  [10, 13, 14, 17, 24],
  [18, 21, 23, 26, 30]]
ç»™å®š target = 5ï¼Œè¿”å› trueã€‚
ç»™å®š target = 20ï¼Œè¿”å› falseã€‚
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šäºŒåˆ†   **:star:==

**:key:  keyï¼š**

- ä»å·¦ä¸‹è§’æˆ–è€…å³ä¸‹è§’å¼€å§‹äºŒåˆ†æŸ¥æ‰¾ï¼Œå› ä¸ºåŒä¸€åˆ—å¾€ä¸Šæ‰€æœ‰å…ƒç´ éƒ½<è¯¥ä½ç½®çš„å€¼ï¼ŒåŒä¸€è¡Œå¾€å³æ‰€æœ‰å…ƒç´ éƒ½>è¯¥ä½ç½®çš„å€¼ï¼Œç›¸å½“äºä»¥è¯¥å€¼ä¸ºæ‹ç‚¹å½¢æˆLå‹é€’å¢åºåˆ—ã€‚

**:x: careless | ignore :  **

- å’Œ[240. æœç´¢äºŒç»´çŸ©é˜µ II](https://leetcode.cn/problems/search-a-2d-matrix-ii/)ä¸€æ ·ä½†æ˜¯240æ›´ç®€å•ï¼Œä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸ºç©ºçš„æƒ…å†µã€‚è¿™é¢˜çš„æ€è·¯éƒ½çŸ¥é“ä½†æ˜¯ç»†èŠ‚æ²¡æ³¨æ„åˆ°ï¼ˆæ•°ç»„ä¸ºç©ºæ—¶æ ¹æœ¬ä¸å­˜åœ¨nums[0]ï¼Œå› æ­¤æ­¤æ—¶nums[0].size()çš„å†™æ³•ä¹Ÿæ˜¯ä¸åˆæ³•çš„ï¼‰

### ä»£ç 

```c++
bool findTargetIn2DPlants(vector<vector<int>>& nums, int target) {
    int n = nums.size();
    // æ³¨æ„nums={}æ—¶nums.size()=0,æ­¤æ—¶ä¸å­˜åœ¨nums[0],
    // å› æ­¤å¦‚æœç›´æ¥å°±æ¥ç€å†™m=nums[0].size()å°±ä¼šæŠ¥é”™
    if (n == 0) return false;//ä¸ºç©ºæ•°ç»„
    int m = nums[0].size();
    int i = n - 1, j = 0;
    while (i >= 0 && j < m) {
        if (target == nums[i][j]) return true;
        else if (target < nums[i][j]) i--;//å¾€ä¸Šèµ°
        else j++;//å¾€å³èµ°
    }
    return false;
}
```

å¯ä»¥ç®€åŒ–æˆï¼š

```c++
bool findTargetIn2DPlants(vector<vector<int>>& nums, int target) {
    int i = nums.size() - 1, j = 0;
    while (i >= 0 && j < nums[0].size()) {
        if (target == nums[i][j]) return true;
        else if (target < nums[i][j]) i--;//å¾€ä¸Šèµ°
        else j++;//å¾€å³èµ°
    }
    return false;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n+m)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

##  :two:[74. æœç´¢äºŒç»´çŸ©é˜µ](https://leetcode.cn/problems/search-a-2d-matrix/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªæ»¡è¶³ä¸‹è¿°ä¸¤æ¡å±æ€§çš„ `m x n` æ•´æ•°çŸ©é˜µï¼š

- æ¯è¡Œä¸­çš„æ•°ä»å·¦åˆ°å³æŒ‰éä¸¥æ ¼é€’å¢é¡ºåºæ’åˆ—ã€‚
- æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•° > å‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•°ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•° `target` ï¼Œå¦‚æœ `target` åœ¨çŸ©é˜µä¸­ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

![](https://assets.leetcode.com/uploads/2020/10/05/mat.jpg)

```cpp
è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3
è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹ 2ï¼š**

![](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/11/25/mat2.jpg)

```
è¾“å…¥ï¼šmatrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 13
è¾“å‡ºï¼šfalse
```

 **æç¤ºï¼š**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 100`
- `-104 <= matrix[i][j], target <= 104`

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/search-a-2d-matrix/solutions/688117/sou-suo-er-wei-ju-zhen-by-leetcode-solut-vxui/) 

### æ³•ä¸€ (æ¨è)

==:star: **æ ¸å¿ƒæ€è·¯ï¼šå‡è€Œæ²»ä¹‹ **:star:==

çŸ©é˜µçš„ç¬¬äºŒæ¡æ€§è´¨ï¼šæ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•° > å‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•°ï¼Œå…¶å®å°±ä¿è¯äº†æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚å› æ­¤è¿™ä¸€é¢˜å’Œ:fire:[240. æœç´¢äºŒç»´çŸ©é˜µ II](https://leetcode.cn/problems/search-a-2d-matrix-ii/)å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥ç”¨å‡è€Œæ²»ä¹‹çš„æ€æƒ³æ¥åšã€‚

å¦‚æœé€‰æ‹©å·¦ä¸‹è§’ä¸ºèµ·ç‚¹

```c++
bool searchMatrix(vector<vector<int>>& matrix, int target) {
/*
ä»å·¦ä¸‹è§’ï¼ˆæˆ–å³ä¸Šè§’ï¼‰å¼€å§‹æœç´¢ï¼Œåˆ©ç”¨çŸ©é˜µä¸­åŒä¸€åˆ—ä»ä¸‹å¾€ä¸Šé€’å‡ï¼ŒåŒä¸€è¡Œä¸­ä»å·¦å¾€å³é€’å¢çš„æ€§è´¨è¿›è¡ŒæŸ¥æ‰¾ã€‚
*/
    int m = matrix.size();
    int n = matrix[0].size();
    int i = m - 1;
    int j = 0;
    while (i >= 0 && j < n) {
        if (matrix[i][j] == target) {
            return true;
        } else if (matrix[i][j] < target) {
            j++;
        } else {
            i--;
        }
    }
    return false;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(m+n) ã€‚è¿™ç§ç®—æ³•æ˜¯ **ä¸å›å¤´** çš„ï¼Œè‡³å¤šèµ° M+N æ­¥å°±èƒ½æœç´¢åˆ°ç›®æ ‡æ•°å€¼ï¼Œæˆ–è€…åˆ¤å®šç›®æ ‡æ•°å€¼åœ¨çŸ©é˜µä¸­ä¸å­˜åœ¨ï¼›
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### æ³•äºŒ (æ¨è)

==:star: **æ ¸å¿ƒæ€è·¯ï¼š äºŒåˆ†   **:star:==

ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ã€‚å…ˆåœ¨ç¬¬ä¸€åˆ—ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°æœ€åä¸€ä¸ªä¸å¤§äºtargetçš„è¡Œé¦–ï¼Œç„¶ååœ¨è¯¥è¡Œä¸­äºŒåˆ†æŸ¥æ‰¾targetã€‚

ç›´æ¥è°ƒç”¨åº“å‡½æ•°çš„å†™æ³•ï¼š

```c++
bool searchMatrix(vector<vector<int>>& matrix, int target) {
    // upper_bound()æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºtargetçš„è¡Œï¼Œæ‰¾ä¸åˆ°è¿”å›begin()
   auto row = upper_bound(matrix.begin(), matrix.end(), target, [](int b, const vector<int>& a){ return a[0] > b;}); 
    // å¦‚æœlambadaä¸­å‚æ•°å†™åä¼šæŠ¥é”™ï¼Œå› ä¸ºæ¯”è¾ƒçš„æ–¹å‘å°±ä¼šé¢ å€’ã€‚
    if (row == matrix.begin()) return false;
    --row;
    return binary_search(row->begin(), row->end(), target);
}
```

è‡ªå·±å®ç°åº“å‡½æ•°çš„å†™æ³•ï¼š

```c++
bool searchMatrix(vector<vector<int>>& matrix, int target) {
    int rowIndex = binarySearchFirstRow(matrix, target);
    if (rowIndex < 0) return false;
    return binarySearchColumn(matrix[rowIndex], target);
}
int binarySearchFirstRow(vector<vector<int>>& matrix, int target) {
    // äºŒåˆ†æŸ¥æ‰¾ç¬¬ä¸€ä¸ªä¸å¤§äºtargetçš„è¡Œé¦–
    int left = 0, right = matrix.size() - 1;
    while (left < right) {
        int mid = left + (right - left + 1) / 2;
        if (matrix[mid][0] <= target) left = mid;
        else right = mid - 1;
    }
    return matrix[left][0] <= target ? left : -1;//è¿”å›æ‰€åœ¨è¡Œ
}
bool binarySearchColumn(vector<int>& targetRow, int target) {
    // äºŒåˆ†æŸ¥æ‰¾targetRowä¸­=targetçš„å…ƒç´ 
    int left = 0, right = targetRow.size() - 1;
    while (left < right) {
        int mid = left + (right - left) / 2;
        if (targetRow[mid] < target) left = mid + 1;
        else if (targetRow[mid] > target) right = mid - 1;
        else return true;
    }
    return targetRow[left] == target;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(logâ¡m+logâ¡n)=O(logâ¡mn)

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

> æ³¨æ„ï¼å½“äºŒç»´æ•°ç»„ä¸­çš„ä¸€ç»´æ•°ç»„sizeä¸ç›¸ç­‰æ—¶ï¼Œæ³•ä¸€ä»èƒ½æ­£ç¡®å¤„ç†ï¼Œä½†æ˜¯æ³•äºŒä¼šå¤±æ•ˆã€‚

### æ³•ä¸‰

ä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ã€‚

å› ä¸ºå°†äºŒç»´çŸ©é˜µçš„è¡Œå°¾å’Œè¡Œé¦–ç›¸è¿ï¼ŒæŒ‰'Z'å­—å½¢éå†ï¼Œä¹Ÿå…·æœ‰å•è°ƒæ€§ã€‚å› æ­¤å¯ä»¥å°†äºŒç»´å˜ä¸€ç»´æ¥åšäºŒåˆ†æŸ¥æ‰¾ï¼Œå…³é”®åœ¨äº<u>**å°†midæ˜ å°„ä¸ºäºŒç»´ä¸‹æ ‡**</u>ã€‚

ç»™midæ˜ å°„ä¸ºäºŒç»´ä¸‹æ ‡`midValue = matrix[mid / n][mid % n];`ä»¥æ±‚å¾—midä¸‹æ ‡å¯¹åº”çš„å€¼ï¼Œé€šè¿‡æ¯”è¾ƒè¯¥å€¼å’Œtargetæ¥äºŒåˆ†ã€‚

```c++
bool searchMatrix(vector<vector<int>>& matrix, int target) {
        int m = matrix.size(), n = matrix[0].size();
        int left = 0, right = m * n - 1; 
        while (left < right) {
            int mid = left + (right - left) / 2;
            int midValue = matrix[mid / n][mid % n]; 
            if (midValue < target) left = mid + 1;
            else if (midValue > target) right = mid - 1;
            else return true;
        }
        return matrix[left / n][left % n] == target;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(logâ¡m+logâ¡n)=O(logâ¡mn)

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :fire:[240. æœç´¢äºŒç»´çŸ©é˜µ II](https://leetcode.cn/problems/search-a-2d-matrix-ii/)

### é¢˜æ„

ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ `m*n` çŸ©é˜µ `matrix` ,ç›®æ ‡å€¼ `target` ã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

- æ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚
- æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

![image-20231213081809847](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312130818897.png)

```cpp
è¾“å…¥ï¼šmatrix = [[1,4,7,11,15],[2,5,8,12,19],[3,6,9,16,22],[10,13,14,17,24],[18,21,23,26,30]], target = 5
è¾“å‡ºï¼štrue
```

**æç¤ºï¼š**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= n, m <= 300`
- `-109 <= matrix[i][j] <= 109`
- æ¯è¡Œçš„æ‰€æœ‰å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—
- æ¯åˆ—çš„æ‰€æœ‰å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—
- `-109 <= target <= 109`

### å‚è€ƒé¢˜è§£

1. [liweiweiå¤§ä½¬](https://leetcode.cn/problems/search-a-2d-matrix-ii/solutions/14389/er-fen-fa-pai-chu-fa-python-dai-ma-java-dai-ma-by-/)

### æ€è·¯

> å’Œä¸€èˆ¬çš„äºŒåˆ†æœ‰ä¸ä¸€æ ·çš„åœ°æ–¹åœ¨äºæˆ‘ä»¬æ¯æ¬¡æ’é™¤çš„èŒƒå›´ä¸æ˜¯ä¸€ä¸ªè§„åˆ™çº¿æ€§çš„ç©ºé—´ï¼Œè€Œæ˜¯ä¸€ä¸ªåŒºåŸŸ

==:star: **æ ¸å¿ƒæ€è·¯ï¼šå‡è€Œæ²»ä¹‹ **:star:==

ä»å·¦ä¸‹è§’ï¼ˆæˆ–å³ä¸Šè§’ï¼‰å¼€å§‹æœç´¢ï¼Œåˆ©ç”¨çŸ©é˜µä¸­åŒä¸€åˆ—ä»ä¸‹å¾€ä¸Šé€’å‡ï¼ŒåŒä¸€è¡Œä¸­ä»å·¦å¾€å³é€’å¢çš„æ€§è´¨è¿›è¡ŒæŸ¥æ‰¾ã€‚

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆè¦ä»å·¦ä¸‹è§’æˆ–è€…å³ä¸Šè§’å¼€å§‹?

:heavy_check_mark:  **answer:** 

1. å¦‚æœä»å·¦ä¸Šè§’å¼€å§‹èµ°ï¼Œå‘ç°æ¨ªç€èµ°æ•°å€¼å¢å¤§ï¼Œç«–ç€èµ°æ•°å€¼ä¹Ÿå¢å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´ç›®æ ‡æ•°å€¼è¿™åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šéƒ½æœ‰å¯èƒ½å­˜åœ¨ã€‚

    ä½†å¦‚æœæˆ‘ä»¬ä»å³ä¸Šè§’æˆ–è€…å·¦ä¸‹è§’å‡ºå‘æ‰¾ç›®æ ‡å…ƒç´ ï¼Œé‚£å°±å¯ä»¥ç¡®å®šä¸€ä¸ªç»´åº¦ï¼Œäºæ˜¯å°±èƒ½å‡è€Œæ²»ä¹‹ã€‚

### ä»£ç 

å¦‚æœé€‰æ‹©å·¦ä¸‹è§’ä¸ºèµ·ç‚¹

```c++
bool searchMatrix(vector<vector<int>>& matrix, int target) {
    int m = matrix.size();
    int n = matrix[0].size();
    int i = m - 1;
    int j = 0;
    while (i >= 0 && j < n) {
        if (matrix[i][j] == target) {
            return true;
        } else if (matrix[i][j] < target) {
            j++;
        } else {
            i--;
        }
    }
    return false;
}
```

> è¯´æ˜ï¼šè¿™ä¸ªæœç´¢çš„è¿‡ç¨‹ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ³•åŠ å¿«ï¼Œæ—¶é—´å¤æ‚åº¦ä¼˜åŒ–åˆ° O(logâ¡M+longN)=O(logâ¡MN)ï¼Œä½†æ˜¯åœ¨ç¼–ç çš„æ—¶å€™ä¼šç¨æ˜¾éº»çƒ¦ã€‚
>

#### **å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(m+n) ã€‚è¿™ç§ç®—æ³•æ˜¯ **ä¸å›å¤´** çš„ï¼Œè‡³å¤šèµ° M+N æ­¥å°±èƒ½æœç´¢åˆ°ç›®æ ‡æ•°å€¼ï¼Œæˆ–è€…åˆ¤å®šç›®æ ‡æ•°å€¼åœ¨çŸ©é˜µä¸­ä¸å­˜åœ¨ï¼›
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [lc378. æœ‰åºçŸ©é˜µä¸­ç¬¬ K å°çš„å…ƒç´ ](https://leetcode.cn/problems/kth-smallest-element-in-a-sorted-matrix/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ª `n x n` çŸ©é˜µ `matrix` ï¼Œå…¶ä¸­æ¯è¡Œå’Œæ¯åˆ—å…ƒç´ å‡æŒ‰å‡åºæ’åºï¼Œä¸”ä¿è¯ `matrix` ä¸­çš„æ‰€æœ‰è¡Œå’Œåˆ—éƒ½æŒ‰ **éé€’å‡é¡ºåº** æ’åˆ—ã€‚

æ‰¾åˆ°çŸ©é˜µä¸­ç¬¬ `k` å°çš„å…ƒç´ ã€‚ä½ å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªå†…å­˜å¤æ‚åº¦ä¼˜äº `O(n^2)` çš„è§£å†³æ–¹æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šmatrix = [[1,5,9],[10,11,13],[12,13,15]], k = 8
è¾“å‡ºï¼š13
è§£é‡Šï¼šçŸ©é˜µä¸­çš„å…ƒç´ ä¸º [1,5,9,10,11,12,13,13,15]ï¼Œç¬¬ 8 å°å…ƒç´ æ˜¯ 13
```

### å‚è€ƒé¢˜è§£

1. [ç¬¨çŒªçˆ†ç ´ç»„](https://leetcode.cn/problems/kth-smallest-element-in-a-sorted-matrix/solutions/311472/you-xu-ju-zhen-zhong-di-kxiao-de-yuan-su-by-leetco/)
2. [mkdir700](https://leetcode.cn/problems/kth-smallest-element-in-a-sorted-matrix/solutions/326369/ci-ti-er-fen-cha-zhao-guo-cheng-de-dong-tu-yan-shi/) åŠ¨å›¾å¾ˆæ¸…æ™°

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šå€¼åŸŸçš„äºŒåˆ†  + è®¡æ•° **:star:==

**:key:  keyï¼š**

- è¯¥äºŒç»´çŸ©é˜µä¸­ï¼Œå·¦ä¸Šè§’å…ƒç´ æ˜¯ä¸‹é™leftValï¼Œå³ä¸‹è§’å…ƒç´ æ˜¯ä¸Šé™rightValï¼Œå°±æœ‰äº†ä¸€ä¸ªå€¼åŸŸleftVal~rightValï¼Œç¬¬ `k` å°çš„å…ƒç´ åœ¨è¿™ä¸ªå€¼åŸŸä¸­ã€‚
- æ¯æ¬¡æ ¹æ®å€¼åŸŸçš„ä¸­é—´å€¼æ¥åˆ†å‰²çŸ©é˜µï¼ˆå¯¹å€¼åŸŸäºŒåˆ†ï¼‰ï¼Œå¹¶æ±‚å‡ºå€¼åŸŸä¸­<=ä¸­é—´å€¼çš„å…ƒç´ ä¸ªæ•°cntï¼Œå’Œ k æ¯”è¾ƒï¼Œå¦‚æœæ¯” k å°ï¼Œè¯´æ˜ç¬¬kå°çš„æ•°åœ¨å³åŠéƒ¨åˆ†ï¼Œè°ƒæ•´å€¼åŸŸèŒƒå›´è®©leftVal=midVal+1ï¼Œå¦åˆ™è¯´æ˜ç¬¬kå°çš„æ•°åœ¨å·¦åŠéƒ¨åˆ†ï¼Œè®©rightVal=midValã€‚æ¯æ¬¡ç¼©å°å€¼åŸŸèŒƒå›´éƒ½è¦ä¿è¯ç¬¬kå°çš„æ•°åœ¨leftVal~rightValä¹‹é—´ã€‚

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆå¯¹å€¼äºŒåˆ†ï¼Ÿ


:heavy_check_mark:  **answer:** 

1. äºŒåˆ†æŸ¥æ‰¾å¯ä»¥æ ¹æ®ç´¢å¼•äºŒåˆ†ï¼Œä¹Ÿå¯ä»¥æ ¹æ®æ•°å€¼äºŒåˆ†ï¼Œæœ‰åºæ•°ç»„ä¸­ï¼Œç´¢å¼•çš„å¤§å°å¯ä»¥åæ˜ å€¼çš„å¤§å°ï¼Œå¯¹ç´¢å¼•äºŒåˆ†å°±è¡Œã€‚
    ä½†è¿™é‡Œä¸æ˜¯æœ‰åºçš„ä¸€ç»´æ•°ç»„ï¼Œç´¢å¼•ä¸èƒ½ä½“ç°å€¼è°å¤§è°å°ï¼Œæ— æ³•é€šè¿‡äºŒåˆ†ç´¢å¼•é€¼è¿‘ç›®æ ‡å€¼

**:small_red_triangle_down: steps: **

1.   å–leftValå’ŒrightValçš„ä¸­é—´å€¼æ¥åšåˆ†å‰²çº¿ï¼Œåˆ†å‰²çº¿midValçš„è¿™ä¸ªå€¼æŠŠleftVal~rightValçš„æ•°å€¼èŒƒå›´åˆ’åˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼ˆåˆ†å‰²ä¸ä¸€å®šæ˜¯å¹³æ•´çš„ï¼Œä¹Ÿå³åˆ†å‰²çº¿ä¸ä¸€å®šæ˜¯ç¬”ç›´çš„ï¼‰ï¼Œå¯¹åº”åœ¨çŸ©é˜µä¸Šè¿™ä¸¤éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªåœ¨çŸ©é˜µå·¦åŠéƒ¨åˆ†ï¼Œä¸€ä¸ªåœ¨çŸ©é˜µå³åŠéƒ¨åˆ†ã€‚
2.  ä»å·¦ä¸‹è§’å‡ºå‘ï¼Œåˆ†å‰²çŸ©é˜µï¼ˆæ ¹æ®å€¼æ˜¯å¦<=midValï¼Œæ˜¯åˆ™åˆ’åˆ†åˆ°å·¦è¾¹ï¼Œå¦åˆ™åˆ’åˆ†åˆ°å³è¾¹ï¼‰ï¼ŒåŒæ—¶è®°å½•åˆ†å‰²çº¿å·¦åŠéƒ¨åˆ†çš„å…ƒç´ ä¸ªæ•°ã€‚å½“èµ°å®ŒçŸ©é˜µè¾¹ç•Œï¼ˆi=0æˆ–j=n-1ï¼‰æ—¶å°±è¯´æ˜è¯¥æ¬¡åˆ†å‰²å®Œæ¯•ã€‚
3.  æ ¹æ®åˆ†å‰²çº¿å·¦è¾¹çš„å…ƒç´ æ•°cntä¸kçš„å¤§å°å…³ç³»ï¼Œæ¥å†³å®šå¾€å“ªè¾¹ç¼©å°æŸ¥æ‰¾åŒºé—´
    - å¦‚æœcnt>=k, åˆ™è¯´æ˜ç¬¬kå°çš„æ•°åœ¨å·¦åŠéƒ¨åˆ†,æˆ‘ä»¬è®©rightVal=midValï¼›
    - å¦åˆ™è¯´æ˜ç¬¬kå°çš„æ•°åœ¨å³åŠéƒ¨åˆ†, æˆ‘ä»¬è®©leftVal=midVal+1

:smiley: **æ”¶è·ï¼š ** 

- left, mid, right ä¸ä¸€å®šå°±å¾—æ˜¯ç´¢å¼•ä¸‹æ ‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å€¼ï¼Œå³äºŒåˆ†ä¹Ÿå¯ä»¥æ˜¯å¯¹å€¼åŸŸçš„äºŒåˆ†ã€‚

### ä»£ç 

```c++
int kthSmallest(vector<vector<int>>& matrix, int k) {
    int n = matrix.size();
    int leftVal = matrix[0][0], rightVal = matrix[n - 1][n - 1];
    //leftValæ˜¯çŸ©é˜µä¸­æœ€å°çš„å…ƒç´ ï¼ŒrightValæ˜¯çŸ©é˜µä¸­æœ€å¤§çš„å…ƒç´ ,ç¬¬kå°çš„å…ƒç´ å€¼ä¸€å®šåœ¨leftVal~rightValè¿™ä¸ªèŒƒå›´
    while (leftVal < rightVal) {
        // å–leftValå’ŒrightValçš„ä¸­é—´å€¼æ¥åšåˆ†å‰²çº¿
        int midVal = leftVal + (rightVal - leftVal) / 2;
        // æ ¹æ®åˆ†å‰²çº¿å·¦è¾¹çš„å…ƒç´ æ•°cntä¸kçš„å¤§å°å…³ç³»ï¼Œæ¥å†³å®šå¾€å“ªè¾¹ç¼©å°æŸ¥æ‰¾åŒºé—´
        int cnt = findNotBiggerThanMid(matrix, midVal, k, n);
        //å¦‚æœcnt>=k,åˆ™è¯´æ˜ç¬¬kå°çš„æ•°åœ¨å·¦åŠéƒ¨åˆ†,æˆ‘ä»¬è®©rightVal=midVal
        if (cnt >= k) rightVal = midVal;
        //å¦åˆ™è¯´æ˜ç¬¬kå°çš„æ•°åœ¨å³åŠéƒ¨åˆ†,æˆ‘ä»¬è®©leftVal=midVal+1
        else leftVal = midVal + 1;
    }
    return leftVal;
}
int findNotBiggerThanMid(vector<vector<int>>& matrix, int midVal, int k, int n) {
    // ä»å·¦ä¸‹è§’å¼€å§‹ï¼Œä»¥midValä¸ºåˆ†å‰²çº¿ï¼Œä¸€æ­¥æ­¥èµ°åˆ†å‰²å€¼åŸŸ,ç›´åˆ°ièµ°å®Œåˆ°ç¬¬ä¸€è¡Œæˆ–æœ€åä¸€åˆ—ã€‚èµ°çš„è½¨è¿¹å°±æ˜¯åˆ†å‰²çº¿
    int i = n - 1, j = 0, cnt = 0;
    while (i >= 0 && j < n) {
        if (matrix[i][j] <= midVal) { 
            cnt += i + 1;//å½“å‰åˆ—æœ‰i+1ä¸ªå…ƒç´ <=mid
            ++j;//ç»§ç»­å¾€å³èµ°
        }
        else --i;//å¾€ä¸Šèµ°
    }
    return cnt;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n * logâ¡(rightVal-leftVal))

    äºŒåˆ†æŸ¥æ‰¾ä¸º O(logâ¡(rightVal-leftVal))ï¼Œå…¶ä¸­æ¯æ¬¡æ“ä½œï¼ˆä¸€æ­¥æ­¥èµ°ï¼Œä»¥åˆ†å‰²å€¼åŸŸï¼‰æ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼Œnæ˜¯çŸ©é˜µçš„è¡Œæ•°ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


## [lc668. ä¹˜æ³•è¡¨ä¸­ç¬¬kå°çš„æ•°](https://leetcode.cn/problems/kth-smallest-number-in-multiplication-table/)

### é¢˜æ„

ä¹˜æ³•è¡¨æ˜¯ `m x n` çš„æ•´æ•°çŸ©é˜µï¼Œå…¶ä¸­ `mat[i][j] == i * j`ï¼ˆä¸‹æ ‡ä» **1** å¼€å§‹ï¼‰ã€‚

è¯·ä½ åœ¨ `m x n` ä¹˜æ³•è¡¨ä¸­ï¼Œæ‰¾å‡ºå¹¶è¿”å›ç¬¬ `k` å°çš„æ•°å­—ã€‚

**ç¤ºä¾‹ 1ï¼š**

![image-20231213164709962](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202312131647041.png)

```cpp
è¾“å…¥ï¼šm = 3, n = 3, k = 5
è¾“å‡ºï¼š3
è§£é‡Šï¼šç¬¬ 5 å°çš„æ•°å­—æ˜¯ 3 ã€‚
```

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š äºŒåˆ† + è®¡æ•°  **:star:==   åŒä¸Šä¸€é¢˜ï¼š  [lc378. æœ‰åºçŸ©é˜µä¸­ç¬¬ K å°çš„å…ƒç´ ](https://leetcode.cn/problems/kth-smallest-element-in-a-sorted-matrix/)

### ä»£ç 

```c++
int findKthNumber(int m, int n, int k) {
    int left = 1, right = m * n;
    while (left < right) {
        int mid = left + (right - left) / 2;
        int cnt = getCntNotBiggerThanMid(m, n, mid);
        if (cnt >= k) right = mid;
        else left = mid + 1;
    }
    return left;
}
int getCntNotBiggerThanMid(int m, int n, int mid) {
    //ä»å·¦ä¸‹è§’å¼€å§‹ï¼Œä»¥midä¸ºåˆ†å‰²çº¿åˆ†å‰²çŸ©é˜µ
    int i = m, j = 1, cnt = 0;
    while (i >= 1 && j <= n) {
        int num = i * j;
        if (num <= mid) { //æ¯”midå°ï¼Œåˆ†åœ¨å·¦è¾¹
            ++j;//å¾€å³èµ°
            cnt += i;//åŒä¸€åˆ—ä¸Šæ–¹æ‰€æœ‰å…ƒç´ éƒ½<mid
        }
        else --i;//å¾€ä¸Šèµ°
    }
    return cnt;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(m * log mn) 
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)


## [lc410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼](https://leetcode.cn/problems/split-array-largest-sum/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•°ç»„åˆ†æˆ `k` ä¸ªéç©ºçš„**è¿ç»­å­æ•°ç»„**ã€‚

è®¾è®¡ä¸€ä¸ªç®—æ³•ä½¿å¾—è¿™ `k` ä¸ªå­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼æœ€å°ã€‚

**ç¤ºä¾‹ 1ï¼š**

```cpp
è¾“å…¥ï¼šnums = [7,2,5,10,8], k = 2
è¾“å‡ºï¼š18
è§£é‡Šï¼š
ä¸€å…±æœ‰å››ç§æ–¹æ³•å°† nums åˆ†å‰²ä¸º 2 ä¸ªå­æ•°ç»„ã€‚ 
å…¶ä¸­æœ€å¥½çš„æ–¹å¼æ˜¯å°†å…¶åˆ†ä¸º [7,2,5] å’Œ [10,8] ã€‚
å› ä¸ºæ­¤æ—¶è¿™ä¸¤ä¸ªå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ä¸º18ï¼Œåœ¨æ‰€æœ‰æƒ…å†µä¸­æœ€å°ã€‚
```

### å‚è€ƒé¢˜è§£

1. [liweiweiå¤§ä½¬](https://leetcode.cn/problems/split-array-largest-sum/solutions/242909/er-fen-cha-zhao-by-liweiwei1419-4/) 

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šã€Œä½¿æœ€å¤§å€¼æœ€å°åŒ–ã€-->äºŒåˆ†æŸ¥æ‰¾   **:star:==

æ­¤é¢˜éš¾ç‚¹åœ¨äºå¦‚ä½•å°†å…¶ä¸äºŒåˆ†è”ç³»èµ·æ¥ã€‚

**:key:  keyï¼š**

- å¦‚æœæŸä¸ª æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ æ°å¥½ä½¿å¾—åˆ†å‰²æ¬¡æ•°ä¸ºkï¼Œæ­¤æ—¶ä¸èƒ½æ”¾å¼ƒæœç´¢ï¼Œè€Œè¦ç»§ç»­å°è¯•ç¼©å°è¿™ä¸ªã€æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘ï¼Œä½¿å¾—è¿™ä¸ªæœ€å¤§å€¼ æœ€å°åŒ– ï¼Œç›´åˆ°åˆ†å‰²æ¬¡æ•°è¶…è¿‡ k ï¼Œè¶…è¿‡kçš„æœ€åä¸€ä¸ªä½¿å¾—åˆ†å‰²æ•°ä¸ºkçš„ ã€æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ æœ€å°å€¼ã€‚


**:question:   problems:** 

1. æ€ä¹ˆæƒ³åˆ°ç”¨äºŒåˆ†æ¥åšçš„?

:heavy_check_mark:  **answer:** 

1. å›é¡¾äºŒåˆ†çš„åº”ç”¨ï¼šæŸ¥æ‰¾ä¸€ä¸ªæœ‰èŒƒå›´çš„æ•´æ•°ã€‚è€Œè¯¥é¢˜æˆ‘ä»¬è¦æŸ¥æ‰¾çš„æ•°æ˜¯ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘ï¼Œè¿™ä¸ªå€¼ä¸€å®šåœ¨maxVal~sumä¹‹é—´ï¼ˆmavValæŒ‡æ•°ç»„ä¸­å…ƒç´ çš„æœ€å¤§å€¼ï¼Œsumä¸ºæ•°ç»„å…ƒç´ ä¹‹å’Œï¼‰ã€‚

    æˆ‘ä»¬å¯ä»¥åˆ†æçŸ¥é“ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘ä¸ã€åˆ†å‰²æ¬¡æ•°ã€‘çš„å…³ç³»ï¼š

    - ã€åˆ†å‰²æ¬¡æ•°ã€‘å°‘äº† <=>ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘å¤§äº†

    - ã€åˆ†å‰²æ¬¡æ•°ã€‘å¤šäº† <=>ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘å°äº†

        > åˆ†å‰²æ¬¡æ•°çš„å¤šä¸å°‘ï¼Œæ˜¯ç›¸å¯¹é¢˜ç›®ç»™å®šçš„ k è€Œè¨€çš„

    å› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆè®©ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘=midï¼Œæ ¹æ®midè®¡ç®—æ•°ç»„çš„åˆ†å‰²æ¬¡æ•°cntï¼Œä¹‹åæ ¹æ®cntæ˜¯å¤šäº†è¿˜æ˜¯å°‘äº†ï¼ˆä¸kæ¯”è¾ƒï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´midçš„å€¼ã€‚

**:small_red_triangle_down: steps: **

1.  æ±‚äºŒåˆ†ä¸Šä¸‹ç•Œï¼ˆå³äºŒåˆ†åˆå§‹èŒƒå›´ï¼‰
2.  äºŒåˆ†
    1.  è®¡ç®—mid
    2.  è®¡ç®—ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘ä¸ºmidæ—¶çš„åˆ†å‰²æ¬¡æ•°
        - å¦‚æœåˆ†å‰²æ¬¡æ•°å¤šäº†ï¼Œè¯´æ˜midå°äº†
        - å¦‚æœåˆ†å‰²æ¬¡æ•°å°‘äº†ï¼Œè¯´æ˜midå¤§äº†


### ä»£ç 

```c++
int splitArray(vector<int>& nums, int k) {
    int sum = 0, maxVal = 0;//äºŒåˆ†çš„ä¸Šä¸‹ç•Œï¼ˆã€Œå­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼ã€çš„ä¸Šä¸‹ç•Œï¼‰
    for (auto val : nums) {
        maxVal = max(maxVal, val);//å¾—åˆ°æœ€å¤§å…ƒç´ å€¼ï¼Œæ•°ç»„å’Œæœ€å°ä¸å°äºè¿™ä¸ªå€¼
        sum += val;//å¾—åˆ°numså…ƒç´ æ€»å’Œ
    }
    int left = maxVal, right = sum;
    while (left < right) {
        int mid = left + (right - left) / 2;
        int splitCnt = split(nums,mid);//è®¡ç®—ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘ä¸ºmidæ—¶çš„åˆ†å‰²æ¬¡æ•°
        //å¦‚æœåˆ†å‰²æ¬¡æ•°å¤šäº†ï¼Œè¯´æ˜midå°äº†
        if (splitCnt > k) left = mid + 1;
        //å¦‚æœåˆ†å‰²æ¬¡æ•°å°‘äº†ï¼Œè¯´æ˜midå¤§äº†
        else right = mid;
    }
    return left;
}
int split(vector<int>& nums, int maxValOfIntervals) {
    //maxValOfIntervals:å­æ•°ç»„å„è‡ªçš„å’Œçš„æœ€å¤§å€¼
    int splitCnt = 1;//åˆ†å‰²æ¬¡æ•°æœ€å°ä¸º1
    int IntervalSum = 0;
    for (auto num : nums) {
        if (IntervalSum + num > maxValOfIntervals) { //è‹¥åŠ ä¸Šå½“å‰å…ƒç´ numåå½“å‰å­æ•°ç»„çš„å’Œ è¶…è¿‡äº†maxValOfIntervals, åˆ™å½“å‰å­æ•°ç»„å°±ä¸ç®—ä¸Šnumï¼Œå¹¶ä¸”å¦èµ·ä¸‹ä¸€ä¸ªåˆ†å‰²
            IntervalSum = 0;
            ++splitCnt;                
        }
        IntervalSum += num;
    }
    return splitCnt;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n * log(sum-maxVal))  

    äºŒåˆ†çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log(sum-maxVal))ï¼Œå…¶ä¸­æ¯æ¬¡æ“ä½œï¼ˆè®¡ç®—ã€å­æ•°ç»„å„è‡ªå’Œçš„æœ€å¤§å€¼ã€‘ä¸ºmidæ—¶çš„åˆ†å‰²æ•°ï¼‰éœ€è¦éå†æ•°ç»„è®¡ç®—ï¼Œä¸ºO(n)

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)



## [lc483. æœ€å°å¥½è¿›åˆ¶](https://leetcode.cn/problems/smallest-good-base/)

## :fire:[31. ä¸‹ä¸€ä¸ªæ’åˆ—](https://leetcode.cn/problems/next-permutation/)

### é¢˜æ„

æ•´æ•°æ•°ç»„çš„ä¸€ä¸ª **æ’åˆ—** å°±æ˜¯å°†å…¶æ‰€æœ‰æˆå‘˜ä»¥åºåˆ—æˆ–çº¿æ€§é¡ºåºæ’åˆ—ã€‚

- ä¾‹å¦‚ï¼Œ`arr = [1,2,3]` ï¼Œä»¥ä¸‹è¿™äº›éƒ½å¯ä»¥è§†ä½œ `arr` çš„æ’åˆ—ï¼š`[1,2,3]`ã€`[1,3,2]`ã€`[3,1,2]`ã€`[2,3,1]` ã€‚

æ•´æ•°æ•°ç»„çš„ **ä¸‹ä¸€ä¸ªæ’åˆ—** æ˜¯æŒ‡å…¶æ•´æ•°çš„ä¸‹ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚æ›´æ­£å¼åœ°ï¼Œå¦‚æœæ•°ç»„çš„æ‰€æœ‰æ’åˆ—æ ¹æ®å…¶å­—å…¸é¡ºåºä»å°åˆ°å¤§æ’åˆ—åœ¨ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œé‚£ä¹ˆæ•°ç»„çš„ **ä¸‹ä¸€ä¸ªæ’åˆ—** å°±æ˜¯åœ¨è¿™ä¸ªæœ‰åºå®¹å™¨ä¸­æ’åœ¨å®ƒåé¢çš„é‚£ä¸ªæ’åˆ—ã€‚å¦‚æœä¸å­˜åœ¨ä¸‹ä¸€ä¸ªæ›´å¤§çš„æ’åˆ—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ç»„å¿…é¡»é‡æ’ä¸ºå­—å…¸åºæœ€å°çš„æ’åˆ—ï¼ˆå³ï¼Œå…¶å…ƒç´ æŒ‰å‡åºæ’åˆ—ï¼‰ã€‚

- ä¾‹å¦‚ï¼Œ`arr = [1,2,3]` çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ `[1,3,2]` ã€‚
- ç±»ä¼¼åœ°ï¼Œ`arr = [2,3,1]` çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ `[3,1,2]` ã€‚
- è€Œ `arr = [3,2,1]` çš„ä¸‹ä¸€ä¸ªæ’åˆ—æ˜¯ `[1,2,3]` ï¼Œå› ä¸º `[3,2,1]` ä¸å­˜åœ¨ä¸€ä¸ªå­—å…¸åºæ›´å¤§çš„æ’åˆ—ã€‚

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾å‡º `nums` çš„ä¸‹ä¸€ä¸ªæ’åˆ—ã€‚

å¿…é¡»**[ åŸåœ° ](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)**ä¿®æ”¹ï¼Œåªå…è®¸ä½¿ç”¨é¢å¤–å¸¸æ•°ç©ºé—´ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[1,3,2]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [3,2,1]
è¾“å‡ºï¼š[1,2,3]
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,5]
è¾“å‡ºï¼š[1,5,1]
```

**æç¤ºï¼š**

- `1 <= nums.length <= 100`
- `0 <= nums[i] <= 100`

### æ€è·¯

**:key:  keyï¼š**

- åªè¦numsä¸æ˜¯é€†åºæ•°ç»„ï¼Œå°±å­˜åœ¨ä¸‹ä¸€ä¸ªæ’åˆ—

    é‚£æ€ä¹ˆæ‰¾ä¸‹ä¸€ä¸ªæ’åˆ—å‘¢ï¼Ÿ

    ä»åå¾€å‰æ‰¾ç¬¬ä¸€ä¸ªæ‰“ç ´ä»å³å¾€å·¦é€’å¢çš„ï¼Œæ¯”å¦‚ 263 541 ä¸­, 35å°±æ˜¯ç¬¬ä¸€ä¸ªÂ·Â·Â·

    æ­¤æ—¶å°±éœ€è¦æŠŠ3æ¢æ‰ï¼Œæ¢æˆ3åé¢æ¯”3å¤§çš„æœ€å°çš„æ•°4, å˜ä¸º264 531, 

    ç”±äºåé¢çš„æ•°ä»æ˜¯é€†åºçš„ï¼Œå› æ­¤åªéœ€åŒæŒ‡é’ˆå°†å…¶å†é€†è¿‡æ¥å³å¯å˜æˆæ­£åº

    [è¯„è®ºåŒº](https://leetcode.cn/problems/next-permutation/description/comments/926319)

### ä»£ç 

```c++
void nextPermutation(vector<int>& nums) {
    int i = nums.size() - 1; 
    while (i > 0 && nums[i - 1] >= nums[i]) {
        i--;
    }
    // å¦‚æœi==0, è¯´æ˜æ•´ä¸ªæ•°ç»„éƒ½æ˜¯é€†åºçš„ï¼ŒåŒæŒ‡é’ˆå°†å…¶å˜ä¸ºæ­£åº
    if (i == 0) {
        int left = 0, right = nums.size() - 1;
        while (left < right) {
            swap(nums[left++], nums[right--]);
        }
        return;
    }
    // nums[i-1]<nums[i], i-1å°±æ˜¯ç¬¬ä¸€ä¸ªæ‰“ç ´ä»å³å¾€å·¦é€’å¢çš„æ•°, æ¥ç€ä»åå¾€å‰æ‰¾i-1åé¢æ¯”å®ƒå¤§çš„æœ€å°çš„æ•°
    int j = nums.size() - 1;
    while (j >= i && nums[j] <= nums[i - 1]) {
        j--;
    }
    // é€€å‡ºå¾ªç¯æ—¶nums[j] > nums[i - 1], jå°±æ˜¯æœ€å°çš„æ¯”nums[i-1]å¤§çš„æ•°
    swap(nums[i - 1], nums[j]);
    // åŒæŒ‡é’ˆå°†ååŠéƒ¨åˆ†é€†åº
    int left = i, right = nums.size() - 1;
    while (left < right) {
        swap(nums[left++], nums[right--]);
    }
}
```



# ä»¥ä¸‹å¾…å®Œå–„ã€‚ã€‚ã€‚

## lc26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹

```c++
int removeDuplicates(vector<int>& nums) {
    if (nums.size() < 2) return nums.size();
    int slow = 0; //slowå°±æ˜¯è¦å¡«å‘çš„ä½ç½®ï¼Œfastè´Ÿè´£æ‰¾èƒ½å¡«å‘çš„ä¸œè¥¿
    for (int fast = 1; fast < nums.size(); fast++)
        if (nums[slow] != nums[fast]) nums[++slow] = nums[fast];
    //faståç§»ç›´åˆ°num[fast]!=nums[slow]æ—¶åœä¸‹ï¼Œç»™slowçš„ä¸‹ä¸€ä¸ªä½ç½®ï¼ˆå³=nums[slow]çš„ç¬¬ä¸€ä¸ªé‡å¤å…ƒç´ ï¼‰èµ‹å€¼ä¸ºnums[fast]
    // è™½ç„¶nums[0]!=nums[1]çš„æ—¶å€™ä¹Ÿä¼šèµ°èµ‹å€¼é€»è¾‘ï¼Œä½†è‡ªå·±ç»™è‡ªå·±èµ‹å€¼åˆæ²¡å½±å“
    return ++slow;
    //æœ€åslowå°±æŒ‡å‘å»é‡åçš„æœ€åä¸€ä¸ªæœ‰æ•ˆå…ƒç´ ï¼Œå› æ­¤0~slowæ€»å…±æœ‰slow+1ä¸ªå…ƒç´ 
}
```



## lc844.æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸²

```c++
class Solution {
public:
    bool backspaceCompare(string s, string t) {
        changestring(s);
        changestring(t);
        return s==t;
    }
    void changestring(string &s) {
        int slow = 0;
        for(int fast = 0; fast < s.size(); fast++) {
            if(s[fast] != '#') s[slow++] = s[fast];//é#åˆ™å­˜å‚¨å­—ç¬¦ & slowå³ç§»
            // å½“ä»å¤´å¾€åéå†æ²¡é‡åˆ°'#'å‰ï¼Œslowå’Œfastä¸€ç›´éƒ½æ˜¯åŒæ­¥å³ç§»ä¸”æŒ‡å‘åŒä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶çš„èµ‹å€¼å°±æ˜¯è‡ªå·±ç»™è‡ªå·±èµ‹å€¼ã€‚å½“å‡ºç°'#'åï¼Œfastç»§ç»­å¾€å³èµ°ä¸€ä¸ªä½ç½®ï¼Œè€Œslowä¼šå¾€å·¦èµ°å›å»ä¸€ä¸ªä½ç½®(èµ°å›å»çš„ä½ç½®å°±æ˜¯è¦å›åˆ çš„å…ƒç´ )ã€‚è‹¥ä¸‹ä¸€æ¬¡å¾ªç¯s[fast]!='#'ï¼Œåˆ™è®©æ­¤æ—¶çš„s[fast]ç»™å‰é¢èµ°å›å»çš„slowçš„æ‰€å¤„ä½ç½®(è¦è¢«åˆ é™¤çš„å…ƒç´ æ‰€åœ¨çš„ä½ç½®)èµ‹å€¼ï¼Œç›¸å½“äºåˆ æ‰slowä½ç½®åŸæ¥çš„å…ƒç´ ï¼Œæ›¿æ¢ä¸Šäº†fastæŒ‡å‘çš„é'#'å…ƒç´ ã€‚
            else if(slow != 0) slow--;//å‡ºç°#åˆ™å›åˆ å­—ç¬¦ & slowå·¦ç§»(é™¤éslow=0çš„æ—¶å€™å°±ä¸èƒ½å†å›åˆ äº†)
        }
        s.resize(slow);//å‰ªæ‰slowåé¢çš„å“ªäº›'#'
    }
};
/*æ‰“å°æ—¥å¿—ç”¨ï¼š
bool backspaceCompare(string s, string t) {
    changestring(s);
    cout <<"-----------------------------------"<< endl;
    changestring(t);
    return s==t;
}
void changestring(string &s) {
    int slow = 0;
    for(int fast = 0; fast < s.size(); fast++) {
        cout<<"(slow,fast)=("<<slow<<","<<fast<<"). s[slow]="<<s[slow]<<",s[fast]="<<s[fast]<<endl;
        if(s[fast] != '#') s[slow++] = s[fast];//é#åˆ™å­˜å‚¨å­—ç¬¦ & slowå³ç§»
        // å½“ä»å¤´å¾€åéå†æ²¡é‡åˆ°'#'å‰ï¼Œslowå’Œfastä¸€ç›´éƒ½æ˜¯åŒæ­¥å³ç§»ä¸”æŒ‡å‘åŒä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶çš„èµ‹å€¼å°±æ˜¯è‡ªå·±ç»™è‡ªå·±èµ‹å€¼ã€‚å½“å‡ºç°'#'åï¼Œfastç»§ç»­å¾€å³èµ°ä¸€ä¸ªä½ç½®ï¼Œè€Œslowä¼šå¾€å·¦èµ°å›å»ä¸€ä¸ªä½ç½®(èµ°å›å»çš„ä½ç½®å°±æ˜¯è¦å›åˆ çš„å…ƒç´ )ã€‚è‹¥ä¸‹ä¸€æ¬¡å¾ªç¯s[fast]!='#'ï¼Œåˆ™è®©æ­¤æ—¶çš„s[fast]ç»™å‰é¢èµ°å›å»çš„slowçš„æ‰€å¤„ä½ç½®(è¦è¢«åˆ é™¤çš„å…ƒç´ æ‰€åœ¨çš„ä½ç½®)èµ‹å€¼ï¼Œç›¸å½“äºåˆ æ‰slowä½ç½®åŸæ¥çš„å…ƒç´ ï¼Œæ›¿æ¢ä¸Šäº†fastæŒ‡å‘çš„é'#'å…ƒç´ ã€‚
        else if(slow != 0) slow--;//å‡ºç°#åˆ™å›åˆ å­—ç¬¦ & slowå·¦ç§»(é™¤éslow=0çš„æ—¶å€™å°±ä¸èƒ½å†å›åˆ äº†)
        cout<<"(slow,fast+1)=("<<slow<<","<<fast+1<<"). s[slow]="<<s[slow]<<",s[fast+1]="<<s[fast+1]<<endl;
        cout << endl;
    }
    s.resize(slow);//å‰ªæ‰slowåé¢çš„å“ªäº›'#'
}
*/
```

## lc904.æ°´æœæˆç¯® 

### è§£é¢˜æ­¥éª¤

```c++
1ã€è®¤è¯†é¢˜ç›®ã€å…³é”®ï¼ã€‘
    é€šè¿‡"The trees are represented by an integer array fruits where fruits[i] is the type of fruits the ith tree produces."æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œ
    æ¯”å¦‚[0,1,2,2]å°±æ˜¯ç¬¬ä¸€æ£µæ ‘èƒ½produceçš„æ°´æœçš„typeå°±æ˜¯0ï¼Œç¬¬äºŒæ£µæ ‘èƒ½produceçš„æ°´æœçš„typeå°±æ˜¯1ï¼Œç¬¬ä¸‰,å››æ£µæ ‘èƒ½produceçš„æ°´æœçš„typeå°±æ˜¯2.
    å› æ­¤é¢˜ç›®è¦æ±‚å°±æ˜¯ï¼šæ±‚å‡ºè‡³å¤šåŒ…å«ä¸¤ç§å…ƒç´ çš„æœ€é•¿å­ä¸²ï¼Œè¿”å›å…¶é•¿åº¦ï¼ˆå› ä¸ºæ¯æ£µæ ‘åªèƒ½é‡‡ä¸€ä¸ªæ°´æœï¼Œå› æ­¤æ±‚æœ€å¤šèƒ½pickçš„æ°´æœç§ç±»æ•°å°±æ˜¯æ±‚Â·Â·Â·Â·ï¼‰
2ã€å»ºæ¨¡å‹
    ç”¨æ»‘åŠ¨çª—å£ç»´æŠ¤è‡³å¤šåŒ…å«ä¸¤ç§å…ƒç´ çš„å­ä¸²ï¼Œå½“çª—å£å†…å…ƒç´ ç§ç±»æ•°==1æ—¶ï¼Œrightç»§ç»­å³ç§»æ‰©å¼ çª—å£ï¼›å½“rightæŒ‡é’ˆå³ç§»å‘ç°å³å°†æœ‰ç¬¬ä¸‰ç§å…ƒç´ è¿›å…¥çª—å£æ—¶ï¼Œç»Ÿè®¡ç»“æœï¼šå…ˆæ¯”è¾ƒå½“å‰çª—å£é•¿åº¦å’ŒmaxLenï¼ˆè¦è¿”å›çš„ç»“æœï¼‰ï¼Œå¦‚æœ>maxLenåˆ™æ›´æ–°maxLenï¼Œéšåå†left++ç¼©å°çª—å£ï¼Œå°†çª—å£å†…ç¬¬ä¸€ç§å…ƒç´ å…¨éƒ¨ç§»å‡ºçª—å£ï¼Œright++å°†æ–°ç§ç±»æ°´æœç§»è¿›çª—å£.
3ã€æ•°æ®ç»“æ„çš„é€‰æ‹©
    ä¸€ç§æ˜¯ å°±åªä½¿ç”¨ä¸¤ä¸ªå˜é‡ä¿å­˜çª—å£ç»´æŠ¤çš„ä¸¤ç§typeï¼Œä¸è¿‡è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±ä¸æ˜¯O(n)äº†ï¼Œå› ä¸ºæ¯æ¬¡é‡åˆ°ç¬¬ä¸‰ä¸ªæ–°typeæ”¶ç¼©çª—å£å·¦è¾¹ç•Œæ—¶éƒ½è¦éå†ä¸€éƒ¨åˆ†çª—å£ï¼›
    è¿˜æœ‰ä¸€ç§æ˜¯ ä½¿ç”¨hashmapæ˜ å°„æ°´æœçš„typeå’Œå¯¹åº”typeçš„æ•°é‡ï¼Œè¿™æ ·å¾€å³æ”¶ç¼©çª—å£å·¦è¾¹ç•Œæ—¶å°±ä¸ç”¨éå†çª—å£äº†ï¼Œä½†æ˜¯åšå“ˆå¸Œæ˜ å°„å…¶å®ä¹Ÿæ˜¯éœ€è¦æ—¶é—´çš„ã€‚
4ã€å¥—å…¬å¼--æ»‘åŠ¨çª—å£å…¬å¼ï¼Ÿ
5ã€æ£€æŸ¥å¸¸çŠ¯é”™è¯¯ï¼šæ¯”å¦‚æ•°ç»„ä¸‹æ ‡è¶Šç•Œã€
6ã€å¸¦å…¥caseæµ‹è¯•
```

### ä»£ç 

[å‚è€ƒé¢˜è§£ï¼Ÿï¼Ÿï¼Ÿ](https://leetcode.cn/problems/fruit-into-baskets/solutions/2115731/dai-ma-sui-xiang-lu-904shui-guo-cheng-la-h7kx/)

```c++
int totalFruit(vector<int>& fruits) {
    int left = 0, right = 0, n = fruits.size(), maxLen = 0;
    int type1 = fruits[0], type2 = -1;//è¡¨ç¤ºçª—å£å†…ç¬¬ä¸€ç§æ°´æœçš„typeå’Œç¬¬äºŒç§æ°´æœçš„type
    // while (right < n) {
    //     if (fruits[right] == type1 || fruits[right] == type2) {//è¦è¿›å…¥çª—å£çš„æ°´æœç§ç±»æ˜¯çª—å£typeä¸­çš„ä¸€ç§
    //         if (right == n - 1) maxLen = max(maxLen, right - left + 1);
    //         right++;
    //     }
    //     else { //é‡åˆ°æ–°typeã€å…³é”®ï¼ã€‘
    //         maxLen = max(maxLen, right - 1 - left + 1);//ç»Ÿè®¡æœªæ›´æ–°å‰çš„çª—å£é•¿åº¦
    //         left = right - 1;//æŒ‡å‘æœªæ›´æ–°å‰çš„çª—å£çš„type2ï¼Œæ›´æ–°çª—å£åå°†å˜æˆæ–°çª—å£çš„type1
    //         type1 = fruits[left];//æ›´æ–°çª—å£çš„type1ä¸ºä¹‹å‰çª—å£çš„type2
    //         while (left >= 1 && fruits[left - 1] == type1) left--;//ä¿ç•™çª—å£æ‰€æœ‰=type1(ä¹‹å‰çš„type2)çš„æ ‘
    //         type2 = fruits[right]; //æ›´æ–°çª—å£çš„type2ä¸ºç§»å…¥çª—å£çš„æ–°type
    //         maxLen = max(maxLen, right - left + 1);
    //         right++;
    //     }
    // }

    // whileé€»è¾‘å¯ä»¥åŒ–ç®€ä¸ºï¼š
    while (right < n) {
        if (fruits[right] != type1 && fruits[right] != type2) {//é‡åˆ°æ–°typeã€å…³é”®ï¼ã€‘
            left = right - 1;//æŒ‡å‘æœªæ›´æ–°å‰çš„çª—å£çš„type2ï¼Œæ›´æ–°çª—å£åå°†å˜æˆæ–°çª—å£çš„type1
            type1 = fruits[left];//æ›´æ–°çª—å£çš„type1ä¸ºä¹‹å‰çª—å£çš„type2
            type2 = fruits[right]; //æ›´æ–°çª—å£çš„type2ä¸ºç§»å…¥çª—å£çš„æ–°type
            while (left >= 1 && fruits[left - 1] == type1) left--;//ä¿ç•™çª—å£æ‰€æœ‰=type1(ä¹‹å‰çš„type2)çš„æ ‘
        }
        //å› ä¸ºä¸è®ºæ˜¯å¦é‡åˆ°æ–°typeéƒ½è¦èµ°ä¸‹é¢çš„é€»è¾‘
        maxLen = max(maxLen, right - left + 1);
        right++;
    }
    return maxLen;
    
    
    //å¦‚æœä½¿ç”¨å“ˆå¸Œmap
    
    unordered_map<int,int> cnt;
    for(int right = 0; right < fruits.size(); right++) {
        cnt[fruits[right]]++;
        while(cnt.size() > 2) {//å½“ç¯®å­ä¸­å­˜å‚¨çš„typeè¶…è¿‡2ç±»(å“ˆå¸Œè¡¨å¤§å°>2)æ—¶ï¼Œæˆ‘ä»¬å°±è¦å¾€å¤–æ‰”æ°´æœäº†ï¼ï¼ˆç§»åŠ¨leftå°†fruits[left]ä»å“ˆå¸Œè¡¨ä¸­ç§»é™¤ï¼‰
            cnt[fruits[left]]--;
            if(cnt[fruits[left]] == 0) cnt.erase(fruits[left]);
            //å¦‚æœfruits[left]åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°çš„æ¬¡æ•°å‡å°‘ä¸º0ï¼Œé‚£ä¹ˆå°±å°†å…¶keyå€¼ç§»å‡ºï¼Œæ­¤æ—¶å“ˆå¸Œè¡¨å¤§å°=2ï¼Œç»§ç»­å¾ªç¯ã€‚
            left++;
        }
        maxLen = max(maxLen, right - left + 1);
    }
    return maxLen;
}
```

## lc59.èºæ—‹çŸ©é˜µII  

```c++
vector<vector<int>> generateMatrix(int n) {
    vector<vector<int>> ans(n, vector<int>(n, 0));
    int k = 1;//è®¡æ•°ï¼Œç»™æ ¼å­èµ‹å€¼
    int top = 0, bottom = n - 1, l = 0, r = n - 1;//ä¸Šä¸‹å·¦å³è¾¹ç•Œï¼ˆé—­ï¼‰
    while(k <= n * n){ //æ¡ä»¶ç”¨(l <= r || top <= bottom)ä¹Ÿå¯ä»¥ï¼Œåæ­£åªè¦èƒ½å¤„ç†åˆ°nä¸ºå¥‡æ•°æ—¶æœ€ä¸­å¿ƒé‚£ä¸ªå‰©ä¸‹çš„å…ƒç´ 
        // 1. ä»å·¦åˆ°å³éå†ä¸Šä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º(top,l)åˆ°(top,r) 
        for(int i = l; i <= r; ++i) ans[top][i] = k++; 
        // 2. ä»ä¸Šåˆ°ä¸‹éå†å³ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º(top+1,r)åˆ°(bottom,r) 
        for(int i = ++top; i <= bottom; ++i) ans[i][r] = k++; 
        // 3. ä»å³åˆ°å·¦éå†ä¸‹ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom,râˆ’1)åˆ°(bottom,l)ï¼Œ
        for(int i = --r; i >= l; --i) ans[bottom][i] = k++;
        // 4. ä»ä¸‹åˆ°ä¸Šéå†å·¦ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom-1,l)åˆ° (top+1,l) 
        for(int i = --bottom; i >= top; --i) ans[i][l] = k++; 
        ++l;
    }
    return ans;
}
```

> ä¹Ÿå¯ä»¥å’Œ54é‚£ç§m*nçŸ©é˜µä¸€æ ·ï¼Œåœ¨æ¯ä¸ªforåé¢åˆ¤æ–­æ˜¯å¦breakï¼Œç»Ÿä¸€å†™æ³•ï¼ˆä½†æ˜¯æ„Ÿè§‰èƒ½å†™å‡ºä¸Šé¢çš„å°±å†™ä¸Šé¢è¿™ç§å§ï¼Œæ„Ÿè§‰å¯¹äºn\*nçŸ©é˜µæ¥è¯´ä¸Šé¢è¿™ç§å†™æ³•æ›´å¥½ï¼‰

## :fire:54. èºæ—‹çŸ©é˜µ

```c++
vector<int> spiralOrder(vector<vector<int>>& matrix) {
/*
    ä»å¤–å±‚åˆ°å†…å±‚éå†, æˆ‘ä»¬ç”¨top, bottom, left, rightè¡¨ç¤ºæ¯ä¸€å±‚çš„ä¸Šä¸‹å·¦å³è¾¹ç•Œ
    ä»€ä¹ˆæ—¶å€™éå†ç»“æŸå‘¢? å½“ä¸Šä¸‹è¾¹ç•Œæˆ–å·¦å³è¾¹ç•Œé‡åˆæ—¶,è¯´æ˜è¿™æ˜¯æœ€åä¸€è¡Œ(åˆ—)äº†
*/
    int rows = matrix.size();
    int cols = matrix[0].size();
    vector<int> ans(rows * cols);
    int k = 0;
    int top = 0, bottom = rows - 1, left = 0, right = cols - 1;//é—­

    while (true) { //é¡ºæ—¶é’ˆéå†ä¸€æ•´åœˆ
        // 1.ä»å·¦å¾€å³
        for (int j = left; j <= right; ++j) {
            ans[k++] = matrix[top][j];
        }
        //topè¿™è¡Œéå†å®Œäº†
        if (++top > bottom) break;
        // 2.ä»ä¸Šå¾€ä¸‹
        for (int i = top; i <= bottom; ++i) {
            ans[k++] = matrix[i][right];
        }
        //rightè¿™åˆ—éå†å®Œäº†
        if (--right < left) break;
        // 3.ä»å³å¾€å·¦
        for (int j = right; j >= left; --j) {
            ans[k++] = matrix[bottom][j];
        }
        //bottomè¿™è¡Œéå†å®Œäº†
        if (--bottom < top) break;
        // 4.ä»ä¸‹å¾€ä¸Š
        for (int i = bottom; i >= top; --i) {
            ans[k++] = matrix[i][left];
        }
        //leftè¿™åˆ—éå†å®Œäº†
        if (++left > right) break;
    }
    return ans;
} 
```

## [:crossed_swords:å‰‘æŒ‡ Offer 29. é¡ºæ—¶é’ˆæ‰“å°çŸ©é˜µ](https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof)

### é¢˜æ„

è¾“å…¥ä¸€ä¸ªçŸ©é˜µï¼ŒæŒ‰ç…§ä»å¤–å‘é‡Œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºä¾æ¬¡æ‰“å°å‡ºæ¯ä¸€ä¸ªæ•°å­—ã€‚

ç¤ºä¾‹ï¼š

```c++
è¾“å…¥ï¼šmatrix = [[1,2,3],[4,5,6],[7,8,9]]
è¾“å‡ºï¼š[1,2,3,6,9,8,7,4,5]
```

- 0 <= matrix.length <= 100
- 0 <= matrix[i].length <= 100

### æ€è·¯

è¯¥é¢˜åŒ lc54. èºæ—‹çŸ©é˜µ

### ä»£ç 

ä¸€ç§å†™æ³•ï¼Œä¸€å¼€å§‹resä¸ºç©ºï¼Œä¹‹åä¸æ–­push_backå°¾æ’å…ƒç´ è¿›å»ã€‚

```c++
vector<int> spiralArray(vector<vector<int>>& nums) {
    if (nums.size() == 0) return {};//ä¹Ÿå¯ä»¥ç”¨if(matrix.empty())åˆ¤ç©º
    int n = nums.size(), m = nums[0].size();
    vector<int> res;
    // ä¸Šä¸‹å·¦å³å››ä¸ªéå†è¾¹ç•Œ
    int top = 0, bottom = n - 1, left = 0, right = m - 1;
    while (true) {
        // 1. ä»å·¦åˆ°å³éå†ä¸Šä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º(top,l)åˆ°(top,r) 
        for (int j = left; j <= right; ++j) res.emplace_back(nums[top][j]);
        if (++top > bottom) break;//æ”¶ç¼©ä¸Šè¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€è¡Œï¼Œåˆ™ç›´æ¥break
        // 2. ä»ä¸Šåˆ°ä¸‹éå†å³ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º(top+1,r)åˆ°(bottom,r) 
        for (int i = top; i <= bottom; ++i) res.emplace_back(nums[i][right]);
        if (--right < left) break;//æ”¶ç¼©å³è¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€åˆ—ï¼Œåˆ™ç›´æ¥break
        // 3. ä»å³åˆ°å·¦éå†ä¸‹ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom,râˆ’1)åˆ°(bottom,l)
        for (int j = right; j >= left; --j) res.emplace_back(nums[bottom][j]);
        if (--bottom < top) break;//æ”¶ç¼©ä¸‹è¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€è¡Œï¼Œåˆ™ç›´æ¥break
        // 4. ä»ä¸‹åˆ°ä¸Šéå†å·¦ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom-1,l)åˆ° (top+1,l) 
        for (int i = bottom; i >= top; --i) res.emplace_back(nums[i][left]);
        if (++left > right) break;//æ”¶ç¼©å·¦è¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€åˆ—ï¼Œåˆ™ç›´æ¥break 
    }
    return res;
}
```

æ›´å¥½çš„å†™æ³•æ˜¯ï¼š é¢„å…ˆåˆ†é…å¥½ç©ºé—´ï¼Œé€šè¿‡ç´¢å¼•kå°†å€¼èµ‹å€¼åˆ°res

```c++
vector<int> spiralArray(vector<vector<int>>& nums) {
    if (nums.size() == 0) return {};//ä¹Ÿå¯ä»¥ç”¨if(matrix.empty())åˆ¤ç©º
    int n = nums.size(), m = nums[0].size();
    vector<int> res(m * n);//é¢„å…ˆåˆ†é…å¥½ç©ºé—´
    int k = 0;//é€šè¿‡ç´¢å¼•kç»™res[k++]èµ‹å€¼
    // ä¸Šä¸‹å·¦å³å››ä¸ªéå†è¾¹ç•Œ
    int top = 0, bottom = n - 1, left = 0, right = m - 1;
    while (true) {
        // 1. ä»å·¦åˆ°å³éå†ä¸Šä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º(top,l)åˆ°(top,r) 
        for (int j = left; j <= right; ++j) res[k++] = nums[top][j];
        if (++top > bottom) break;//æ”¶ç¼©ä¸Šè¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€è¡Œï¼Œåˆ™ç›´æ¥break
        // 2. ä»ä¸Šåˆ°ä¸‹éå†å³ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º(top+1,r)åˆ°(bottom,r) 
        for (int i = top; i <= bottom; ++i) res[k++] = nums[i][right];
        if (--right < left) break;//æ”¶ç¼©å³è¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€åˆ—ï¼Œåˆ™ç›´æ¥break
        // 3. ä»å³åˆ°å·¦éå†ä¸‹ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom,râˆ’1)åˆ°(bottom,l)
        for (int j = right; j >= left; --j) res[k++] = nums[bottom][j];
        if (--bottom < top) break;//æ”¶ç¼©ä¸‹è¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€è¡Œï¼Œåˆ™ç›´æ¥break
        // 4. ä»ä¸‹åˆ°ä¸Šéå†å·¦ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom-1,l)åˆ° (top+1,l)
        for (int i = bottom; i >= top; --i) res[k++] = nums[i][left];
        if (++left > right) break;//æ”¶ç¼©å·¦è¾¹ç•Œã€‚å¦‚æœåªæœ‰è¿™æœ€åä¸€åˆ—ï¼Œåˆ™ç›´æ¥break 
    }
    return res;
}
```



