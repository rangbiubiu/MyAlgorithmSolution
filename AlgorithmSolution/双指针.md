# ç›®å½•

[TOC]

# åŒæŒ‡é’ˆ

## :fire:283. ç§»åŠ¨é›¶

### é¢˜æ„

ç»™å®šä¸€ä¸ªæ•°ç»„ `nums`ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ `0` ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚

**è¯·æ³¨æ„** ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [0,1,0,3,12]
è¾“å‡º: [1,3,12,0,0]
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [0]
è¾“å‡º: [0]
```

**æç¤º**:

- `1 <= nums.length <= 104`
- `-231 <= nums[i] <= 231 - 1` 

**è¿›é˜¶ï¼š**ä½ èƒ½å°½é‡å‡å°‘å®Œæˆçš„æ“ä½œæ¬¡æ•°å—ï¼Ÿ

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åŒæŒ‡é’ˆ  å·¦ç§» + ç›´æ¥èµ‹å€¼ä¸º0  **:star:==

**:key:  keyï¼š**

- æ‰¾åˆ°æ‰€æœ‰éé›¶å…ƒç´ ï¼Œæ¯æ‰¾åˆ°ä¸€ä¸ªå°±å°†å…¶ç§»åˆ°å·¦è¾¹ï¼Œè®¾ç§»å®Œåæœ€åä¸€ä¸ªéé›¶å…ƒç´ çš„ä¸‹æ ‡æ˜¯ i ï¼Œå°† i ä¹‹åçš„å…ƒç´ å…¨èµ‹å€¼ä¸º0.

```c++
void moveZeroes(vector<int>& nums) {
    int lastNonZero = 0;
    for (const int& elem : nums) {
        if (elem != 0) {
            nums[lastNonZero++] = elem;
        }
    }
    for (int i = lastNonZero; i < nums.size(); ++i) {
        nums[i] = 0;
    }
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [345. åè½¬å­—ç¬¦ä¸²ä¸­çš„å…ƒéŸ³å­—æ¯](https://leetcode.cn/problems/reverse-vowels-of-a-string/)

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œä»…åè½¬å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å…ƒéŸ³å­—æ¯ï¼Œå¹¶è¿”å›ç»“æœå­—ç¬¦ä¸²ã€‚

å…ƒéŸ³å­—æ¯åŒ…æ‹¬ `'a'`ã€`'e'`ã€`'i'`ã€`'o'`ã€`'u'`ï¼Œä¸”å¯èƒ½ä»¥å¤§å°å†™ä¸¤ç§å½¢å¼å‡ºç°ä¸æ­¢ä¸€æ¬¡ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "hello"
è¾“å‡ºï¼š"holle"
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "leetcode"
è¾“å‡ºï¼š"leotcede"
```

**ç¤ºä¾‹ 3ï¼šï¼ˆè‡ªå·±åŠ çš„ã€å¸®åŠ©ç†è§£é¢˜æ„ï¼‰**

```Cpp
è¾“å…¥ï¼šs = "race a car"
è¾“å‡ºï¼š"raca e car"
//æŠŠ aeaa è¿™å‡ ä¸ªå…ƒéŸ³å­—æ¯æ‹¿å‡ºæ¥ï¼Œç¿»è½¬å®Œå˜æˆaaea å†å¡«å›å»
```

**æç¤ºï¼š**

- `1 <= s.length <= 3 * 105`
- `s` ç”± **å¯æ‰“å°çš„ ASCII** å­—ç¬¦ç»„æˆ

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šåŒæŒ‡é’ˆ   **:star:==

ä¸»è¦çŸ¥é“æ€ä¹ˆåè½¬çš„ï¼Œå¦å¤–åˆ¤æ–­å­—æ¯æ˜¯å¦æ˜¯å…ƒéŸ³å­—æ¯ï¼Œå•ç‹¬å¼€ä¸€ä¸ªå‡½æ•°åˆ¤æ–­å³å¯ã€‚

### ä»£ç 

```c++
bool find(char c) {
    return c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u'
    || c == 'A' || c == 'E' || c == 'I' || c == 'O' || c == 'U';
}
string reverseVowels(string s) {
    int n = s.size();
    int left = 0, right = n - 1;
    while (left < right) {
        while (left < right && !find(s[left])) ++left;
        while (left < right && !find(s[right])) --right;
        //é€€å‡ºå¾ªç¯æ—¶è¦ä¹ˆleftæˆ–rightçš„æŒ‡å‘è¶…å‡ºè¾¹ç•Œäº†ï¼Œè¦ä¹ˆå®ƒä»¬æŒ‡å‘å…ƒéŸ³å­—ç¬¦
        if (left < right) swap(s[left], s[right]);
        left++;
        right--;
    }
    return s;
}
```

## [680. éªŒè¯å›æ–‡ä¸² II](https://leetcode.cn/problems/valid-palindrome-ii/)

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œ**æœ€å¤š** å¯ä»¥ä»ä¸­åˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚

è¯·ä½ åˆ¤æ–­ `s` æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ï¼šå¦‚æœèƒ½ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "aba"
è¾“å‡ºï¼štrue
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "abca"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šä½ å¯ä»¥åˆ é™¤å­—ç¬¦ 'c' ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šs = "abc"
è¾“å‡ºï¼šfalse
```

**æç¤ºï¼š**

- `1 <= s.length <= 105`
- `s` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

### å‚è€ƒé¢˜è§£

1. [è´Ÿé›ªæ˜çƒ›](https://leetcode.cn/problems/valid-palindrome-ii/solutions/252740/cong-liang-ce-xiang-zhong-jian-zhao-dao-bu-deng-de)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åŒæŒ‡é’ˆ  **:star:==

**:small_red_triangle_down: steps: **

åŒæŒ‡é’ˆé€†å‘ä»ä¸¤ç«¯å¾€ä¸­é—´éå†ï¼Œè‹¥

1.  `s[left] == s[right]`ï¼Œåˆ™++left;--right;
2.  å¦åˆ™ï¼Œç›´æ¥returnï¼Œreturn trueè¿˜æ˜¯falseå°±æ ¹æ®åˆ æ‰ä¸€ä¸ªå­—ç¬¦åï¼Œä¸­é—´è¿˜æ²¡éå†è¿‡çš„å­—ç¬¦ä¸²æ˜¯å¦å›æ–‡ã€‚

### ä»£ç 

```c++
bool isPalindrome(string s, int left, int right) {
    for (;left < right; ++left, --right) {
        if (s[left] != s[right]) return false;
    }
    return true;
}
bool validPalindrome(string s) {
    int left = 0, right = s.size() - 1;
    while (left < right) {
        if (s[left] == s[right]) {
            ++left;
            --right;
        }
        //å½“leftå’ŒrightæŒ‡å‘çš„å…ƒç´ ä¸ç­‰æ—¶ï¼Œéœ€è¦åˆ é™¤leftæˆ–rightæŒ‡å‘çš„å…ƒç´ åˆ¤æ–­åˆ é™¤ä¸€ä¸ªå­—ç¬¦åçš„å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²
        //ç”±äº[0,left)å’Œ(right,n-1)è¿™ä¸¤æ®µå­ä¸²æˆ‘ä»¬å·²ç»åˆ¤æ–­äº†æ˜¯å›æ–‡ä¸²ï¼Œå› æ­¤å°±ä¸ç”¨å†åˆ¤æ–­æ•´ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯å›æ–‡ä¸²ï¼Œè€Œåªéœ€è¦åˆ¤æ–­ä¸­é—´é™¤å»åˆ é™¤å­—ç¬¦å¤–çš„éƒ¨åˆ†æ˜¯ä¸æ˜¯å›æ–‡ï¼Œå³åªéœ€è¦åˆ¤æ–­(left,right]æˆ–[left,right)æ˜¯å¦å›æ–‡å³å¯çŸ¥é“return trueè¿˜æ˜¯false
        else return isPalindrome(s, left + 1, right) || isPalindrome(s, left, right - 1);
        //åªè¦æœ‰ä¸€æ¬¡èµ°è¿›äº†elseï¼Œåˆ™æ— è®ºæ€æ ·éƒ½ä¼šreturnè€Œä¸ä¼šå†ç»§ç»­å¾€åæ‰§è¡Œäº†
        //å› ä¸ºèµ°äº†elseå°±è¯´æ˜ç”¨æ‰äº†é‚£ä¸€æ¬¡åˆ é™¤å­—ç¬¦çš„æœºä¼š
    }
    return true;
}
```

## [167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„](https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/)

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» **1** å¼€å§‹çš„æ•´æ•°æ•°ç»„ `numbers` ï¼Œè¯¥æ•°ç»„å·²æŒ‰ **éé€’å‡é¡ºåºæ’åˆ—** ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºæ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•° `target` çš„ä¸¤ä¸ªæ•°ã€‚å¦‚æœè®¾è¿™ä¸¤ä¸ªæ•°åˆ†åˆ«æ˜¯ `numbers[index1]` å’Œ `numbers[index2]` ï¼Œåˆ™ `1 <= index1 < index2 <= numbers.length` ã€‚

ä»¥é•¿åº¦ä¸º 2 çš„æ•´æ•°æ•°ç»„ `[index1, index2]` çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•´æ•°çš„ä¸‹æ ‡ `index1` å’Œ `index2`ã€‚

ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥ **åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆ** ï¼Œè€Œä¸”ä½  **ä¸å¯ä»¥** é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚

ä½ æ‰€è®¾è®¡çš„è§£å†³æ–¹æ¡ˆå¿…é¡»åªä½¿ç”¨å¸¸é‡çº§çš„é¢å¤–ç©ºé—´ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnumbers = [2,7,11,15], target = 9
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnumbers = [2,3,4], target = 6
è¾“å‡ºï¼š[1,3]
è§£é‡Šï¼š2 ä¸ 4 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 6 ã€‚å› æ­¤ index1 = 1, index2 = 3 ã€‚è¿”å› [1, 3] ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnumbers = [-1,0], target = -1
è¾“å‡ºï¼š[1,2]
è§£é‡Šï¼š-1 ä¸ 0 ä¹‹å’Œç­‰äºç›®æ ‡æ•° -1 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚è¿”å› [1, 2] ã€‚
```

**æç¤ºï¼š**

- `2 <= numbers.length <= 3 * 104`
- `-1000 <= numbers[i] <= 1000`
- `numbers` æŒ‰ **éé€’å‡é¡ºåº** æ’åˆ—
- `-1000 <= target <= 1000`
- **ä»…å­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ**

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åŒæŒ‡é’ˆ  **:star:==

**:key:  keyï¼š**

- æŠŠé¢˜ç›®æè¿°ææ¸…æ¥šå³å¯ã€‚ä»"ä¸‹æ ‡1å¼€å§‹çš„æ•°ç»„"å°±æ˜¯è¿”å›çš„indexéƒ½è¦+1è€Œå·²ï¼›"ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ "å°±æ˜¯ä¸èƒ½ä½¿ç”¨é‡å¤çš„å€¼ã€‚

### ä»£ç 

```c++
vector<int> twoSum(vector<int>& numbers, int target) {
    int left = 0, right = numbers.size() - 1;
    while (left < right) {
        int sum = numbers[left] + numbers[right];
        if (sum == target) return {left+1,right+1};
        else if (sum < target) ++left;
        else --right;
    }
    return {-1,-1};
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :fire:[15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/)

**é¢˜æ„ï¼š**

åœ¨ä¸€ä¸ªæ•°ç»„ä¸­åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ»¡è¶³nums[i]+nums[j]+nums[k]==0ï¼ˆi,j,käº’ä¸ç›¸ç­‰ï¼‰çš„ä¸‰å…ƒç»„[nums[i], nums[j], nums[k]]ï¼Œå¹¶è¿”å›æ‰€æœ‰å’Œä¸º `0` ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,1,1]
è¾“å‡ºï¼š[]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼šnums = [0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚
```

**æç¤ºï¼š**

- `3 <= nums.length <= 3000`
- `-105 <= nums[i] <= 105`

### å‚è€ƒé¢˜è§£

1. å¡å“¥

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ’åº + åŒæŒ‡é’ˆ + å»é‡  **:star:==

**:question:  problems:** 

1. å¦‚ä½•æœ€é«˜æ•ˆçš„æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„ä¸‰å…ƒç»„ï¼Ÿ
2. ä¸‰ä¸ªæŒ‡é’ˆå¦‚ä½•ç§»åŠ¨ï¼Ÿ
3. ä¸‰å…ƒç»„æ€ä¹ˆå»é‡ï¼Ÿ

 :ballot_box_with_check:**answer:** 

1. æ’åº + åŒæŒ‡é’ˆã€‚å› ä¸ºè¦æ‰¾å’Œä¸º0çš„ä¸‰ä¸ªå€¼ï¼Œå¿…é¡»å›ºå®šå…¶ä¸­ä¸€ä¸ªå»æ‰¾å¦å¤–ä¸¤ä¸ªï¼Œå¦å¤–ä¸¤ä¸ªæ€ä¹ˆæ‰¾ï¼Ÿ
    - æ’åºåï¼Œæˆ‘ä»¬ç”¨åŒæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘æœç´¢åŒºé—´çš„å·¦å³ç«¯ç‚¹ï¼Œé€šè¿‡æ¯”è¾ƒsumå’Œ0çš„å¤§å°æ§åˆ¶æŒ‡é’ˆçš„ç§»åŠ¨ï¼Œä¸€è¾¹æ‰¾è§£ä¸€è¾¹ç¼©å°æŸ¥æ‰¾èŒƒå›´

2. æ¯ä¸€è½®å›ºå®š i ä¸åŠ¨ï¼Œåˆå§‹è®©leftæŒ‡å‘i+1ï¼ŒrightæŒ‡å‘æ•°ç»„æœ€åä¸€ä¸ªä½ç½®.  æ¯è½®ä¸­è‹¥å’Œ>0åˆ™rightè¦å·¦ç§», <0åˆ™leftè¦å³ç§»

3. å¯¹äºiï¼Œæˆ‘ä»¬åœ¨éå†startæ—¶å°±å¯ä»¥å¯¹å…¶å»é‡ï¼Œè·³è¿‡ç›¸åŒå€¼ã€‚ä½†æ˜¯æ³¨æ„ï¼å†™æˆ `nums[i]==nums[i + 1]`å’Œå†™æˆ`nums[i]==nums[i-1]`æ˜¯ä¸ä¸€æ ·çš„ï¼å¦‚æœå†™æˆå‰è€…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠ ä¸‰å…ƒç»„ä¸­å‡ºç°é‡å¤å…ƒç´ çš„æƒ…å†µç›´æ¥passæ‰äº†ã€‚**æˆ‘ä»¬è¦åšçš„æ˜¯ ä¸èƒ½æœ‰é‡å¤çš„ä¸‰å…ƒç»„ï¼Œä½†ä¸‰å…ƒç»„å†…çš„å…ƒç´ æ˜¯å¯ä»¥é‡å¤çš„ï¼**

    å¯¹äºleftå’Œright, æ‰¾åˆ°ä¸€ä¸ªè§£ä¹‹åï¼Œå°†leftå³è¾¹ä¸leftç›¸åŒçš„å€¼ä¸€è·¯è·³è¿‡ï¼Œå°†rightå·¦è¾¹ä¸rightç›¸åŒçš„å€¼ä¸€è·¯è·³è¿‡.

    è¿™æ ·å°±å®ç°äº†è§£çš„å»é‡ã€‚

![image-20240114131721477](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401141317925.png)

### ä»£ç 

```c++
vector<vector<int>> threeSum(vector<int>& nums) {
    // å…ˆç»™æ•°ç»„å‡åºæ’åº, 
    // ä¹‹åç”¨startéå†æ•°ç»„, æ¯æ¬¡å›ºå®šstart, åœ¨[start,n)ä¸­ç”¨leftå’ŒrightåŒæŒ‡é’ˆä»ä¸¤è¾¹å¾€ä¸­é—´éå†,
    // æ¯”è¾ƒ sum = nums[left]+nums[right]+nums[start] å’Œ 0 çš„å¤§å°
    // å¦‚æœ sum > 0, è¯´æ˜å’Œå¤§äº†, éœ€è¦--right
    // å¦‚æœ sum < 0, è¯´æ˜å’Œå°äº†,éœ€è¦++left
    // å¦‚æœ sum == 0, å­˜ç»“æœ

    sort(nums.begin(), nums.end());
    vector<vector<int>> ans;
    for (int start = 0; start < nums.size() - 2; ++start) {
        // å¦‚æœä¸‰è€…ä¸­æœ€å°çš„å€¼éƒ½>0, é‚£ä¹ˆå°±ä¸éœ€è¦å†å¾€åéå†äº†
        if (nums[start] > 0) {
            break;
        }
        if (start > 0 && nums[start] == nums[start - 1]) {
            continue;
        }
        int left = start + 1;
        int right = nums.size() - 1;
        while (left < right) {
            int sum = nums[start] + nums[left] + nums[right];
            if (sum == 0) {
                ans.push_back({nums[start], nums[left], nums[right]});
                // å¯¹leftå’Œrightè¡¨ç¤ºçš„å€¼å»é‡, é˜²æ­¢ç»“æœä¸­å‡ºç°é‡å¤çš„ä¸‰å…ƒç»„
                while (left < right && nums[left] == nums[left + 1]) {
                    left++;
                }
                while (left < right && nums[right] == nums[right - 1]) {
                    right--;
                }
                // æ³¨æ„è¿™é‡Œä¸è¦å¿˜äº†ï¼ï¼é€€å‡ºå¾ªç¯æ—¶nums[left] != nums[left + 1], leftä»æŒ‡å‘çš„æ˜¯é‡å¤å€¼, å› æ­¤è¿˜éœ€è¦è®©left++ï¼ŒrightåŒç†
                left++;
                right--;
            } else if (sum > 0) {
                right--;
            } else {
                left++;
            }
        }
    }
    return ans;
}
```

### **å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(N^2^)ã€‚æ¯ä¸€è½®ä¸­éå†[left,right]åŒºé—´çš„å¤æ‚åº¦ä¸ºO(N^2^)ï¼Œæ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º O(Nlogâ¡N)ï¼Œå› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N^2^)ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(logN)ã€‚æˆ‘ä»¬å¿½ç•¥å­˜å‚¨ç­”æ¡ˆçš„ç©ºé—´ï¼Œé¢å¤–çš„æ’åºçš„ç©ºé—´å¤æ‚åº¦ä¸º O(logâ¡N)ã€‚

## **[16. æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum-closest/)**

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `nums` å’Œ ä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ ä» `nums` ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ `target` æœ€æ¥è¿‘ã€‚

è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚

å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [-1,2,1,-4], target = 1
è¾“å‡ºï¼š2
è§£é‡Šï¼šä¸ target æœ€æ¥è¿‘çš„å’Œæ˜¯ 2 (-1 + 2 + 1 = 2) ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,0,0], target = 1
è¾“å‡ºï¼š0
```

**æç¤ºï¼š**

- `3 <= nums.length <= 1000`
- `-1000 <= nums[i] <= 1000`
- `-104 <= target <= 104`

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š +   +   **:star:== åŒ15é¢˜ 

**:small_red_triangle_down: steps: **

1.  forå¾ªç¯æ¯æ¬¡å›ºå®šstartï¼Œåˆå§‹åŒ–å·¦å³åŒæŒ‡é’ˆ
2.  `while(left < right)`ä¸æ–­ç¼©å°æŸ¥æ‰¾åŒºé—´
    1.  è®¡ç®—å½“å‰ä¸‰æ•°ä¹‹å’Œ`sum`åŠå…¶ä¸targetçš„å·®`curdiff`
    2.  å¦‚æœå·®å€¼==0ï¼Œé‚£å°±æ˜¯æœ€å°å·®å€¼ï¼Œç›´æ¥return
    3.  å¦‚æœ>0(sum > target)ï¼Œè¯´æ˜è¦è®©sumå˜å°ï¼Œåˆ™éœ€è¦è®©right--
    4.  å¦‚æœ<0(sum < target)ï¼Œè¯´æ˜è¦è®©sumå˜å¤§ï¼Œåˆ™éœ€è¦è®©left++
    5.  å¦‚æœå½“å‰å·®å€¼<minDiffï¼Œæ›´æ–°minDiff å’Œ res

3.  è¿”å›res

### ä»£ç 

```c++
int threeSumClosest(vector<int>& nums, int target) {
    sort(nums.begin(), nums.end());
    int minDiff = INT_MAX, res = 0;
    for(int start = 0; start < nums.size(); ++start) {
        int left = start + 1, right = nums.size() - 1;
        while (left < right) {
            int sum = nums[start] + nums[left] + nums[right];
            int curDiff = sum - target;
            
            if(curDiff == 0) return target;
            else if (curDiff > 0) --right;
            else ++left;

            if (abs(curDiff) < minDiff) {
                minDiff = abs(curDiff);
                res = sum;
            }
        }
    }
    return res;
}
```

## [18. å››æ•°ä¹‹å’Œ](https://leetcode.cn/problems/4sum/)

ä¸[15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/)å¤§è‡´æ€è·¯å·®ä¸å¤šï¼ŒåŒºåˆ«åœ¨äºï¼š

1. æ¯”è¾ƒçš„å€¼ä¸æ˜¯0è€Œæ˜¯targetï¼Œtargetæœ‰å¯èƒ½ä¸ºè´Ÿï¼Œå› æ­¤è‹¥nums[i]<0,åˆ™iç»§ç»­å¾€åéå†ï¼Œsumæ˜¯å…ˆå‡å°åå¢å¤§ã€‚
2. å› æ­¤å½“target<nums[i]<0æ—¶ï¼Œåˆ™å¾€ååšå’Œè¿ç®—å’Œå¯èƒ½å¢å¤§ä¹Ÿå¯èƒ½å‡å°ã€‚å› æ­¤æ€è€ƒä»€ä¹ˆæ—¶å€™å½“nums[i]å·²ç»å¤§äºtargetæ—¶å†å¾€åå’Œåªå¯èƒ½å¢å¤§ï¼Ÿ--å½“nums[i] >= 0æ—¶
3. æ³¨æ„è¿™é‡Œä¸ä¸‰æ•°ä¹‹å’Œä¸ä¸€æ ·ï¼Œå› ä¸ºtargetå¯ä»¥æ˜¯è´Ÿæ•°ï¼Œè‹¥target<nums[i]<0ï¼Œåˆ™å¾€ååšå’Œè¿ç®—å’Œå¯èƒ½å¢å¤§ä¹Ÿå¯èƒ½å‡å°ã€‚å› æ­¤æ€è€ƒä»€ä¹ˆæ—¶å€™å½“nums[i]å·²ç»å¤§äºtargetæ—¶å†å¾€åå’Œåªå¯èƒ½å¢å¤§ï¼Ÿ--å½“nums[i] >= 0æ—¶

å¦å¤–æ³¨æ„ï¼Œå¯¹æŒ‡å‘å››å…ƒç»„çš„ç¬¬äºŒä¸ªå…ƒç´ çš„æŒ‡é’ˆ j çš„å»é‡åŒ i ä¸€æ ·ï¼Œéƒ½æ˜¯è¦å’Œå‰ä¸€ä¸ªæ¯”è¾ƒå»é‡ã€‚

```c++
vector<vector<int>> fourSum(vector<int>& nums, int target) {
    sort(nums.begin(), nums.end());
    vector<vector<int>> res;
    for (int i = 0; i < nums.size(); ++i) {
        if (nums[i] > target && nums[i] >= 0) return res;//içš„å‰ªæ
        if (i > 0 && nums[i] == nums[i - 1]) continue;//içš„å»é‡
        for (int j = i + 1; j < nums.size(); ++j) {
            int twoSum = nums[i] +nums[j];
            if (twoSum > target && twoSum >= 0) break;//jçš„å‰ªæ
            if (j > i + 1 && nums[j] == nums[j - 1]) continue;//jçš„å»é‡ï¼ŒåŸç†åŒiçš„å»é‡ä¸€æ ·
            int left = j + 1, right = nums.size() - 1;
            while (left < right) {
                long sum = (long) nums[i] + nums[j] + nums[left] + nums[right];
                if (sum == target) {
                    res.push_back({nums[i], nums[j], nums[left], nums[right]});
                    //leftå’Œrightçš„å»é‡
                    while (left < right && nums[left] == nums[left + 1]) ++left;
                    while (left < right && nums[right] == nums[right - 1]) --right;
                    ++left;
                    --right;
                }
                else if (sum < target) left++;
                else right--;
            }
        }
    }
    return res;
}
```

å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^3^)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(logn)

![image-20240114133407030](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401141334307.png)

## :fire:[11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode.cn/problems/container-with-most-water/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º `n` çš„æ•´æ•°æ•°ç»„ `height` ã€‚æœ‰ `n` æ¡å‚çº¿ï¼Œç¬¬ `i` æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ `(i, 0)` å’Œ `(i, height[i])` ã€‚

æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ `x` è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚

è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡.

**ç¤ºä¾‹ 1ï¼š**

![image-20240114152336678](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401141523777.png)

```
è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
è¾“å‡ºï¼š49 
è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šheight = [1,1]
è¾“å‡ºï¼š1
```

**æç¤ºï¼š**

- `n == height.length`
- `2 <= n <= 105`
- `0 <= height[i] <= 104`

### å‚è€ƒé¢˜è§£

1. [nettee](https://leetcode.cn/problems/container-with-most-water/solutions/94102/on-shuang-zhi-zhen-jie-fa-li-jie-zheng-que-xing-tu) æˆ‘æ“¦ç›´å‘¼å¤§ä½¬ç‰›é€¼ğŸ‚ï¼ï¼ï¼

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šåŒæŒ‡é’ˆ  **:star:==

é¢˜æ„å°±æ˜¯è¦æ±‚ä¸¤æ ¹çº¿æ„æˆçš„æœ€å¤§é¢ç§¯ã€‚

**:question:   problems:** 

1. åŒæŒ‡é’ˆæ˜¯æ€ä¹ˆç§»åŠ¨çš„ï¼Ÿ
2. åŒæŒ‡é’ˆè§£æ³•åˆ°åº•æ˜¯æ€ä¹ˆä¼˜åŒ–æ—¶é—´å¤æ‚åº¦çš„ï¼Ÿ

:heavy_check_mark:  **answer:** 

![image-20240114195407965](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401141954529.png)

### ä»£ç 

```c++
int maxArea(vector<int>& height) {
    /*
        ç››æ°´é‡å–å†³äºè¾ƒçŸ­çš„ä¸€è¾¹å’Œä¸¤æ ¹æŸ±å­çš„è·ç¦»
        ç”¨å·¦å³åŒæŒ‡é’ˆåˆ†åˆ«ä»å·¦å³ä¸¤ç«¯å¼€å§‹ï¼Œ
        å¦‚æœç§»åŠ¨è¾ƒé•¿çš„æŸ±å­ï¼Œåˆ™ç”±äºç››æ°´é‡å–å†³äºè¾ƒçŸ­çš„ä¸€è¾¹ï¼Œä¸”è·ç¦»ç¼©çŸ­ï¼Œå› æ­¤ç››æ°´é‡ä¸å¯èƒ½å¢åŠ 
        å› æ­¤åªèƒ½ç§»åŠ¨è¾ƒçŸ­çš„æŸ±å­ï¼Œè¾¹ç§»åŠ¨è¾¹æ›´æ–°å½“å‰ç››æ°´é‡ã€‚
        å½“ç§»åŠ¨åˆ°æ¯”é•¿æŸ±å­è¿˜é•¿çš„æŸ±å­æ—¶ï¼Œé•¿çŸ­æŸ±å­èº«ä»½åˆ‡æ¢
    */
    int res = 0;
    int left = 0;
    int right = height.size() - 1;
    while (left < right) {
        int s = (right - left) * min(height[left], height[right]);
        // æ³¨æ„ä¸æ˜¯right-left+1ï¼å› ä¸ºheight[0]å°±æ˜¯ç¬¬ä¸€æ ¹æŸ±å­ï¼Œheight[0]ä¸height[1]å®½åº¦ä¸æ˜¯1-0+1è€Œæ˜¯1.
        res = max(res, s);
        // è°é•¿è°ä¸åŠ¨ï¼ŒçŸ­çš„å¾€ä¸­é—´ç§»åŠ¨
        if (height[left] < height[right]) {
            left++;
        } else {
            right--;
        }
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :fire:[42. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)

### **é¢˜æ„**

ç»™å®š `n` ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º `1` çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

**ç¤ºä¾‹ 1ï¼š**

![img](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401151619184.png)

```
è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]
è¾“å‡ºï¼š6
è§£é‡Šï¼šä¸Šé¢æ˜¯ç”±æ•°ç»„ [0,1,0,2,1,0,1,3,2,1,2,1] è¡¨ç¤ºçš„é«˜åº¦å›¾ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æ¥ 6 ä¸ªå•ä½çš„é›¨æ°´ï¼ˆè“è‰²éƒ¨åˆ†è¡¨ç¤ºé›¨æ°´ï¼‰ã€‚ 
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šheight = [4,2,0,3,2,5]
è¾“å‡ºï¼š9 
```

**æç¤ºï¼š**

- `n == height.length`
- `1 <= n <= 2 * 104`
- `0 <= height[i] <= 105`

### å‚è€ƒé¢˜è§£

1. [0x3f](https://www.bilibili.com/video/BV1Qg411q7ia/?spm_id_from=333.788&vd_source=ff6d470acf2c91a9a48f2ac99a87fa5a)
2. [å®˜è§£è§†é¢‘](https://leetcode.cn/problems/trapping-rain-water/solutions/692342/jie-yu-shui-by-leetcode-solution-tuvc)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šdp / åŒæŒ‡é’ˆ / å•è°ƒæ ˆ   **:star:==

**:key:  dpæ€è·¯ï¼š**

- `ä¸€ä¸ªæŸ±å­èƒ½ç››çš„æ°´ = min(å·¦å³ä¸¤è¾¹æœ€é«˜æŸ±å­çš„é«˜åº¦) - è‡ªå·±çš„é«˜åº¦`
- å…ˆç»Ÿè®¡æ¯æ ¹æŸ±å­çš„å‰ç¼€å’Œåç¼€æœ€å¤§å€¼
- å…³äºè¿™ä¸ªå‰ç¼€åç¼€æœ€å¤§å€¼è¦ä¸è¦åŒ…å«è‡ªèº«çš„é—®é¢˜ã€‚â€”â€”è¦!!! å› ä¸º
    - å½“å·¦å³ä¸¤è¾¹çš„æŸ±å­æœ‰æ¯”è‡ªå·±é«˜çš„,
        - ä¸åŒ…å«è‡ªèº«å’ŒåŒ…å«è‡ªèº«, è®¡ç®—å‡ºæ¥çš„æŸ±å­èƒ½æ¥çš„æ°´éƒ½ä¸€æ ·
    - å½“å·¦å³ä¸¤è¾¹çš„æŸ±å­éƒ½ä¸æ¯”è‡ªå·±é«˜æ—¶,
        - å¦‚æœä¸åŒ…å«è‡ªèº«, è®¡ç®—å‡ºæ¥çš„æŸ±å­èƒ½æ¥çš„æ°´å°±ä¸ºè´Ÿäº†
        - å¦‚æœåŒ…å«è‡ªèº«, è®¡ç®—å‡ºæ¥çš„æŸ±å­èƒ½æ¥çš„æ°´ä¸º0


**:key:  åŒæŒ‡é’ˆæ€è·¯ï¼š**

- å°½ç®¡ä¸­é—´è¿˜æœ‰æŸ±å­æ²¡éå†åˆ°,ä½†æ€»ä¹‹,ï¼ˆè®¾å½“å‰éå†åˆ°çš„leftå’Œrightæ‰€æŒ‡çš„æŸ±å­åˆ†åˆ«ä¸º L å’Œ R ï¼‰
    - å¦‚æœå³è¾¹çš„æŸ±å­[right,n)æœ‰æ¯”å·¦è¾¹æ‰€æœ‰æŸ±å­[0,left]æ›´é«˜çš„ï¼Œå³`suf_max > pre_max`ï¼Œé‚£ L æ¥çš„æ°´å°±èƒ½çŸ¥é“ï¼Œå…¶ä¸å³è¾¹çš„é•¿æŸ±å­æ— å…³ï¼Œè€Œå–å†³äºçŸ­çš„pre_max ï¼š`L æ¥çš„æ°´= pre_max - è‡ªå·±çš„é«˜åº¦`ã€‚ï¼ˆå¦‚æœå·¦è¾¹æœ‰æ¯” L æ›´é«˜çš„ï¼Œæ¥çš„æ°´>0ï¼›å¦åˆ™æ¥çš„æ°´=0ï¼‰ï¼Œæ¥ç€è®©left++ã€‚
    - å¦‚æœå·¦è¾¹çš„æŸ±å­[0,left]æœ‰æ¯”å³è¾¹æ‰€æœ‰æŸ±å­[right,n)æ›´é«˜çš„ï¼Œå³`pre_max > suf_max`ï¼Œé‚£ R æ¥çš„æ°´å°±èƒ½çŸ¥é“ï¼Œå…¶ä¸å·¦è¾¹çš„é•¿æŸ±å­æ— å…³ï¼Œè€Œå–å†³äºçŸ­çš„suf_maxï¼š`R æ¥çš„æ°´ = suf_max - è‡ªå·±çš„é«˜åº¦`ã€‚ï¼ˆå¦‚æœå³è¾¹æœ‰æ¯” R æ›´é«˜çš„ï¼Œæ¥çš„æ°´>0ï¼›å¦åˆ™æ¥çš„æ°´=0ï¼‰ï¼Œæ¥ç€è®©right--ã€‚

![image-20240115161721207](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401151617793.png)

### ä»£ç 

#### dp

```c++
int trap(vector<int>& height) {
    int res = 0;
    // æ¯æ ¹æŸ±å­èƒ½æ¥å¤šå°‘æ°´ = min(å·¦è¾¹æœ€é«˜æŸ±å­,å³è¾¹æœ€é«˜æŸ±å­) - è‡ªå·±çš„é«˜åº¦
    int n = height.size();
    // å…ˆç»Ÿè®¡æ¯æ ¹æŸ±å­çš„å‰ç¼€å’Œåç¼€æœ€å¤§å€¼(è‡ªå·±ä¹Ÿè¦ç®—è¿›å»)
    vector<int> prefix_max(n);
    vector<int> suffix_max(n);
    prefix_max[0] = height[0];
    suffix_max[n - 1] = height[n - 1];
    int left = 1;
    int right = n - 2;
    while (left < n && right >= 0) {
        prefix_max[left++] = max(prefix_max[left - 1], height[left]);
        suffix_max[right--] = max(suffix_max[right + 1], height[right]);
    }
    // ç„¶åé€ä¸ªç”¨å…¬å¼æ±‚è§£
    for (int i = 0; i < n; ++i) {
        res += min(suffix_max[i], prefix_max[i]) - height[i];
    }
    return res;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

#### åŒæŒ‡é’ˆ

```c++
int trap(vector<int>& height) {
/*
    æ¯ä¸ªæŸ±å­èƒ½æ¥çš„æ°´é‡ = min(å·¦è¾¹æœ€é«˜æŸ±å­ï¼Œå³è¾¹æœ€é«˜æŸ±å­) - è‡ªå·±çš„é«˜åº¦
    ç”¨å·¦å³åŒæŒ‡é’ˆä»ä¸¤è¾¹å¾€ä¸­é—´éå†ï¼Œ
    ç”¨prefix_maxè¡¨ç¤ºå·¦æŒ‡é’ˆéå†è¿‡çš„æœ€é«˜çš„æŸ±å­é«˜åº¦ï¼Œ
    ç”¨suffix_maxè¡¨ç¤ºå³æŒ‡é’ˆéå†è¿‡çš„æœ€é«˜çš„æŸ±å­é«˜åº¦ï¼Œ
    å¦‚æœå·¦æŒ‡é’ˆéå†è¿‡çš„æŸ±å­ä¸­ï¼Œæœ‰æ¯”å³è¾¹å·²éå†è¿‡çš„æ‰€æœ‰æŸ±å­éƒ½é«˜çš„æŸ±å­ï¼ˆå³prefix > suffixï¼‰ï¼Œ
    é‚£ä¹ˆæ­¤æ—¶å³æŒ‡é’ˆå¯¹åº”çš„æŸ±å­æ¥çš„æ°´å°±èƒ½ç®—å‡ºï¼ˆå–å†³äºæ›´çŸ®çš„Â·å³è¾¹å·²éå†è¿‡çš„æ‰€æœ‰æŸ±å­ä¸­æœ€é«˜çš„ï¼‰ï¼Œ= suffix_max - height[right]
    elseï¼Œsuffix_max > prefix_maxï¼Œé‚£ä¹ˆå·¦æŒ‡é’ˆå¯¹åº”çš„æŸ±å­æ¥çš„æ°´å°±èƒ½ç®—å‡º
*/
    int ans = 0;
    // è®°å½•ç›®å‰ä¸ºæ­¢éå†è¿‡çš„[0,left]å’Œ[right,n)çš„æœ€å¤§å€¼
    int prefix_max = 0;
    int suffix_max = 0;
    int left = 0;
    int right = height.size() - 1;
    while (left <= right) {
        // æ›´æ–°å‰åç¼€æœ€å¤§å€¼
        prefix_max = max(prefix_max, height[left]);
        suffix_max = max(suffix_max, height[right]);

        if (suffix_max > prefix_max) {
            ans += prefix_max - height[left++];
        } else {
            ans += suffix_max - height[right--];
        } 
    }
    return ans;
}
```

**å¤æ‚åº¦åˆ†æ**

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

#### å•è°ƒæ ˆï¼ˆå¾…è¡¥å……ï¼‰

å¯å‚è€ƒï¼š[CSLearnNotes (riba2534.cn)](https://notes.riba2534.cn/#/æ•°æ®ç»“æ„å’Œç®—æ³•/LeetCode/æ¥é›¨æ°´)

## [27.ç§»é™¤å…ƒç´ ](https://leetcode.cn/problems/remove-element/)

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªæ•°ç»„ `nums` å’Œä¸€ä¸ªå€¼ `val`ï¼Œä½ éœ€è¦ **[åŸåœ°](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)** ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº `val` çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚

ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ `O(1)` é¢å¤–ç©ºé—´å¹¶ **[åŸåœ° ](https://baike.baidu.com/item/åŸåœ°ç®—æ³•)ä¿®æ”¹è¾“å…¥æ•°ç»„**ã€‚

å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [3,2,2,3], val = 3
è¾“å‡ºï¼š2, nums = [2,2]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 2, å¹¶ä¸” nums ä¸­çš„å‰ä¸¤ä¸ªå…ƒç´ å‡ä¸º 2ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå‡½æ•°è¿”å›çš„æ–°é•¿åº¦ä¸º 2 ï¼Œè€Œ nums = [2,2,3,3] æˆ– nums = [2,2,0,0]ï¼Œä¹Ÿä¼šè¢«è§†ä½œæ­£ç¡®ç­”æ¡ˆã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [0,1,2,2,3,0,4,2], val = 2
è¾“å‡ºï¼š5, nums = [0,1,3,0,4]
è§£é‡Šï¼šå‡½æ•°åº”è¯¥è¿”å›æ–°çš„é•¿åº¦ 5, å¹¶ä¸” nums ä¸­çš„å‰äº”ä¸ªå…ƒç´ ä¸º 0, 1, 3, 0, 4ã€‚æ³¨æ„è¿™äº”ä¸ªå…ƒç´ å¯ä¸ºä»»æ„é¡ºåºã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚
```

**æç¤ºï¼š**

- `0 <= nums.length <= 100`
- `0 <= nums[i] <= 50`
- `0 <= val <= 100`

### ä»£ç 

åŒæŒ‡é’ˆé€†å‘ï¼Œäº¤æ¢/è·³è¿‡ã€‚

æœ‰ä¸¤ä¸ªç»†èŠ‚éœ€è¦æ³¨æ„ï¼š

1. ç‰¹åˆ¤
2. è¿”å›å€¼è¦è€ƒè™‘æ¸…æ¥š

```c++
int removeElement(vector<int>& nums, int val) {
    // æ³¨æ„çœ‹é¢˜ç›®æç¤ºä¸­è¯´num.size()å¯ä»¥ä¸º0ï¼ï¼å› æ­¤å¿…é¡»ç‰¹åˆ¤
    if (nums.size() == 0) return 0;
    
    int left = 0, right = nums.size() - 1;
    while (left < right) {
        if (nums[left] == val) swap(nums[left],nums[right--]);
        else left++;//ä¸ç­‰åˆ™è·³è¿‡
    } 
    return nums[left] == val ? left : left + 1;
}
```

## [82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II](https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/)

å†™åœ¨é“¾è¡¨é‚£ç« èŠ‚

## [611. æœ‰æ•ˆä¸‰è§’å½¢çš„ä¸ªæ•°](https://leetcode.cn/problems/valid-triangle-number/)

### **é¢˜æ„**

ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„æ•°ç»„ `nums` ï¼Œè¿”å›å…¶ä¸­å¯ä»¥ç»„æˆä¸‰è§’å½¢ä¸‰æ¡è¾¹çš„ä¸‰å…ƒç»„ä¸ªæ•°ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: nums = [2,2,3,4]
è¾“å‡º: 3
è§£é‡Š:æœ‰æ•ˆçš„ç»„åˆæ˜¯: 
2,3,4 (ä½¿ç”¨ç¬¬ä¸€ä¸ª 2)
2,3,4 (ä½¿ç”¨ç¬¬äºŒä¸ª 2)
2,2,3
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: nums = [4,2,3,4]
è¾“å‡º: 4
```

**æç¤º:**

- `1 <= nums.length <= 1000`
- `0 <= nums[i] <= 1000`

### å‚è€ƒé¢˜è§£

1. [Jerring](https://leetcode.cn/problems/valid-triangle-number/solutions/12940/ming-que-tiao-jian-jin-xing-qiu-jie-by-jerring)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š åŒæŒ‡é’ˆ **:star:==

**:key:  keyï¼š**

- `a+b>c`ä¸­ï¼Œa, b, c åˆ†åˆ«å¯¹åº”ä»£ç ä¸­çš„æŒ‡é’ˆ left, right, i æ‰€è¡¨ç¤ºçš„å€¼ã€‚
    - iæ˜¯ä»åå¾€å‰é€†å‘éå†ï¼Œå¯¹åº”è¾¹é•¿:arrow_down:
    - leftå’Œrightæ˜¯ç›¸å‘åŒæŒ‡é’ˆï¼Œleftæ˜¯æ­£å‘éå†ï¼Œå¯¹åº”è¾¹é•¿:arrow_up:ï¼›rightæ˜¯é€†å‘éå†ï¼Œå¯¹åº”è¾¹é•¿:arrow_down:

- å›ºå®šä½ i ä¹‹åï¼Œè‹¥`nums[left] + numd[right] > nums[i]`ï¼Œé‚£ä¹ˆleftä»å½“å‰ä½ç½®ä¸€ç›´åˆ°right-1ï¼Œéƒ½èƒ½å’ŒæŒ‡é’ˆ right , i è¡¨ç¤ºçš„è¾¹ç»„æˆä¸‰è§’å½¢ï¼Œå…±å¯ä»¥ç»„æˆ right-left ä¸ªï¼›å¦åˆ™è¯´æ˜leftè¡¨ç¤ºçš„è¾¹ä¸å¤Ÿé•¿ï¼Œè¦++leftå˜é•¿ã€‚

### ä»£ç 

```c++
int triangleNumber(vector<int>& nums) {
    int n = nums.size(), res = 0;
    sort(nums.begin(), nums.end());
    for (int i = n - 1; i >= 2; --i) { //å›ºå®šæœ€é•¿çš„ä¸€æ¡è¾¹
        int left = 0, right = i - 1;
        while (left < right) {
            if (nums[left] + nums[right] > nums[i]) {
            // å¦‚æœnums[left] + numd[right] > nums[i]ï¼Œé‚£ä¹ˆleftä»å½“å‰ä½ç½®ä¸€ç›´åˆ°right-1ï¼Œéƒ½èƒ½å’Œright,iç»„æˆä¸‰è§’å½¢ï¼Œæœ‰right-leftä¸ª
                res += right - left;
                --right;
            }
            else ++left;//å¦‚æœä¸å¤Ÿç»„æˆä¸‰è§’å½¢ï¼Œé‚£ä¹ˆleftå³ç§»è®©ä¸€æ¡è¾¹å˜é•¿
        }
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2^)  ã€‚å¾ªç¯æ¯æ¬¡å›ºå®šiï¼Œç„¶åç”¨å·¦å³åŒæŒ‡é’ˆéå†ä¸€éæ•°ç»„ï¼Œå°±æ˜¯O(n^2^)ã€‚
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [187. é‡å¤çš„DNAåºåˆ—](https://leetcode.cn/problems/repeated-dna-sequences/)

### **é¢˜æ„**

**DNAåºåˆ—** ç”±ä¸€ç³»åˆ—æ ¸è‹·é…¸ç»„æˆï¼Œç¼©å†™ä¸º `'A'`, `'C'`, `'G'` å’Œ `'T'`.ã€‚

- ä¾‹å¦‚ï¼Œ`"ACGAATTCCG"` æ˜¯ä¸€ä¸ª **DNAåºåˆ—** ã€‚

åœ¨ç ”ç©¶ **DNA** æ—¶ï¼Œè¯†åˆ« DNA ä¸­çš„é‡å¤åºåˆ—éå¸¸æœ‰ç”¨ã€‚

ç»™å®šä¸€ä¸ªè¡¨ç¤º **DNAåºåˆ—** çš„å­—ç¬¦ä¸² `s` ï¼Œè¿”å›æ‰€æœ‰åœ¨ DNA åˆ†å­ä¸­å‡ºç°ä¸æ­¢ä¸€æ¬¡çš„ **é•¿åº¦ä¸º `10`** çš„åºåˆ—(å­å­—ç¬¦ä¸²)ã€‚ä½ å¯ä»¥æŒ‰ **ä»»æ„é¡ºåº** è¿”å›ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT"
è¾“å‡ºï¼š["AAAAACCCCC","CCCCCAAAAA"]
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "AAAAAAAAAAAAA"
è¾“å‡ºï¼š["AAAAAAAAAA"]
```

**æç¤ºï¼š**

- `0 <= s.length <= 105`
- `s[i]``==``'A'`ã€`'C'`ã€`'G'` or `'T'`

### å‚è€ƒé¢˜è§£

1. [å®˜è§£](https://leetcode.cn/problems/repeated-dna-sequences/solutions/1035568/zhong-fu-de-dnaxu-lie-by-leetcode-soluti-z8zn)

### æ³•ä¸€

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æš´åŠ›å“ˆå¸Œä¸€æŠŠæ¢­   **:star:==

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆæœ€åä¸ç”¨åˆ¤æ–­tmpæ˜¯å¦åœ¨mapä¸­ï¼Œè€Œå¯ä»¥ç›´æ¥ if (++map[tmp] == 2)ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å› ä¸ºå¦‚æœ tmp ä¸å­˜åœ¨äºmapä¸­ï¼Œmap[tmp]ä¼šè¢«é»˜è®¤åˆå§‹åŒ–ä¸º 0ï¼Œç„¶åå† ++ ã€‚

    ä¹Ÿå°±æ˜¯è¯´ï¼Œif (++map[tmp] == 2) è¿™è¡Œä»£ç çš„é€»è¾‘æ˜¯ï¼š

    - å¦‚æœ tmp ä¸åœ¨ map ä¸­ï¼Œmap[tmp] ä¼šå˜æˆ 1ï¼Œç„¶åå’Œ 2 æ¯”è¾ƒï¼Œæ¡ä»¶ä¸æ»¡è¶³ï¼›
    - å¦‚æœ tmp å·²ç»åœ¨ map ä¸­ï¼Œmap[tmp] çš„å€¼ä¼šå¢åŠ ä¸º 2ï¼Œç„¶åå’Œ 2 æ¯”è¾ƒï¼Œæ¡ä»¶æ»¡è¶³ï¼Œæ‰§è¡Œ res.push_back(tmp)ã€‚

    è¿™æ ·çš„åšæ³•ç®€åŒ–äº†ä»£ç ï¼Œå› ä¸º **==unordered_map åœ¨è®¿é—®ä¸å­˜åœ¨çš„é”®æ—¶ï¼Œä¼šé»˜è®¤åˆå§‹åŒ–ä¸º 0ï¼Œä¸éœ€è¦æ˜¾å¼åˆ¤æ–­ tmp æ˜¯å¦åœ¨ map ä¸­ã€‚è¿™æ˜¯ C++ ä¸­ unordered_map çš„ä¸€ç§ç‰¹æ€§ï¼Œå…è®¸ç›´æ¥è®¿é—®ä¸å­˜åœ¨çš„é”®è€Œä¸æŠ¥é”™ï¼Œå¹¶åœ¨è®¿é—®æ—¶è¿›è¡Œé»˜è®¤åˆå§‹åŒ–ã€‚==**

#### ä»£ç 

```c++
vector<string> findRepeatedDnaSequences(string s) {
    int n = s.size();
    vector<string> res;
    if (n < 10) return res;
    unordered_map<string, int> map;
    for (int i = 0; i <= n - L; ++i) {
        string tmp = s.substr(i, L);
        if (++map[tmp] == 2) res.push_back(tmp);
    }
    return res;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(NL)  . Næ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ŒLæ˜¯å­ä¸²çš„é•¿åº¦10ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(NL)

### æ³•äºŒ

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å“ˆå¸Œè¡¨ + æ»‘åŠ¨çª—å£ + ä½è¿ç®—  **:star:==

 

# æ»‘åŠ¨çª—å£ä¸“é¢˜

## [643. å­æ•°ç»„æœ€å¤§å¹³å‡æ•° I](https://leetcode.cn/problems/maximum-average-subarray-i/)

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªç”± `n` ä¸ªå…ƒç´ ç»„æˆçš„æ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚

è¯·ä½ æ‰¾å‡ºå¹³å‡æ•°æœ€å¤§ä¸” **é•¿åº¦ä¸º `k`** çš„è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¾“å‡ºè¯¥æœ€å¤§å¹³å‡æ•°ã€‚

ä»»ä½•è¯¯å·®å°äº 10^-5^ çš„ç­”æ¡ˆéƒ½å°†è¢«è§†ä¸ºæ­£ç¡®ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,12,-5,-6,50,3], k = 4
è¾“å‡ºï¼š12.75
è§£é‡Šï¼šæœ€å¤§å¹³å‡æ•° (12-5-6+50)/4 = 51/4 = 12.75
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [5], k = 1
è¾“å‡ºï¼š5.00000
```

**æç¤ºï¼š**

- `n == nums.length`
- `1 <= k <= n <= 105`
- `-104 <= nums[i] <= 104`

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ»‘åŠ¨çª—å£   **:star:==

:small_red_triangle_down: steps: 

1.  åˆå§‹æ—¶çª—å£å·¦ç«¯ç‚¹å›ºå®šä¸åŠ¨ï¼Œå³ç«¯ç‚¹å³ç§»ç›´åˆ°çª—å£å¤§å°ä¸ºkï¼Œä¹‹åçª—å£å¤§å°å›ºå®šä¸ºkå³ç§»ï¼ŒåŒæ—¶ä¸æ–­æ›´æ–°çª—å£æ€»å’Œï¼Œè‹¥çª—å£æ€»å’Œ>maxSumåˆ™æ›´æ–°maxSum.
2.  è®¡ç®—çª—å£å–æœ€å¤§æ€»å’Œæ—¶çš„å¹³å‡æ•°ï¼Œè½¬æ¢ä¸ºdoubleå¹¶è¿”å›

:smiley: **æ”¶è·ï¼š ** 

- `static_cast<double>`:ä»ä¸€ä¸ªåŸºæœ¬ç±»å‹è½¬æ¢åˆ°double

**:x: careless | ignore :**

- è‹¥æœ€å`return maxSum / k;`åˆ™æ˜¯å…ˆå°†è®¡ç®—ç»“æœå–æ•´å†è½¬ä¸ºdoubleï¼Œä¼šä¸¢å¤±ç²¾åº¦ï¼

### ä»£ç 

```c++
double findMaxAverage(vector<int>& nums, int k) {
    int n = nums.size(), sum = 0;
    //åªæœ‰ç¬¬ä¸€ä¸ªæ»‘çª—çš„å…ƒç´ ä¸ªæ•°æ˜¯æ…¢æ…¢å¢å¤šåˆ°kçš„ï¼Œä¹‹åçš„æ»‘åŠ¨çª—å£å¤§å°éƒ½æ˜¯å›ºå®šä¸ºkç›´æ¥å³ç§»
    for (int i = 0; i < k; ++i) sum += nums[i];
    int maxSum = sum;
    for (int i = k; i < n; ++i) { 
        //ç¬¬äºŒä¸ªæ»‘çª—ç´¢å¼•èŒƒå›´æ˜¯[1,k]=[i-k+1,i], æ»‘çª—è¦å³ç§»å°†[i-k]ä»æ»‘çª—ç§»å‡ºï¼ŒåŒæ—¶å°†[i]ç§»å…¥
        sum = sum - nums[i - k] + nums[i];
        maxSum = max(sum, maxSum);
    }
    return static_cast<double>(maxSum) / k;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  
- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [674. æœ€é•¿è¿ç»­é€’å¢åºåˆ—](https://leetcode.cn/problems/longest-continuous-increasing-subsequence/)

### é¢˜æ„

ç»™å®šä¸€ä¸ªæœªç»æ’åºçš„æ•´æ•°æ•°ç»„ï¼Œæ‰¾åˆ°æœ€é•¿ä¸” **è¿ç»­é€’å¢çš„å­åºåˆ—**ï¼Œå¹¶è¿”å›è¯¥åºåˆ—çš„é•¿åº¦ã€‚

**è¿ç»­é€’å¢çš„å­åºåˆ—** å¯ä»¥ç”±ä¸¤ä¸ªä¸‹æ ‡ `l` å’Œ `r`ï¼ˆ`l < r`ï¼‰ç¡®å®šï¼Œå¦‚æœå¯¹äºæ¯ä¸ª `l <= i < r`ï¼Œéƒ½æœ‰ `nums[i] < nums[i + 1]` ï¼Œé‚£ä¹ˆå­åºåˆ— `[nums[l], nums[l + 1], ..., nums[r - 1], nums[r]]` å°±æ˜¯è¿ç»­é€’å¢å­åºåˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,3,5,4,7]
è¾“å‡ºï¼š3
è§£é‡Šï¼šæœ€é•¿è¿ç»­é€’å¢åºåˆ—æ˜¯ [1,3,5], é•¿åº¦ä¸º3ã€‚
å°½ç®¡ [1,3,5,7] ä¹Ÿæ˜¯å‡åºçš„å­åºåˆ—, ä½†å®ƒä¸æ˜¯è¿ç»­çš„ï¼Œå› ä¸º 5 å’Œ 7 åœ¨åŸæ•°ç»„é‡Œè¢« 4 éš”å¼€ã€‚ 
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [2,2,2,2,2]
è¾“å‡ºï¼š1
è§£é‡Šï¼šæœ€é•¿è¿ç»­é€’å¢åºåˆ—æ˜¯ [2], é•¿åº¦ä¸º1ã€‚
```

**æç¤ºï¼š**

- `1 <= nums.length <= 104`
- `-109 <= nums[i] <= 109`

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ»‘åŠ¨çª—å£   **:star:==

**:x: careless | ignore :**

- å°±æ˜¯æ³¨æ„å¦‚æœå†™æˆç¬¬ä¸€ç§æœ€åè¦ç»†å¿ƒç‚¹ä¸èƒ½ç›´æ¥è¿”å›resï¼Œè€Œæ˜¯è¿˜è¦è€ƒè™‘æ•´ä¸ªæ•°ç»„éƒ½å•è°ƒé€’å¢çš„æƒ…å†µï¼Œæ­¤æ—¶åªä¼šä¸æ–­++cntï¼Œä¸€æ¬¡éƒ½ä¸ä¼šæ›´æ–°res

### ä»£ç 

```c++
int findLengthOfLCIS(vector<int>& nums) {
    int n = nums.size();
    if (n <= 1) return n;
    int cnt = 1, res = 1;

    // ä¸€ç§å†™æ³•ã€
    
    // for (int i = 1; i < n; ++i) {
    //     if (nums[i - 1] < nums[i]) cnt++;
    //     else {
    //         res = max(res, cnt);
    //         cnt = 1;
    //     }
    // }
    // return max(res, cnt);//å¯¹äºæ•°ç»„æŒç»­é€’å¢çš„æƒ…å†µï¼Œæ­¤æ—¶å¹¶ä¸ä¼šæ›´æ–°resï¼Œè¦è¿”å›çš„å°±æ˜¯cnt


    // å¦ä¸€ç§å†™æ³•ã€
    for (int i = 1; i < n; ++i) {
        if (nums[i - 1] < nums[i]) {
            cnt++;
            res = max(res, cnt);
        }
        else cnt = 1;
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [209. é•¿åº¦æœ€å°çš„å­æ•°ç»„](https://leetcode.cn/problems/minimum-size-subarray-sum/)

### **é¢˜æ„**

ç»™å®šä¸€ä¸ªå«æœ‰ `n` ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° `target` **ã€‚**

æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶æ€»å’Œå¤§äºç­‰äº `target` çš„é•¿åº¦æœ€å°çš„ **è¿ç»­å­æ•°ç»„**  ï¼Œè¿”å›å…¶é•¿åº¦**ã€‚**å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› `0` .

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼štarget = 7, nums = [2,3,1,2,4,3]
è¾“å‡ºï¼š2
è§£é‡Šï¼šå­æ•°ç»„ [4,3] æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼štarget = 4, nums = [1,4,4]
è¾“å‡ºï¼š1
```

**ç¤ºä¾‹ 3ï¼š**

```
è¾“å…¥ï¼štarget = 11, nums = [1,1,1,1,1,1,1,1]
è¾“å‡ºï¼š0
```

**æç¤ºï¼š**

- `1 <= target <= 109`
- `1 <= nums.length <= 105`
- `1 <= nums[i] <= 105`

**è¿›é˜¶ï¼š**

- å¦‚æœä½ å·²ç»å®ç° `O(n)` æ—¶é—´å¤æ‚åº¦çš„è§£æ³•, è¯·å°è¯•è®¾è®¡ä¸€ä¸ª `O(n log(n))` æ—¶é—´å¤æ‚åº¦çš„è§£æ³•ã€‚

### å‚è€ƒé¢˜è§£

1. [æˆ‘çš„æ³•ä¸€é¢˜è§£](https://blog.csdn.net/rangbiubiu/article/details/132142137?spm=1001.2014.3001.5502)
1. å®˜è§£æ³•äºŒå†™çš„:shit:ä¸€æ ·

> **==æ¶‰åŠè¿ç»­å­æ•°ç»„çš„é—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸æœ‰ä¸¤ç§æ€è·¯ï¼šä¸€æ˜¯æ»‘åŠ¨çª—å£ã€äºŒæ˜¯å‰ç¼€å’Œ==**

### æ³•ä¸€

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ»‘åŠ¨çª—å£  **:star:==

**:small_red_triangle_down: steps: **

1.  åˆå§‹åŒ–åŒæŒ‡é’ˆ
1.  å³æŒ‡é’ˆä¸æ–­å³ç§»ç›´åˆ°çª—å£æ€»å’Œ+=targetï¼Œæ­¤æ—¶æ‰¾åˆ°ä¸€ä¸ªè§£
1.  left++æ”¶ç¼©çª—å£ä»¥æ‰¾åˆ°é•¿åº¦æ›´çŸ­çš„æ›´ä¼˜è§£
1.  è‹¥ä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼Œè¿”å›0ï¼›å¦åˆ™è¿”å›minlen

#### ä»£ç 

```c++
int minSubArrayLen(int target, vector<int>& nums) {
    int n = nums.size(), minlen = INT_MAX, sum = 0;
    for (int left = 0, right = 0; right < n; ++right) {
        if (nums[right] >= target) return 1;
        sum += nums[right];
        while (sum >= target) { //æ‰¾åˆ°ä¸€ä¸ªè§£åleft++æ”¶ç¼©çª—å£ä»¥æ‰¾åˆ°æ›´ä¼˜è§£ 
        // ä¸ºä»€ä¹ˆä¸æ˜¯right--ç¼©å°çª—å£ï¼Ÿå› ä¸ºå°±æ˜¯rightä¸€è·¯++åˆ°å½“å‰ä½ç½®çª—å£æ‰èƒ½>=targetçš„ï¼Œå› æ­¤åªæœ‰å‰é¢çš„éƒ¨åˆ†æ˜¯æ— æ³•æ»¡è¶³æ¡ä»¶çš„ï¼Œä½†åªæœ‰åé¢çš„éƒ¨åˆ†å¯èƒ½æ»¡è¶³æ¡ä»¶
            minlen = min(minlen, right - left + 1);
            sum -= nums[left++];
        }
    }
    return minlen == INT_MAX ? 0 : minlen;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### æ³•äºŒ

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å‰ç¼€å’Œ + äºŒåˆ†æŸ¥æ‰¾   **:star:==

**:key:  keyï¼š**

- å¦‚æœæš´åŠ›æ±‚è§£ï¼Œæˆ‘ä»¬ä¼šå¤šæ¬¡é‡å¤è®¡ç®—ã€‚ç”¨å‰ç¼€å’Œå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

**:small_red_triangle_down: steps: **

1.  ç»Ÿè®¡æ¯ä¸ªå…ƒç´ nums[i]çš„å‰ç¼€å’Œ
    - å‰ç¼€å’Œè¦ä¸è¦åŒ…å«è‡ªå·±ï¼Ÿ
        - è®¾[j, i]æ˜¯æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œåˆ™è¯¥å­æ•°ç»„çš„å’Œ >= [0,i]çš„å…ƒç´ ä¹‹å’Œ - [0,j-1]çš„å…ƒç´ ä¹‹å’Œ
        - å¯ä»¥è®¾ä¸ºä¸åŒ…å«è‡ªå·±ï¼ˆé‚£ä¹ˆprefixSumå¤§å°è¦+1ï¼‰

1.  éå†å‰ç¼€å’Œï¼Œæ‰¾æ»¡è¶³ æ€»å’Œ = `prefixSum[end+1]-prefixSum[start] >= target`çš„å­æ•°ç»„[start, end]
    - ç”±äºå‰ç¼€å’Œæ•°ç»„æ˜¯å•è°ƒé€’å¢ï¼ˆæœ‰åºï¼‰çš„ï¼Œå› æ­¤å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾åŠ é€ŸæŸ¥æ‰¾
    - å›ºå®šstartï¼Œåœ¨[start, size)çš„èŒƒå›´ä¸­äºŒåˆ†æ‰¾ `>= target + prefixSum[start]` çš„ prefixSum[end+1]
    - å¦‚æœæ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç´¢å¼•ï¼Œåˆ™è®¡ç®—å½“å‰å­æ•°ç»„çš„é•¿åº¦ã€‚å¦‚æœè¯¥é•¿åº¦<minlenï¼Œæ›´æ–°minlen

1.  è‹¥ä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¿ç»­å­æ•°ç»„ï¼Œè¿”å›0ï¼›å¦åˆ™è¿”å›res

#### ä»£ç 

```c++
class Solution {
public:
    int binarySearchFirst(vector<int>& prefixSum, int left, int target) {
        // æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³prefixSum[end+1] >= prefixSum[start]+target çš„ end+1
        int right = prefixSum.size() - 1;
        while (left < right) {
            int mid = left + (right - left) / 2;
            if (prefixSum[mid] >= target) {
                right = mid;
            } else {
                left = mid + 1;
            } 
        }
        return prefixSum[left] >= target ? left : -1;
    }
    int minSubArrayLen(int target, vector<int>& nums) {
        int n = nums.size(), minlen = INT_MAX;
        // 1.ç»Ÿè®¡å‰ç¼€å’Œ
        vector<int> prefixSum(n + 1);
        prefixSum[0] = 0;
        for (int i = 1; i <= n; ++i) {
            prefixSum[i] = prefixSum[i - 1] + nums[i - 1];
        }
        // 2.éå†å‰ç¼€å’Œæ‰¾æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„
        for (int start = 0; start <= n; ++start) {
            // åœ¨[start, size-1]çš„èŒƒå›´ä¸­äºŒåˆ†æ‰¾ >= target + prefixSum[start] çš„ prefixSum[end+1]
            int aim = prefixSum[start] + target; // æ‰¾ >= aim çš„æœ€å°ä¸‹æ ‡
            int enddp1 = binarySearchFirst(prefixSum, start, aim);//enddp1=end+1
            if (enddp1 != -1) {
                minlen = min(minlen, enddp1 - start);
            }
        }
        return minlen == INT_MAX ? 0 : minlen;
    }
};
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n)

## :fire:[560. å’Œä¸º K çš„å­æ•°ç»„](https://leetcode.cn/problems/subarray-sum-equals-k/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` å’Œä¸€ä¸ªæ•´æ•° `k` ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› *è¯¥æ•°ç»„ä¸­å’Œä¸º `k` çš„å­æ•°ç»„çš„ä¸ªæ•°* ã€‚

å­æ•°ç»„æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„è¿ç»­éç©ºåºåˆ—ã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,1,1], k = 2
è¾“å‡ºï¼š2
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1,2,3], k = 3
è¾“å‡ºï¼š2
```

**æç¤ºï¼š**

- `1 <= nums.length <= 2 * 104`
- `-1000 <= nums[i] <= 1000`
- `-107 <= k <= 107`

### å‚è€ƒé¢˜è§£

1. 

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š å‰ç¼€å’Œ + å“ˆå¸Œ  **:star:==

å’Œä¸Šä¸€é¢˜ ã€209.é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‘ä¸åŒçš„æ˜¯ï¼Œ

1. 209æ˜¯æ±‚å‰ç¼€å’Œå¤§äºç­‰äºkçš„ï¼Œè€Œ560æ˜¯æ±‚å‰ç¼€å’Œç­‰äºkçš„ï¼Œå› æ­¤209æ˜¯åœ¨æŸ¥æ‰¾æ—¶æœ€å¿«åªèƒ½ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œè€Œ560å°±å¯ä»¥ç”¨å“ˆå¸Œè¡¨æ¥æŸ¥æ‰¾ã€‚
2. 209ä¸­nums[i]éƒ½æ˜¯>=1çš„æ­£æ•°ï¼Œè€Œ560ä¸­åˆ™å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œå› æ­¤å¦‚æœæ±‚å¾—numsçš„å‰ç¼€å’Œæ•°ç»„ï¼Œé‚£ä¹ˆå®ƒä¹Ÿä¸ä¸€å®šæ˜¯å•è°ƒé€’å¢çš„ï¼Œå› æ­¤å®é™…ä¸Šåªèƒ½ç”¨å“ˆå¸Œè€Œä¸èƒ½ç”¨äºŒåˆ†ã€‚
3. 209æ˜¯æ±‚æ»¡è¶³æ¡ä»¶çš„é•¿åº¦æœ€å°çš„ **è¿ç»­å­æ•°ç»„** çš„é•¿åº¦ï¼Œè€Œ560æ˜¯æ±‚æ»¡è¶³æ¡ä»¶çš„ **è¿ç»­å­æ•°ç»„** çš„ä¸ªæ•°ï¼Œå› æ­¤åœ¨è¿™é¢˜å›ºå®šå­æ•°ç»„çš„ä¸€ç«¯éå†å‰ç¼€å’Œæ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦è®°å½•å¦ä¸€ç«¯çš„ç´¢å¼•ä½ç½®ï¼Œåªè¦çŸ¥é“æœ‰å¤šå°‘ä¸ªè¿™æ ·æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ã€‚å› æ­¤mapä¸­çš„valueå®šä¹‰ä¸º: å­˜åœ¨å‡ ä¸ªç›¸åŒçš„å‰ç¼€å’Œkeyã€‚

**:key:  keyï¼š**

- æ³¨æ„ i ä¹‹å‰å¯èƒ½æœ‰å¤šä¸ªç›¸åŒçš„å†å²å‰ç¼€å’Œï¼Œå› æ­¤mapä¸­çš„valueåº”ä¸ºè¿™ä¸ªå‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°ï¼Œè€Œä¸æ˜¯è¡¨ç¤ºè¿™æ˜¯å“ªä¸ªä¸‹æ ‡çš„å‰ç¼€å’Œã€‚é‚£æ€ä¹ˆä¿è¯è¿™ä¸ªå‰ç¼€å’Œæ˜¯åœ¨ i ä¹‹å‰çš„å‰ç¼€å’Œå‘¢ï¼Ÿé‚£å°±è¦åœ¨æŸ¥æ‰¾å®Œäº†ä¹‹åå†æŠŠå½“å‰å‰ç¼€å’Œçš„å‡ºç°æ¬¡æ•°++;
- ç”±äºæˆ‘ä»¬åªå…³å¿ƒæ˜¯å¦å­˜åœ¨ä¸”å­˜åœ¨å‡ ä¸ª = å½“å‰å‰ç¼€å’Œ - k çš„å†å²å‰ç¼€å’Œï¼Œè€Œä¸å…³å¿ƒè¯¥å†å²å‰ç¼€å’Œæ˜¯å“ªä¸ªä¸‹æ ‡çš„å‰ç¼€å’Œï¼Œä¸”æˆ‘ä»¬ä¿è¯äº†umapä¸­éƒ½æ˜¯å†å²å‰ç¼€å’Œï¼Œå› æ­¤ä¸éœ€è¦ç”¨æ•°ç»„å­˜æ”¾å†å²å‰ç¼€å’Œï¼Œåªéœ€è¦ç”¨ä¸€ä¸ªå˜é‡è¡¨ç¤ºä¸Šä¸€ä¸ªå‰ç¼€å’Œä»¥åŠç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨å­˜æ”¾å†å²å‰ç¼€å’Œå³å¯ã€‚è¿™æ ·è¿˜èƒ½çœå»ä¸‹æ ‡å¯¹åº”çš„éº»çƒ¦ã€‚

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆå…ˆè¦åœ¨umapä¸­æ’å…¥(0, 1)?

:heavy_check_mark:  **answer:** 

1. å› ä¸ºå¦‚æœnums[0]=k, é‚£ä¹ˆå•å°±nums[0]å°±æ˜¯ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„ï¼Œcntåº”åŠ ä¸€ã€‚

    ä½†æ˜¯ï¼Œåœ¨ä¸€èˆ¬é€»è¾‘ä¸­ï¼Œæˆ‘ä»¬è¦æƒ³è®©æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„çš„ä¸ªæ•°å¢åŠ ï¼Œå°±è¦å»umapä¸­æ‰¾æ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡[0,i)çš„å‰ç¼€å’Œï¼Œå¦‚æœæ‰¾ä¸åˆ° = `prefixSum - k == 0`çš„å‰ç¼€å’Œï¼Œé‚£ä¹ˆcnt å°±ä¸ä¼š+1ã€‚

    å› æ­¤å¿…é¡»è¦æœ‰umap[0] = 1è¿™ä¸€æ­¥ï¼Œå¦‚æœæ²¡æœ‰é‚£å°±å°‘ç®—äº†

### ä»£ç 

```c++
class Solution {
public:
    int subarraySum(vector<int>& nums, int k) {
        int res = 0;
        unordered_map<int, int> umap;//valueè¡¨ç¤ºå­˜åœ¨å‡ ä¸ªç›¸åŒçš„keyå‰ç¼€å’Œ
        // è¾¹éå†è¾¹å­˜å‰ç¼€å’Œåˆ°umapä¸­
        int prefixSum = 0; //è¡¨ç¤ºå½“å‰å‰ç¼€å’Œï¼Œåœ¨åé¢çš„forä¸­è¾¹éå†è¾¹æ›´æ–°

        umap[0] = 1; 
        
        for (int& val : nums) {
            // æ›´æ–°å½“å‰å‰ç¼€å’Œ
            prefixSum += val;
            // åœ¨umapä¸­æ‰¾æ˜¯å¦å­˜åœ¨`= prefixSum - k`çš„å‰ç¼€å’Œ
            if (umap.count(prefixSum - k)) {
                res += umap[prefixSum - k]; 
            }
            umap[prefixSum]++;
        }
        return res;
    }
};
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(n). å“ˆå¸Œmapæœ€å¤šå¯èƒ½å ç”¨O(n)çš„ç©ºé—´

## [:fire: 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/):star::star: 

### **é¢˜æ„**

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s` ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

**ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: s = "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

**æç¤ºï¼š**

- `0 <= s.length <= 5 * 104`
- `s` ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

### æš´åŠ›

**:key:  keyï¼š**

- éå†sï¼Œå¯¹äºæ¯ä¸€ä¸ªå­—ç¬¦s[i]ï¼Œæ‰¾ä»¥s[i]å¼€å¤´çš„æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²

â€‹		![SmartSelect_20240119_165608_Samsung Notes](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401191716874.jpg)

#### ä»£ç 

```c++
int lengthOfLongestSubstring(string s) {
    int n = s.size(), maxlen = 0;
    unordered_set<char> set;//è®°å½•çª—å£ä¸­å‡ºç°çš„å­—ç¬¦
    int left = 0, right = 0;
    while (right < n) {
        if (set.find(s[right]) == set.end()) { //æ»‘çª—ä¸­æœªå‡ºç°è¿‡è¯¥å€¼
            set.insert(s[right]); //å°†è¯¥å€¼åŠ å…¥setä¸­
            right++; //å‘å³æ‰©å¤§çª—å£
        }
        else { //çª—å£ä¸­å‡ºç°è¿‡è¯¥å€¼ï¼Œåˆ™ä»¥s[l]å¼€å¤´çš„æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²å°±æ˜¯[l,r-1]
            maxlen = max(maxlen, right - left);//ç»Ÿè®¡è¯¥å­ä¸²é•¿åº¦å¹¶æ ¹æ®å¤§å°æ›´æ–°maxlen
            left++;//è¦å¼€å§‹æ‰¾ä»¥s[l+1]å¼€å¤´çš„æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²äº†
            right = left;//ç¼©å°çª—å£è‡³sizeä¸º1
            set.clear();//æ¸…ç©ºset
        }         
    }
    return max(maxlen, right - left);//å› ä¸ºå¯èƒ½sä¸­æ‰€æœ‰å­—ç¬¦éƒ½ä¸é‡å¤ï¼Œæ­¤æ—¶ä¼šä¸€ç›´èµ°ifæ‰©å¤§çª—å£åˆ°æœ«å°¾è€Œä¸ä¼šèµ°elseï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šæ›´æ–°maxlen
}
```

ä¹Ÿå¯ä»¥å°†elseå’Œreturnä¸­çš„æ›´æ–°maxlené€»è¾‘åˆä¸ºä¸€ä¸ªï¼Œå†™åœ¨whileè¯­å¥ä¸­ï¼Œå³æ¯ä¸€æ¬¡whileå¾ªç¯éƒ½æ›´æ–°ä¸€æ¬¡maxlenï¼Œå¦‚ä¸‹ï¼š

```c++
int lengthOfLongestSubstring(string s) {
    int n = s.size(), maxlen = 0;
    unordered_set<char> set;//è®°å½•çª—å£ä¸­å‡ºç°çš„å­—ç¬¦
    int left = 0, right = 0;
    while (right < n) {
        if (set.find(s[right]) == set.end()) { //æ»‘çª—ä¸­æœªå‡ºç°è¿‡è¯¥å€¼
            set.insert(s[right]); //å°†è¯¥å€¼åŠ å…¥setä¸­
            right++; //å‘å³æ‰©å¤§çª—å£
        }
        else { //çª—å£ä¸­å‡ºç°è¿‡è¯¥å€¼ï¼Œåˆ™ä»¥s[l]å¼€å¤´çš„æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²å°±æ˜¯[l,r-1]
            left++;//è¦å¼€å§‹æ‰¾ä»¥s[l+1]å¼€å¤´çš„æœ€é•¿æ— é‡å¤å­—ç¬¦å­ä¸²äº†
            right = left;//ç¼©å°çª—å£è‡³sizeä¸º1
            set.clear();//æ¸…ç©ºset
        }         
        maxlen = max(maxlen, right - left);
    }
    return maxlen;
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n^2^)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### ä¼˜åŒ–

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ»‘åŠ¨çª—å£   **:star:==

**:question:   problems:** 

1. é‡é‡æ—¶çš„å¤„ç†é€»è¾‘æ˜¯? ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. è®¾çª—å£ä¸­ä¸s[right]ç›¸åŒçš„é‡å¤å­—ç¬¦æ˜¯s[m]ï¼Œåˆ™éœ€è¦å°†leftä¸æ–­å³ç§»ç›´åˆ°æŠŠs[m]åŠå…¶å‰é¢çš„æ‰€æœ‰å…ƒç´ ç§»å‡ºçª—å£ï¼ŒåŒæ—¶å°†s[left]ä»setä¸­åˆ é™¤ï¼›

    å› ä¸ºä»¥[left, m]ä¸­å­—ç¬¦å¼€å¤´çš„æœ€é•¿æ— é‡å¤å­—ç¬¦çš„å­ä¸²ï¼Œéƒ½æ˜¯æœ€å¤šåˆ°right - 1å°±ç»“æŸäº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä»¬çš„é•¿åº¦éƒ½ä¸ä¼šè¶…è¿‡right-1 - left + 1 = right - leftã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è·³è¿‡[left,m]ï¼Œä¸ç”¨è®¡ç®—ä»¥å®ƒä»¬ä¸ºå¼€å¤´çš„Â·Â·Â·Â·Â·Â·ï¼Œçª—å£å·¦ç«¯ç›´æ¥ä»m+1ç»§ç»­æ‰¾æœ€é•¿çš„æ— é‡å¤å­—ç¬¦çš„å­ä¸²ã€‚

**:x: careless | ignore :**

- æ³¨æ„é‡é‡æ—¶çš„å¤„ç†é€»è¾‘ä¸èƒ½ç”¨whileä¸€æ­¥åˆ°ä½ï¼å› ä¸ºå¦‚æœè¿™ä¸ªå†…å±‚çš„whileæ¡ä»¶ä¸æ»¡è¶³ï¼ˆæ¯”å¦‚så…¨æ˜¯é‡å¤å­—ç¬¦çš„æƒ…å†µï¼‰ï¼Œé‚£å°±ä¸ä¼šæ‰§è¡Œå†…å­˜whileçš„é€»è¾‘å°†å­—ç¬¦ä»setä¸­åˆ å»ï¼Œå¯¼è‡´ä¸€ç›´éƒ½åœ¨é‡é‡ä¸€ç›´èµ°elseï¼Œåˆ™leftä¸€ç›´++è€Œrightå§‹ç»ˆä¸åŠ¨ï¼Œå§‹ç»ˆ<nï¼Œé™·å…¥æ­»å¾ªç¯ã€‚

    è€Œç›´æ¥ set.erase[s[left++]]; å°±ä¸éœ€è¦ç®¡é‚£ä¹ˆå¤šï¼Œå…ˆsetä¸­åˆ äº†å†è¯´ï¼Œè¿™æ ·å°±ç®—å…¨æ˜¯é‡å¤å­—ç¬¦ï¼Œçª—å£å†…çš„é‡å¤å­—ç¬¦å·²ç»ä»setä¸­åˆ æ‰äº†ä¸ºç©ºäº†ï¼Œä¸‹ä¸€æ¬¡å°±ä¼šèµ°ifæ›´æ–°rightã€‚

![SmartSelect_20240119_170320_Samsung Notes](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401191719645.jpg)

![image-20240119175610029](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202401191756320.png)

#### ä»£ç 

```c++
class Solution {
public:
    int lengthOfLongestSubstring(string s) {
        // æš´åŠ›è§£æ³•å°±æ˜¯å¯¹äºæ¯ä¸ªå­—ç¬¦s[i]ï¼Œæ‰¾åˆ°ä»¥å®ƒå¼€å¤´çš„ä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦
        // è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n^2)
        // é‚£èƒ½ä¸èƒ½å°±é€šè¿‡ä¸€æ¬¡éå†å®ç°å‘¢ï¼Ÿ
        // ç”¨ä¸€ä¸ªçª—å£ï¼Œå…¶ä¸­ç»´æŠ¤çš„å­—ç¬¦å…¨æ˜¯ä¸é‡å¤çš„
        // åŒæ­¥ç»´æŠ¤ä¸€ä¸ªå“ˆå¸Œsetï¼Œå¦‚æœè¦è¿›æ¥çš„å­—ç¬¦åœ¨å“ˆå¸Œè¡¨ä¸­å‡ºç°è¿‡ï¼Œåˆ™è®°å½•å½“å‰çª—å£çš„é•¿åº¦ï¼Œ
        // ç„¶åleft++ç¼©å°çª—å£ç›´åˆ°è¯¥å­—ç¬¦è¢«ç§»å‡ºçª—å£
        unordered_set<char> uset;//è®°å½•çª—å£ä¸­å‡ºç°çš„å­—ç¬¦
        int left = 0;
        int right = 0;
        int maxlen = 0;
        while (right < s.size()) {
            if (uset.count(s[right])) { // å‡ºç°äº†é‡å¤å­—ç¬¦
                while (uset.count(s[right])) {
                    uset.erase(s[left]);
                    left++;
                }
            } else {
                uset.insert(s[right]);
                right++;
            }
            maxlen = max(maxlen, right - left); //æ»¡è¶³æ¡ä»¶çš„çª—å£æ˜¯s[left,right)
        }
        return maxlen;
    }
};
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## **[567. å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.cn/problems/permutation-in-string/)**

### **é¢˜æ„**

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² `s1` å’Œ `s2` ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ `s2` æ˜¯å¦åŒ…å« `s1` çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› `true` ï¼›å¦åˆ™ï¼Œè¿”å› `false` ã€‚

æ¢å¥è¯è¯´ï¼Œ`s1` çš„æ’åˆ—ä¹‹ä¸€æ˜¯ `s2` çš„ **å­ä¸²** ã€‚ 

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs1 = "ab" s2 = "eidbaooo"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šs2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ ("ba").
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs1= "ab" s2 = "eidboaoo"
è¾“å‡ºï¼šfalse
```

**æç¤ºï¼š**

- `1 <= s1.length, s2.length <= 104`
- `s1` å’Œ `s2` ä»…åŒ…å«å°å†™å­—æ¯

### ä»£ç 

è¿™é¢˜å’Œ [438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/) ä¸€æ¨¡ä¸€æ ·ï¼Œé™¤äº†è¿”å›å€¼æ˜¯boolå‹ä¹‹å¤–

```c++
bool checkInclusion(string s1, string s2) {
    vector<int> res;
    vector<int> need(128);//å­˜å‚¨pçš„å­—æ¯é¢‘æ¬¡
    vector<int> win(128);//å­˜å‚¨çª—å£å†…å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡
    //ä¹Ÿå¯ä»¥éƒ½ç”¨26çš„å¤§å°ï¼Œåªä¸è¿‡å–å­—ç¬¦æ—¶å°±è¦åš-'a'æ˜ å°„
    for (char &c : s1) need[c]++;

    int left = 0, right = 0;
    while (right < s2.size()){
        if (win[s2[right]] < need[s2[right]]){//çª—å£ä¸­å‡ºç°çš„s2[r]ä¸å¤Ÿï¼Œè‡ªç„¶è¦æŠŠs2[r]åŠ è¿›æ¥
            win[s2[right++]]++;
            if (right - left == s1.size()) return true;
        }
        else if (win[s2[right]] == need[s2[right]]){ //çª—å£ä¸­å‡ºç°çš„s2[r]å·²å¤Ÿï¼Œå†æŠŠs2[r]åŠ è¿›æ¥å°±è¶…äº†
            // è®©leftå³ç§»è‡³ä¸s2[r]ç›¸åŒçš„å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®
            while (win[s2[right]] == need[s2[right]]) win[s2[left++]]--;
            //é€€å‡ºå¾ªç¯æ—¶win[s2[right]] = need[s2[right]] - 1ï¼Œæ­¤æ—¶çª—å£åˆšæŠŠ=s2[r]çš„é‚£ä¸ªå­—ç¬¦çš„é¢‘æ¬¡--ï¼ŒleftæŒ‡å‘ä¸‹ä¸€ä¸ªå­—ç¬¦
        }
        else if (need[s2[right]] == 0){ //è‹¥s2[r]æœ¬å°±ä¸æ˜¯pä¸­å­—ç¬¦ï¼Œåˆ™leftå³ç§»è‡³right+1
            while (left != right) win[s2[left++]]--;
            left++; right++;
        }
    }
    return false;
}
```

## :fire:[76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/)

### é¢˜æ„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` ã€ä¸€ä¸ªå­—ç¬¦ä¸² `t` ã€‚è¿”å› `s` ä¸­æ¶µç›– `t` æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ `s` ä¸­ä¸å­˜åœ¨æ¶µç›– `t` æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² `""` ã€‚

**æ³¨æ„ï¼š**

- å¯¹äº `t` ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº `t` ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚
- å¦‚æœ `s` ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "ADOBECODEBANC", t = "ABC"
è¾“å‡ºï¼š"BANC"
è§£é‡Šï¼šæœ€å°è¦†ç›–å­ä¸² "BANC" åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ 'A'ã€'B' å’Œ 'C'ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "a", t = "a"
è¾“å‡ºï¼š"a"
è§£é‡Šï¼šæ•´ä¸ªå­—ç¬¦ä¸² s æ˜¯æœ€å°è¦†ç›–å­ä¸²ã€‚
```

**ç¤ºä¾‹ 3:**

```
è¾“å…¥: s = "a", t = "aa"
è¾“å‡º: ""
è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ 'a' å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ
å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚
```

**æç¤ºï¼š**

- `m == s.length`
- `n == t.length`
- `1 <= m, n <= 105`
- `s` å’Œ `t` ç”±è‹±æ–‡å­—æ¯ç»„æˆ

**è¿›é˜¶ï¼š**ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ `o(m+n)` æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼šæ»‘åŠ¨çª—å£   **:star:==

**:key:  keyï¼š**

- right++æ‰©å¤§çª—å£æ‰¾å¯è¡Œè§£ â€”â€”> left++ç¼©å°çª—å£æ‰¾æ›´ä¼˜è§£ â€”â€”> åˆ¤æ–­è¯¥æ›´ä¼˜è§£æ˜¯å¦å¯èƒ½æ˜¯æœ€ä¼˜è§£å¹¶å¯¹åº”æ›´æ–°å˜é‡ â€”â€”> left++ç»§ç»­å¾€åæ‰¾æ›´å¤šå¯è¡Œè§£
- å˜é‡çš„æ›´æ–°æ—¶æœºï¼š
    - å…³äºleftå’Œrightçš„æ›´æ–°ï¼š
        - leftæ›´æ–°ï¼šç¼©å°çª—å£æ‰¾æ›´ä¼˜è§£æ—¶ï¼Œä»¥åŠï¼Œæ‰¾åˆ°æ›´ä¼˜è§£åç»§ç»­å¼€å§‹æ‰¾ä¸‹ä¸€ä¸ªå¯è¡Œè§£æ—¶
        - rightæ›´æ–°ï¼šæ‰©å¤§çª—å£æ—¶

    - å…³äºneedæ•°ç»„å’ŒneedCntçš„æ›´æ–°ï¼š
        - çª—å£è¿›ä¸€ä¸ªå­—ç¬¦å°±need[å­—ç¬¦]--ï¼Œå¦‚æœè¯¥å­—ç¬¦æ˜¯çª—å£éœ€è¦çš„å­—ç¬¦å°±å†needCnt--ï¼›
        - çª—å£å‡ºä¸€ä¸ªå­—ç¬¦å°±need[å­—ç¬¦]++ï¼Œå¦‚æœè¯¥å­—ç¬¦æ˜¯çª—å£éœ€è¦çš„å­—ç¬¦å°±å†needCnt++

    - å…³äºstartå’Œminlençš„æ›´æ–°ï¼š
        - æ‰¾åˆ°ä¸€ä¸ªæ›´ä¼˜è§£æ—¶ï¼Œè‹¥çª—å£å¤§å°<minlenï¼Œå°±è¯´æ˜è¯¥æ›´ä¼˜è§£å¯èƒ½æˆä¸ºæœ€ä¼˜è§£ï¼Œå› æ­¤æ›´æ–°minlenå’Œstart

**:question:   problems:** 

1. æ€æ ·åˆ¤æ–­çª—å£å·²ç»åŒ…å«äº†tä¸­æ‰€æœ‰å­—ç¬¦ï¼Ÿ
2. ç¼©å°çª—å£æ‰¾æ›´ä¼˜è§£æ€ä¹ˆå®ç°ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å¦‚æœæˆ‘ä»¬ç”¨ä¸¤ä¸ªvectoræ¥åˆ¤æ–­ï¼š

    - ä¸¤ä¸ªvectoråˆ†åˆ«å­˜æ”¾çª—å£ä¸­å­—ç¬¦é¢‘æ¬¡å’Œtä¸­å­—ç¬¦é¢‘æ¬¡ã€‚
    - é‚£ä¹ˆæ¯æ¬¡åˆ¤æ–­çª—å£æ˜¯å¦åŒ…å«tä¸­å­—ç¬¦å°±éœ€è¦éå†vectoråˆ¤æ–­å¯¹åº”tä¸­å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡ä¸çª—å£ä¸­å¯¹åº”å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡æ˜¯å¦ç›¸ç­‰ã€‚

    å¦‚æœåªç”¨ä¸€ä¸ªvectoræ¥åˆ¤æ–­ï¼š

    - è¿™ä¸ªvectorå­˜æ”¾Â·Â·Â·Â·Â·Â·Â·Â·çš„å·®å€¼ï¼Œå³çª—å£ä¸­æ¯ä¸ªtä¸­å­—ç¬¦è¿˜éœ€è¦å‡ºç°å¤šå°‘æ¬¡ã€‚
    - é‚£ä¹ˆæ¯æ¬¡ä»éœ€è¦éå†è¿™ä¸ªvectoråˆ¤æ–­å¯¹åº”tä¸­å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡æ˜¯å¦ä¸º0ã€‚

    å¦‚æœåªç”¨ä¸€ä¸ªå˜é‡needCntæ¥åˆ¤æ–­ï¼š

    - è¿™ä¸ªå˜é‡è¡¨ç¤ºçª—å£ä¸­è¿˜éœ€è¦å‡ºç°çš„tä¸­å­—ç¬¦çš„æ€»ä¸ªæ•°

    - é‚£ä¹ˆæ¯æ¬¡åªéœ€è¦æ ¹æ®needCntæ˜¯å¦ä¸º0ï¼Œå°±èƒ½ç›´æ¥åˆ¤æ–­çª—å£æ˜¯å¦åŒ…å«äº†tä¸­çš„æ‰€æœ‰å­—ç¬¦ã€‚

        > :question: :question::question:  **ä¸ºä»€ä¹ˆèƒ½ç›´æ¥æ ¹æ®needCntåˆ¤æ–­çª—å£æ˜¯å¦å·²ç»åŒ…å«äº†tä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Ÿ**
        >
        > - åªæœ‰åœ¨çª—å£è¿›æ¥éœ€è¦çš„å­—ç¬¦ï¼ˆ**need[å­—ç¬¦]>0ï¼‰**æ—¶æ‰ä¼šè®©needCnt--ï¼Œå¦‚æœneed[å­—ç¬¦]<=0å°±ä¸ä¼šè®©needCnt--ï¼Œå› æ­¤ä¸ä¼šè¯¯åˆ¤ã€‚æ¯æ¬¡è®©needCnt--çš„å­—ç¬¦éƒ½ä¸€å®šæ˜¯çª—å£è¿˜éœ€è¦çš„tä¸­å­—ç¬¦ã€‚

2. å¦‚æœneed[s[left]] < 0å°±ä¸€ç›´ç¼©å°çª—å£ï¼Œç›´åˆ°é‡åˆ°å¿…é¡»åŒ…å«çš„å­—æ¯ã€‚å› ä¸ºï¼š

    çª—å£æ¯è¿›ä¸€ä¸ªå­—ç¬¦å°±ä¼šneed[å­—ç¬¦]--ï¼Œneed[s[left]]<0å°±è¯´æ˜s[left]æ˜¯çª—å£æœ¬ä¸éœ€è¦åŒ…å«çš„å­—ç¬¦ï¼ˆåŒ…æ‹¬æœ¬å°±ä¸å±äºtã€å±äºtä½†æ‰€éœ€ä¸ªæ•°å¤šä½™äº†çš„å­—ç¬¦ï¼‰ï¼Œå°±å¯ä»¥ç›´æ¥è·³è¿‡ã€‚

**:small_red_triangle_down:  steps: **

1.  rightä¸æ–­å³ç§»ç›´åˆ°çª—å£åŒ…å«æ‰€æœ‰tä¸­çš„å­—æ¯ï¼Œæ‰¾åˆ°ä¸€ä¸ªå¯è¡Œè§£
2.  left++ä¸æ–­å³ç§»ç¼©å°çª—å£ç›´åˆ°é‡åˆ°å¿…é¡»åŒ…å«çš„å­—æ¯ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜è§£
3.  æ‰¾åˆ°ä¸€ä¸ªæ›´ä¼˜è§£ä¹‹åï¼Œåˆ¤æ–­è¯¥æ›´ä¼˜è§£æ˜¯å¦å¯èƒ½æ˜¯æœ€ä¼˜è§£ã€‚è‹¥çª—å£å¤§å°<minlenï¼Œå°±è¯´æ˜è¯¥æ›´ä¼˜è§£å¯èƒ½æˆä¸ºæœ€ä¼˜è§£ï¼Œæ›´æ–°ä¸ç»“æœç›¸å…³çš„å˜é‡
4.  leftå³ç§»æ‰¾ä¸‹ä¸€ä¸ªå¯è¡Œè§£ã€‚é‡å¤æ‰§è¡Œä¸Šè¿°æ­¥éª¤ç›´è‡³sæœ«å°¾ã€‚

 ğŸˆ  **æ”¶è·ï¼š ** 

- ä¸è¦åå•¬ä½¿ç”¨å˜é‡ï¼Œæœ‰æ—¶å€™è¿™æ˜¯å¿…è¦çš„ï¼å°±ç®—ä¸æ˜¯å¿…è¦çš„ï¼Œå‰æœŸä¹Ÿå¯ä»¥å°½é‡ç®€åŒ–å®ç°æŠŠé¢˜ç›®ACäº†å†è¯´ï¼ˆè¿™æ ·è‡³å°‘èƒ½çŸ¥é“è‡ªå·±çš„å¤§è‡´æ€è·¯æ˜¯å¦æ­£ç¡®ï¼Œé˜²æ­¢æ€è·¯ç»†èŠ‚ä¸€æŠŠæŠ“æå¾—è„‘å­ä¹±ï¼‰ï¼Œå†å»ä¼˜åŒ–

### ä»£ç 

#### æ— æ³¨é‡Šç‰ˆ

```c++
class Solution {
public:
    string minWindow(string s, string t) {
        vector<int> need(128);
        for (auto& c : t) {
            need[c]++; 
        }
        int start = 0;
        int minlen = INT_MAX; 
        int needCnt = t.size(); 
        for (int left = 0, right = 0; right < s.size(); ++right) {
            char curChar = s[right];
            if (need[curChar]-- > 0) {  
                needCnt--;
            }        
            if (needCnt == 0) {  
                while (need[s[left]] < 0) {
                    need[s[left++]]++; 
                }
                int windowLen = right - left + 1; 
                if (windowLen < minlen) { 
                    minlen = windowLen;
                    start = left;
                }
                need[s[left++]]++;
                needCnt++;
            }
        }
        return minlen == INT_MAX ? "" : s.substr(start, minlen);
    }
};
```

ä¹Ÿå¯ä»¥å†™æˆ

```c++
class Solution {
public:
    string minWindow(string s, string t) {
        vector<int> need(128);
        for (auto& c : t) {
            need[c]++; 
        }
        int start = 0;
        int minlen = INT_MAX; 
        int needCnt = t.size(); 

        for (int left = 0, right = 0; right < s.size(); ++right) {
            char curChar = s[right];
            if (need[curChar]-- > 0) {  
                needCnt--;
                if (needCnt == 0) {  
                    while (need[s[left]] < 0) {
                        need[s[left++]]++; 
                    }
                    int windowLen = right - left + 1; 
                    if (windowLen < minlen) { 
                        minlen = windowLen;
                        start = left;
                    }
                    need[s[left++]]++;
                    needCnt++;
                }
            }   
        }
        return minlen == INT_MAX ? "" : s.substr(start, minlen);
    }
};
```

#### å¸¦æ³¨é‡Šç‰ˆ

```c++
class Solution {
public: 
    string minWindow(string s, string t) {
        vector<int> need(128);
        for (auto& c : t) {
            need[c]++; 
        }
        int start = 0;
        int minlen = INT_MAX; 
        int needCnt = t.size(); 
        for (int left = 0, right = 0; right < s.size(); ++right) {
            char curChar = s[right];
            // å¦‚æœå½“å‰å­—ç¬¦æ˜¯çª—å£è¿˜éœ€è¦çš„ 
            if (need[curChar]-- > 0) {  
                needCnt--;
            }
            // needCnt == 0è¯´æ˜çª—å£åŒ…å«äº†æ‰€æœ‰tä¸­å­—ç¬¦ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ªå¯è¡Œè§£
            if (needCnt == 0) {  
                // left++ç¼©å°çª—å£ç›´åˆ°é‡åˆ°å¿…é¡»åŒ…å«çš„å­—æ¯(æ±‚æœ€ä¼˜è§£)
                while (need[s[left]] < 0) {
                    need[s[left++]]++; 
                }
                // æ¯”è¾ƒçœ‹æ˜¯å¦éœ€è¦æ›´æ–°ç»“æœ
                int windowLen = right - left + 1; 
                if (windowLen < minlen) { 
                    minlen = windowLen;
                    start = left;
                }
                // left++ç¼©å°çª—å£å¼€å§‹æ‰¾ä¸‹ä¸€ä¸ªå¯è¡Œè§£
                need[s[left++]]++;
                // å› ä¸ºç¼©å°çª—å£å‰, s[left]ä¸€å®šæ˜¯çª—å£éœ€è¦åŒ…å«çš„å­—æ¯ï¼Œå› æ­¤needCntä¹Ÿè¦è®°å¾—++
                needCnt++;
            }
        }
        return minlen == INT_MAX ? "" : s.substr(start, minlen);
    }
};
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## [424. æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦](https://leetcode.cn/problems/longest-repeating-character-replacement/):star::star:

### **é¢˜æ„**

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² `s` å’Œä¸€ä¸ªæ•´æ•° `k` ã€‚ä½ å¯ä»¥é€‰æ‹©å­—ç¬¦ä¸²ä¸­çš„ä»»ä¸€å­—ç¬¦ï¼Œå¹¶å°†å…¶æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–å¤§å†™è‹±æ–‡å­—ç¬¦ã€‚è¯¥æ“ä½œæœ€å¤šå¯æ‰§è¡Œ `k` æ¬¡ã€‚

åœ¨æ‰§è¡Œä¸Šè¿°æ“ä½œåï¼Œè¿”å› *åŒ…å«ç›¸åŒå­—æ¯çš„æœ€é•¿å­å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚*

**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šs = "ABAB", k = 2
è¾“å‡ºï¼š4
è§£é‡Šï¼šç”¨ä¸¤ä¸ª'A'æ›¿æ¢ä¸ºä¸¤ä¸ª'B',åä¹‹äº¦ç„¶ã€‚
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šs = "AABABBA", k = 1
è¾“å‡ºï¼š4
è§£é‡Šï¼š
å°†ä¸­é—´çš„ä¸€ä¸ª'A'æ›¿æ¢ä¸º'B',å­—ç¬¦ä¸²å˜ä¸º "AABBBBA"ã€‚
å­ä¸² "BBBB" æœ‰æœ€é•¿é‡å¤å­—æ¯, ç­”æ¡ˆä¸º 4ã€‚
å¯èƒ½å­˜åœ¨å…¶ä»–çš„æ–¹æ³•æ¥å¾—åˆ°åŒæ ·çš„ç»“æœã€‚
```

**æç¤ºï¼š**

- `1 <= s.length <= 105`
- `s` ä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆ
- `0 <= k <= s.length`

### å‚è€ƒé¢˜è§£

1. [weiç¥ğŸ‚ï¼](https://leetcode.cn/problems/longest-repeating-character-replacement/solutions/586648/ti-huan-hou-de-zui-chang-zhong-fu-zi-fu-eaacp)

### æ€è·¯

==:star: **æ ¸å¿ƒæ€è·¯ï¼š æ»‘åŠ¨çª—å£   **:star:==

é¦–å…ˆè€ƒè™‘æš´åŠ›è§£æ³•ï¼šåˆ—ä¸¾sçš„æ‰€æœ‰å­ä¸²ï¼Œæ‰¾åˆ°  èƒ½é€šè¿‡kæ¬¡æ›¿æ¢åï¼ŒåŒ…å«ç›¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²ã€‚

æš´è§£ä¼˜åŒ–ï¼š

1. å¦‚æœå·²ç»å¾—åˆ°äº†é•¿åº¦ä¸ºLçš„å­ä¸²ï¼Œåˆ™æ¥ä¸‹æ¥åªç”¨æ‰¾æ˜¯å¦å­˜åœ¨ æ»¡è¶³æ¡ä»¶çš„ã€é•¿åº¦æ›´é•¿çš„å­ä¸²ï¼Œé•¿åº¦<=Lçš„æ‰€æœ‰å­ä¸²å°±éƒ½æ²¡æœ‰å¿…è¦è€ƒè™‘ã€‚

    > å› æ­¤çª—å£ä¸ä¼šç¼©å°ï¼Œåªä¼šæ‰©å¤§ï¼ˆright++ï¼‰æˆ–è€…ä¸å˜ï¼ˆleft++åŒæ—¶right++ï¼Œçª—å£æ»‘åŠ¨å‰è¿›ï¼‰ã€‚

2. é•¿åº¦ä¸ºLçš„å­ä¸²å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™å·¦è¾¹ç•Œç›¸åŒçš„ã€é•¿åº¦æ›´é•¿çš„å­ä¸²ä¹Ÿä¸€å®šä¸ä¼šæ»¡è¶³

    > :question::question::question:
    >
    > è®¾è¿™ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„åŸé•¿åº¦ä¸ºLçš„å­ä¸²ï¼Œå…¶æœ€é«˜é¢‘å­—ç¬¦'A'å‡ºç°é¢‘æ¬¡ä¸ºxï¼Œå…¶ä½™'B'å‡ºç° y æ¬¡ï¼Œ'C'å‡ºç° z æ¬¡ï¼Œå› æ­¤å°±æœ‰`x>y, x>z`ã€‚åˆå› ä¸ºè¯¥å­ä¸²ä¸æ»¡è¶³æ¡ä»¶ï¼ˆkæ¬¡æ›¿æ¢æ›¿æ¢ä¸å®Œéæœ€é«˜é¢‘å­—ç¬¦ï¼‰ï¼Œå› æ­¤ `(y+z)>k`ã€‚
    > æ¥ä¸‹æ¥å·¦è¾¹ç•Œç›¸åŒçš„ã€é•¿åº¦æ›´é•¿çš„å­ä¸²æœ‰ä¸¤ç§æƒ…å†µï¼š
    >
    > 1. è‹¥åŸæœ€é«˜é¢‘å­—ç¬¦'A'è¿˜æ˜¯æœ€é«˜é¢‘å­—ç¬¦ï¼š
    >     - åˆ™'B'å’Œ'C'è¿˜æ˜¯éœ€è¦æ›¿æ¢æ‰ï¼Œä½†ç”±äº(y+z)>kï¼Œè¿˜æ˜¯æ›¿æ¢ä¸å®Œï¼Œä»ä¸æ»¡è¶³æ¡ä»¶
    > 2. è‹¥åŸéæœ€é«˜é¢‘å­—ç¬¦'B'æˆ–'C'è¶…è¿‡äº†'A'å˜æˆäº†æœ€é«˜é¢‘å­—ç¬¦ï¼š
    >     - å‡è®¾æ˜¯'B'å˜æˆäº†æœ€é«˜é¢‘å­—ç¬¦ï¼Œåˆ™ `y'>x, y'>z`ã€‚è¦æ›¿æ¢'A'å’Œ'C'ï¼Œæœ‰`(x+z)`ä¸ªå­—ç¬¦éœ€è¦æ›¿æ¢ã€‚ç”±äºx>yä¸”(y+z)>kï¼Œå› æ­¤`(x+z)>(y+z)>k`ï¼Œè¿˜æ˜¯æ›¿æ¢ä¸å®Œï¼Œä»ä¸æ»¡è¶³æ¡ä»¶

**:key:  keyï¼š**

- leftå’Œrightçš„æ›´æ–°æ—¶æœºï¼š
    - leftæ›´æ–°ï¼šå½“çª—å£ä¸æ»¡è¶³æ¡ä»¶æ—¶ï¼Œ
        - ç”±äºæˆ‘ä»¬å‰é¢è¯´çš„`é•¿åº¦ä¸ºLçš„å­ä¸²å¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™å·¦è¾¹ç•Œç›¸åŒçš„ã€é•¿åº¦æ›´é•¿çš„å­ä¸²ä¹Ÿä¸€å®šä¸ä¼šæ»¡è¶³`ï¼Œå› æ­¤ä»¥è¯¥å·¦è¾¹ç•Œä¸ºèµ·ç‚¹çš„æ‰€æœ‰å­ä¸²éƒ½ä¸ç”¨å†æ‰¾äº†ï¼Œç›´æ¥ä»ä¸‹ä¸€èµ·ç‚¹left+1å¼€å§‹æ‰¾ã€‚
        - åŒæ—¶ï¼Œç”±äºæˆ‘ä»¬å‰é¢è¯´çš„`å¦‚æœå·²ç»å¾—åˆ°äº†é•¿åº¦ä¸ºLçš„å­ä¸²ï¼Œåˆ™æ¥ä¸‹æ¥åªç”¨æ‰¾æ˜¯å¦å­˜åœ¨ æ»¡è¶³æ¡ä»¶çš„ã€é•¿åº¦æ›´é•¿çš„å­ä¸²ï¼Œé•¿åº¦<=Lçš„æ‰€æœ‰å­ä¸²å°±éƒ½æ²¡æœ‰å¿…è¦è€ƒè™‘`ï¼Œå› æ­¤çª—å£ä¸ä¼šç¼©å°ã€‚æˆ‘ä»¬åœ¨left++çš„åŒæ—¶right++ï¼Œå°±ç»´æŒäº†çª—å£å¤§å°ä¸å˜ï¼Œç›¸å½“äºçª—å£æ»‘åŠ¨å‰è¿›ã€‚
    - rightæ›´æ–°ï¼šæ‰¾æ˜¯å¦æœ‰æ»¡è¶³æ¡ä»¶çš„**æ›´é•¿**å­ä¸²æ—¶ï¼Œæ‰©å¤§çª—å£ã€‚

**:question:   problems:** 

1. å­ä¸²ä»€ä¹ˆæ—¶å€™ä¸æ»¡è¶³æ¡ä»¶?
2. æ€ä¹ˆç»´æŠ¤çª—å£çš„æœ€å¤§é¢‘æ¬¡ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å½“kæ¬¡æ›¿æ¢æ›¿æ¢ä¸å®Œéæœ€é«˜é¢‘å­—ç¬¦ï¼ˆlen - maxCntï¼‰æ—¶

2. ä¸€å¼€å§‹æƒ³çš„æ˜¯ç”¨multimap<int, cnt> map;ç»´æŠ¤å­—ç¬¦å‡ºç°é¢‘æ¬¡ï¼ˆå‡åºï¼‰ä»¥åŠå¯¹åº”å­—ç¬¦ï¼Œä½†å…¶å®æ²¡å¿…è¦ã€‚åªéœ€è¦ç”¨ä¸€ä¸ªå˜é‡maxCntç»´æŠ¤æœ€é«˜é¢‘å­—ç¬¦çš„é¢‘æ¬¡å°±è¡Œï¼Œæ²¡å¿…è¦ç»´æŠ¤å¯¹åº”å­—ç¬¦ã€‚

    å› ä¸ºåªæœ‰åœ¨çª—å£è¿›æ¥å­—ç¬¦æ—¶ï¼Œæœ€é«˜é¢‘å­—ç¬¦çš„é¢‘æ¬¡æ‰å¯èƒ½å˜åŒ–ï¼Œå› æ­¤ç›´æ¥å°†æ›´æ–°maxCntçš„é€»è¾‘å†™åœ¨right++çª—å£ç§»å…¥å­—ç¬¦çš„åé¢å³å¯ã€‚

**:small_red_triangle_down: steps: **

1.  å…ˆright++æ‰©å¤§çª—å£ï¼ˆåŒæ—¶è¦æ›´æ–°maxCntï¼‰ç›´åˆ°çª—å£ä¸æ»¡è¶³æ¡ä»¶ï¼ˆlen - maxCnt > kï¼‰
2.  left++åŒæ—¶right++çª—å£å¹³ç§»æ»‘åŠ¨
3.  æ›´æ–°res
4.  ç»§ç»­é‡å¤ä¸Šè¿°æ­¥éª¤

### ä»£ç 

```c++
int characterReplacement(string s, int k) {
    int maxlen = 0, maxCnt = 1;//maxCntç»´æŠ¤æœ€é«˜é¢‘å­—ç¬¦çš„é¢‘æ¬¡
    vector<int> win(128);
    int left = 0, right = 0;
    while (right < s.size()) {
        win[s[right]]++;
        maxCnt = max(maxCnt, win[s[right]]);
        if (right - left + 1 - maxCnt > k) win[s[left++]]--;
        maxlen = max(maxlen, right - left + 1);
        right++;
    }
    return maxlen;//ä¹Ÿå¯ä»¥ç›´æ¥è¿”å›right-1 - left + 1 å³right-left
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)  

- ç©ºé—´å¤æ‚åº¦ï¼šO(1)

## :fire:[438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)

### é¢˜æ„

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `s` å’Œ `p`ï¼Œæ‰¾åˆ° `s` ä¸­æ‰€æœ‰ `p` çš„ **å¼‚ä½è¯** çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

**å¼‚ä½è¯** æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚

**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "cbaebabacd", p = "abc"
è¾“å‡º: [0,6]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
```

 **ç¤ºä¾‹ 2:**

```
è¾“å…¥: s = "abab", p = "ab"
è¾“å‡º: [0,1,2]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
```

**æç¤º:**

- `1 <= s.length, p.length <= 3 * 104`
- `s` å’Œ `p` ä»…åŒ…å«å°å†™å­—æ¯



> è¯¥é¢˜å’Œ:fire:[76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/)çš„åŒºåˆ«åœ¨äºï¼š
>
> - 76 æ‰¾çš„æ˜¯ s ä¸­åŒ…å« t çš„æœ€çŸ­å­ä¸²ï¼Œå­ä¸²å¯ä»¥æœ‰å…¶å®ƒå­—ç¬¦
> - 438 æ‰¾çš„æ˜¯ s ä¸­æ‰€æœ‰ t çš„å¼‚ä½è¯å­ä¸²ï¼Œå­ä¸²ä¸å¯ä»¥æœ‰å…¶å®ƒå­—ç¬¦
>
> å› æ­¤ 438 å°±ä¸èƒ½å’Œ 76 ä¸€æ ·ï¼Œç”¨needCntæ¥åˆ¤æ–­çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶äº†ã€‚å› ä¸ºï¼š
>
> - needCntåªå’Œçª—å£éœ€è¦çš„å­—ç¬¦ç›¸å…³ï¼Œå¦‚æœçª—å£è¿›æ¥äº†ä¸éœ€è¦çš„å­—ç¬¦ï¼Œä¸ä¼šå½±å“åˆ°needCntï¼Œå› æ­¤needCnt==0æ—¶çª—å£å¯èƒ½å­˜åœ¨ç€çª—å£ä¸éœ€è¦çš„å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ438è¿™é¢˜ä¹Ÿç”¨needCntæ¥åˆ¤æ–­çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œåˆ™æ— æ³•ä¿è¯çª—å£åªåŒ…å«æ‰€éœ€è¦çš„ t ä¸­å­—ç¬¦ã€‚
>
> æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªvectoræ¥åˆ¤æ–­ï¼ˆå­˜æ”¾å·®å€¼ï¼Œçª—å£ä¸­æ¯ä¸ªtä¸­å­—ç¬¦è¿˜éœ€è¦å‡ºç°å¤šå°‘æ¬¡ï¼‰ï¼Œç”±äºçª—å£ä¸­å§‹ç»ˆåªä¼šæœ‰éœ€è¦çš„tä¸­å­—ç¬¦ï¼Œå› æ­¤è¿™æ ·åˆ¤æ–­çª—å£å¤§å°æ˜¯å¦ä¸ºt.size()å°±èƒ½çŸ¥é“çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚â€”â€”â€”â€” æ€è·¯1
>
> å½“ç„¶ä¹Ÿå¯ä»¥ç”¨ä¸¤ä¸ªæ•°ç»„needï¼Œwinåˆ¤æ–­ï¼ˆåˆ†åˆ«å­˜æ”¾tçš„å­—æ¯é¢‘æ¬¡ï¼Œçª—å£å†…å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡ï¼‰ã€‚â€”â€”â€”â€” æ€è·¯2

### æ€è·¯1

==:star: **æ ¸å¿ƒæ€è·¯ï¼šæ»‘åŠ¨çª—å£ **:star:==

![image-20240403203227528](https://cdn.jsdelivr.net/gh/808bass666/picBed@main/202404032032621.png)

**:question:   problems:** 

1. ä»€ä¹ˆæ—¶å€™æ”¶ç¼©çª—å£ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å½“é‡åˆ°ä¸éœ€è¦çš„å­—ç¬¦æ—¶ï¼Œå³need[s[right]]--å<0ï¼Œå°±è¯´æ˜s[right]æ˜¯ä¸éœ€è¦çš„å­—ç¬¦

**:small_red_triangle_down:  steps: **

1.  ç»Ÿè®¡ p ä¸­å­—ç¬¦å‡ºç°é¢‘æ¬¡ä½œä¸ºneedæ•°ç»„ã€‚

2. å·¦å³åŒæŒ‡é’ˆåˆå§‹åŒ–ï¼Œå¼€å§‹å‘å³æ»‘åŠ¨çª—å£ã€‚

    - å¦‚æœs[right]æ˜¯ä¸éœ€è¦çš„å­—ç¬¦ï¼Œé‚£å°±æ”¶ç¼©å·¦ä¾§è¾¹ç•Œã€‚æ”¶ç¼©åˆ°ä»€ä¹ˆæ—¶å€™å‘¢ï¼Ÿåˆ†ä¸¤ç§æƒ…å†µï¼š

        1. è‹¥s[right]æ˜¯å¤šäº†çš„ï¼Œæ­¤æ—¶éœ€è¦left++æ”¶ç¼©çª—å£ç›´åˆ°å°†çª—å£ä¸­ç¬¬ä¸€ä¸ª=s[right]çš„å€¼ç§»å‡ºçª—å£

        2. è‹¥çª—å£åŸæœ¬å°±ä¸éœ€è¦s[right]ï¼Œå¯ä»¥æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š

            - å¯ä»¥å°†leftç›´æ¥ç§»åˆ°right+1ï¼Œçª—å£å¤§å°ç›´æ¥ç¼©ä¸º0ï¼Œç„¶åå°†needä¸­å…ƒç´ é‡æ–°åˆå§‹åŒ–ä¸ºpä¸­å­—ç¬¦å‡ºç°é¢‘æ¬¡ã€‚

                > æ˜¯è¿™æ ·å†™ä¼šå¹³æ·»éº»çƒ¦ã€‚
                >
                > å› ä¸ºå¦‚æœå°†leftç›´æ¥ç§»åˆ°right+1ï¼Œåˆ™`s[right]æ˜¯å¤šäº†çš„`å’Œ`çª—å£åŸæœ¬å°±ä¸éœ€è¦s[right]`è¿™ä¸¤ç§æƒ…å†µå°±ä¸èƒ½åˆå¹¶ï¼Œè¦åˆ†å¼€å†™å¤„ç†é€»è¾‘ï¼Œé‚£ä¹Ÿå°±éœ€è¦é€»è¾‘åˆ¤æ–­å±äºå“ªä¸€ç§æƒ…å†µï¼Œç„¶åè¿›å…¥å„è‡ªçš„å¤„ç†é€»è¾‘ï¼Œå¯¹äº`çª—å£åŸæœ¬å°±ä¸éœ€è¦s[right]`è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±éœ€è¦åˆ¤æ–­s[right]æ˜¯å¦å­˜åœ¨pä¸²ä¸­ï¼Œé‚£å°±éœ€è¦O(n)çš„ç©ºé—´å­˜æ”¾pä¸­å­—ç¬¦å‡ºç°é¢‘æ¬¡ï¼Œè®¾ç”¨pCntæ•°ç»„å­˜æ”¾ï¼Œä¸”æ¯æ¬¡è¿˜éœ€è¦è®©needåˆå§‹åŒ–ä¸ºpCntã€‚

            - ä¹Ÿå¯ä»¥å¤ç”¨ç¬¬ä¸€ç§æƒ…å†µçš„å¾ªç¯è®©left++æ”¶ç¼©çª—å£ç›´åˆ°çª—å£å¤§å°ç¼©ä¸º0

    - çª—å£é•¿åº¦ä¸pé•¿åº¦ä¸€è‡´æ—¶è¾¾æˆæ¡ä»¶ 

#### ä»£ç 

```c++
class Solution {
public:
    vector<int> findAnagrams(string s, string t) {
        vector<int> res;
        vector<int> need(128);  //å­˜æ”¾çª—å£ä¸­è¿˜éœ€è¦çš„tä¸­å­—ç¬¦æ•°
        for (auto ch : t) {
            need[ch]++;
        }
        int start = 0;
        for (int left = 0, right = 0; right < s.size(); ++right) {
            need[s[right]]--;
            // 1.é‡åˆ°è¿˜éœ€è¦çš„å­—ç¬¦ï¼šç›´æ¥need[s[right]]--;ååˆ¤æ–­çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶å°±å®Œäº†
            // 2.1 é‡åˆ°å¤šä½™çš„å­—ç¬¦ï¼šç¼©å°çª—å£ç›´åˆ°æŠŠä¸å¤šä½™å­—ç¬¦s[right]ç›¸åŒçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ç§»å‡ºçª—å£ï¼ˆç§»å‡ºåneed[s[right]]=0ï¼‰
            // 2.2 é‡åˆ°æ ¹æœ¬ä¸éœ€è¦çš„å­—ç¬¦ï¼šçª—å£ç¼©ä¸º0
            
            // 2çš„ä¸¤ç§æƒ…å†µå¯ä»¥åˆå¹¶ï¼š
            while (need[s[right]] < 0) {
                need[s[left++]]++;
            }
            // åˆ¤æ–­çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶
            if (right - left + 1 == t.size()) {
                res.emplace_back(left);
            }
        }
        return res;
    }
};
```

ä¸åº”è¯¥å†™æˆå¦‚ä¸‹ä»£ç ï¼š(è¿™æ ·å†™å°±æ˜¯ ä¸åˆå¹¶ä¸¤ç§æƒ…å†µçš„å¤„ç†é€»è¾‘ï¼Œè€Œæ˜¯åˆ†å¼€å¤„ç†)

```cpp
vector<int> findAnagrams(string s, string p) {
    int s_len = s.size();
    int p_len = p.size();
    if(s_len < p_len) return {};
    vector<int> need(26);
    vector<int> pCnt(26); //ç”¨pä¸­å­—ç¬¦å‡ºç°é¢‘æ¬¡åˆå§‹åŒ–ä¹‹åå°±ä¸ä¼šå†å˜
    for(auto ch : p) {
        ++need[ch - 'a']; 
        ++pCnt[ch - 'a']; 
    }
    vector<int> ans;
    for(int left = 0, right = 0; right < s_len; ++right) {
        need[s[right] - 'a']--;
        // å¦‚æœs[right]æ˜¯ä¸éœ€è¦çš„å­—ç¬¦ï¼Œé‚£å°±æ”¶ç¼©å·¦ä¾§è¾¹ç•Œã€‚
        if (need[s[right] - 'a'] < 0) {
            // ä¸åˆå¹¶ä¸¤ç§æƒ…å†µçš„å¤„ç†é€»è¾‘, å¦‚ä¸‹:
            if (pCnt[s[right] - 'a'] == 0) {
                // (1) çª—å£åŸæœ¬å°±ä¸éœ€è¦s[right]ï¼Œ
                // å°†leftç›´æ¥ç§»åˆ°right+1ï¼Œçª—å£å¤§å°ç›´æ¥ç¼©ä¸º0ï¼Œç„¶åå°†needä¸­å…ƒç´ é‡æ–°åˆå§‹åŒ–
                left = right + 1;
                need = pCnt;
            }
            else {
                // (2) s[right]æ˜¯å¤šäº†çš„ï¼Œ
                // left++æ”¶ç¼©çª—å£ç›´åˆ°å°†çª—å£ä¸­ç¬¬ä¸€ä¸ª=s[right]çš„å€¼ç§»å‡ºçª—å£
                while(need[s[right] - 'a'] < 0) {
                    ++need[s[left] - 'a'];
                    ++left;
                }
            }
        }
        if(right - left + 1 == p_len) {
            ans.emplace_back(left);
        }
    }
    return ans;
}
```

### æ€è·¯2

==:star: **æ ¸å¿ƒæ€è·¯ï¼šæ»‘åŠ¨çª—å£   **:star:==

> ç¢ç¢å¿µ...
>
> èµ·åˆè‡ªå·±çš„æ€è·¯æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å½“æ—¶æ²¡æƒ³æ¸…æ¥šåœ¨åˆ°åº•ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„å®ç°ã€ç”¨ä¸€ä¸ªè¿˜æ˜¯ä¸¤ä¸ªç»“æ„å®ç°ï¼Œåœ¨å…·ä½“å®ç°ä¸Šé‡äº†bugï¼Œä»¥ä¸ºæ˜¯è‡ªå·±å“ªé‡Œæƒ³é”™äº†ã€‚
>
> ä¹‹åçœ‹äº†å‡ å°æ—¶åˆ«äººçš„é¢˜è§£:crying_cat_face:ï¼Œå­¦åˆ°äº†ä¸€äº›è§£æ³•ä½†æ˜¯éƒ½æ²¡æ‰¾åˆ°æˆ‘æƒ³è¦çš„ï¼Œæœ€ååœ¨è®¨è®ºåŒºå‘ç°ä¸€ä¸ªå¾ˆå¤šäººéƒ½è¯´å¾ˆç²¾å¦™çš„è§£æ³•äºæ˜¯å°±å»ç ”ç©¶ï¼Œæ„Ÿè§‰å’Œæˆ‘çš„æ€è·¯å·®ä¸å¤šï¼Œä½†æ˜¯ä»–è¿™æ ·å­å°±å†™çš„å¾ˆéš¾ç†è§£ã€‚ã€‚æ˜æ˜æ²¡å¿…è¦ææˆè¿™æ ·å•Šã€‚
>
> åœ¨çœ‹é¢˜è§£çš„è¿‡ç¨‹ä¸­æˆ‘å·®ä¸å¤šæ˜ç™½äº†æˆ‘è¿™ç§æ€è·¯ é€‰æ‹©ä»€ä¹ˆæ•°æ®ç»“æ„ã€å‡ ä¸ªæ•°æ®ç»“æ„æœ€å¥½æ‡‚ï¼Œäºæ˜¯å¼€å¹²ï¼
>
> å…ˆæŠŠè‡ªå·±æ€è·¯å†æ‹é¡ºä¸€ä¸‹ç„¶åé‡æ–°å¼€å†™ï¼Œå¾ˆå¿«å•Šï¼Œå•ªçš„ä¸€ä¸‹ï¼Œä¸€æ¬¡ACï¼ï¼å‡»è´¥99.58%ï¼æˆ‘åˆå¼€å¿ƒäº†èŠœæ¹–~ã€‚

**:key:  keyï¼š**

- ç”¨ä¸¤ä¸ªæ•°ç»„needï¼Œwinåˆ†åˆ«å­˜æ”¾ pçš„å­—æ¯é¢‘æ¬¡ï¼Œçª—å£å†…å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡ã€‚

- å¯¹äºå³å°†ç§»å…¥çª—å£çš„s[r]ï¼Œæœ‰å‡ ç§æƒ…å†µï¼šçª—å£è¿˜éœ€è¦s[r]ã€çª—å£ä¸éœ€è¦s[r]ã€‚å…¶ä¸­ï¼Œçª—å£ä¸éœ€è¦s[r]åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š

    - t ä¸­å­˜åœ¨s[r]ï¼Œå†æŠŠs[r]åŠ è¿›æ¥å°±è¶…å‡ºéœ€è¦äº†

    - t ä¸­ä¸å­˜åœ¨s[r]ï¼Œå› æ­¤çª—å£æ ¹æœ¬å°±ä¸èƒ½åŒ…å«s[r]ï¼Œæœ¬è¦æ„æˆå¼‚ä½è¯çš„çª—å£è¢«æ‰“æ–­

- å¯¹äºè¿™ä¸‰ç§æƒ…å†µï¼Œåˆ†åˆ«å¯¹åº”çš„å¤„ç†é€»è¾‘æ˜¯ï¼š

    1. çª—å£è¿˜éœ€è¦s[r]ï¼Œè‡ªç„¶è¦æŠŠs[r]åŠ è¿›æ¥ï¼š
        - å°† s[r] åœ¨çª—å£ä¸­è¿˜éœ€è¦å‡ºç°çš„é¢‘æ¬¡ --ï¼Œç„¶å r++ å°†å…¶ç§»å…¥çª—å£ã€‚
        - å¦‚æœæ­¤æ—¶çª—å£å¤§å°==p.size()å°±å¯ä»¥ç›´æ¥å­˜ç»“æœäº†
    2. çª—å£ä¸­å‡ºç°çš„s[r]å·²å¤Ÿï¼š
        - leftä¸æ–­å³ç§»è‡³ä¸çª—å£ä¸­ä¸s[r]ç›¸åŒçš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼ŒåŒæ—¶s[left]åœ¨çª—å£ä¸­è¿˜éœ€è¦å‡ºç°çš„é¢‘æ¬¡++
    3. s[r]æœ¬å°±ä¸æ˜¯ t ä¸­å­—ç¬¦ï¼š
        - æ¸…ç©º å­˜æ”¾ çª—å£ä¸­å­—ç¬¦å‡ºç°é¢‘æ¬¡ çš„vector
        - leftç›´æ¥ç§»è‡³right+1ï¼Œright++ å’ŒleftæŒ‡å‘åŒä¸€ä½ç½®

    > æ˜¯ä¸æ˜¯ä¼¼æ›¾ç›¸è¯†å“ˆå“ˆå“ˆï¼[3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)

**:question:   problems:** 

1. ä¸ºä»€ä¹ˆç¬¬ä¸€ç§æƒ…å†µï¼Œçª—å£å¤§å°==t.size()å°±å¯ä»¥ç›´æ¥å­˜ç»“æœ?
2. ä¸ºä»€ä¹ˆæƒ…å†µ2 å¯ä»¥è¿™æ ·å¤„ç†ï¼Ÿ

:heavy_check_mark:  **answer:** 

1. å› ä¸ºæ‰§è¡Œè¯¥æ¬¡å¾ªç¯å‰ï¼Œçª—å£å¤§å°éƒ½åˆ°t.size()-1äº†ã€‚å¦‚æœä¸­é—´æœ‰å‡ºç° t ä¸­ä¸å­˜åœ¨çš„å­—ç¬¦ æˆ–è€… å‡ºç°æ¬¡æ•°è¶…è¿‡çš„å­—ç¬¦ï¼Œé‚£ä¹ˆçª—å£é©¬ä¸Šå°±ä¼šå› ä¸ºleftå³ç§»è¢«ç¼©å°ï¼Œä¸å¯èƒ½è¿˜è®©çª—å£åˆ°t.size()-1çš„å¤§å°ï¼ˆå½“ç„¶å‰æä¸è¦å¿˜äº†ï¼Œs[r]æ˜¯å¤„äºç¬¬ä¸€ç§æƒ…å†µï¼Œå³è¯¥æ¬¡å¾ªç¯s[r]ä»æ˜¯è¢«éœ€è¦çš„å­—ç¬¦ï¼‰
2. å› ä¸ºï¼šè®¾ä¸s[r]ç›¸åŒçš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯s[m]ï¼Œä»leftåˆ°mè¿™ä¸­é—´çš„æ‰€æœ‰å­—ç¬¦è‚¯å®šæ˜¯æ— æ³•æ„æˆå¼‚ä½è¯äº†ï¼Œå› ä¸ºçª—å£é•¿åº¦è¿˜ä¸å¤Ÿt.size()å°±è¢«å¤šå‡ºæ¥çš„s[r]æ‰“æ–­äº†ï¼Œå› æ­¤[left,m]éƒ½å¯ä»¥ç›´æ¥è·³è¿‡ã€‚æƒ…å†µ3 ä¹Ÿæ˜¯å·®ä¸å¤šæ„æ€ã€‚

#### ä»£ç 

##### æ— æ³¨é‡Šç‰ˆ

```c++
vector<int> findAnagrams(string s, string p) {
    vector<int> res;
    vector<int> need(128);
    vector<int> win(128);
    for (char &c : p) need[c]++;

    int left = 0, right = 0;
    while (right < s.size()){
        if (win[s[right]] < need[s[right]]){
            win[s[right++]]++;
            if (right - left == p.size()) res.push_back(left);
        }
        else if (win[s[right]] == need[s[right]]){
            while (win[s[right]] == need[s[right]]) win[s[left++]]--;
        }
        else if (need[s[right]] == 0){
            win.clear();
            left = right + 1; right++;
        }
    }
    return res;
}
```

##### å¸¦æ³¨é‡Šç‰ˆ

```c++
vector<int> findAnagrams(string s, string p) {
    vector<int> res;
    vector<int> need(128);//å­˜å‚¨pçš„å­—æ¯é¢‘æ¬¡
    vector<int> win(128);//å­˜å‚¨çª—å£å†…å­—ç¬¦çš„å‡ºç°é¢‘æ¬¡
    //ä¹Ÿå¯ä»¥éƒ½ç”¨26çš„å¤§å°ï¼Œåªä¸è¿‡å–å­—ç¬¦æ—¶å°±è¦åš-'a'æ˜ å°„
    for (char &c : p) need[c]++;

    int left = 0, right = 0;
    while (right < s.size()){
        if (win[s[right]] < need[s[right]]){//çª—å£ä¸­å‡ºç°çš„s[r]ä¸å¤Ÿï¼Œè‡ªç„¶è¦æŠŠs[r]åŠ è¿›æ¥
            win[s[right++]]++;
            if (right - left == p.size()) res.push_back(left);
            // æƒ³æ¸…æ¥šä¸ºä»€ä¹ˆçª—å£å¤§å°==p.size()å°±å¯ä»¥ç›´æ¥å­˜ç»“æœï¼Ÿ
        }
        else if (win[s[right]] == need[s[right]]){ //çª—å£ä¸­å‡ºç°çš„s[r]å·²å¤Ÿï¼Œå†æŠŠs[r]åŠ è¿›æ¥å°±è¶…äº†
            // è®©leftå³ç§»è‡³ä¸s[r]ç›¸åŒçš„å­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®
            while (win[s[right]] == need[s[right]]) win[s[left++]]--;
            //é€€å‡ºå¾ªç¯æ—¶win[s[right]] = need[s[right]] - 1ï¼Œæ­¤æ—¶çª—å£åˆšæŠŠ=s[r]çš„é‚£ä¸ªå­—ç¬¦çš„é¢‘æ¬¡--ï¼ŒleftæŒ‡å‘ä¸‹ä¸€ä¸ªå­—ç¬¦
        }
        else if (need[s[right]] == 0){ //è‹¥s[r]æœ¬å°±ä¸æ˜¯pä¸­å­—ç¬¦ï¼Œåˆ™leftå³ç§»è‡³right+1
            //å¯ä»¥åŠ ä¸ªä¼˜åŒ–ï¼Œè‹¥right==n-1ï¼Œæ­¤æ—¶å°±å¯ä»¥ç›´æ¥return res;è€Œä¸ç”¨åœ¨ç»§ç»­å¾€åéå†äº†
            while (left != right) win[s[left++]]--;
            left++; right++;
        }
    }
    return res;
}
```

### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n). æ—¶é—´å¤æ‚åº¦ä¸»è¦æ˜¯çœ‹æ¯ä¸€ä¸ªå…ƒç´ è¢«æ“ä½œçš„æ¬¡æ•°ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½æœ€å¤šåªä¼šè¿›çª—å£ä¸€æ¬¡ï¼Œå‡ºçª—å£ä¸€æ¬¡ã€‚æ¯ä¸ªå…ƒç´ éƒ½æ˜¯è¢«æ“ä½œä¸¤æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯ 2 Ã— n ä¹Ÿå°±æ˜¯O(n)ã€‚

- ç©ºé—´å¤æ‚åº¦ï¼šO(1). 26æ˜¯å¸¸æ•°
